<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Manager Guide: UMM Daemon Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Manager Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ummdaemonoverview.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">UMM Daemon Overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The UMM Daemon serves license and configuration information to UM applications. A UMM Daemon requires either a umm.properties file or command line options. See ummd for information about the daemon's command line options. The UMM Daemon requires a license for either UMP or UMQ.</p>
<p><br />
 </p>
<h1><a class="anchor" id="ummconfiguration"></a>
UMM Configuration&nbsp;&nbsp;<small><a href="#ummconfiguration">&lt;-</a></small></h1>
<p>Follow the procedure below to configure UMM:</p>
<ol>
<li>
<p class="startli">Edit the <a class="el" href="ummdaemonoverview.html#ummpropertiesfile">umm.properties File</a> to specify your UMM database information, the daemon's port number and whether you will use SSL.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Edit the <a class="el" href="ummdaemonoverview.html#ummdbatorummdshfile">ummd.bat or ummd.sh File</a> that starts UMM Daemon. The appropriate driver jar file name must be added to the classpath. Specify your certificate file or Java keystore information if using SSL certificates.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Edit the <a class="el" href="ummdaemonoverview.html#ummbatorummshfile">umm.bat or umm.sh File</a> that starts the UMM GUI. The appropriate driver jar file name must be added to the classpath.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">See <a class="el" href="ummdaemonoverview.html#connectingyourapplicationstotheummdaemon">Connecting Your Applications to the UMM Daemon</a> to configure your applications with either environment variables or APIs so they can connect to UMM Daemon.</p>
<p class="endli"></p>
</li>
<li>
Optional: see <a class="el" href="ummdaemonoverview.html#securingummdaemoncommunicationwithssl">Securing UMM Daemon Communication with SSL</a> to configure SSL. </li>
</ol>
<p><br />
 </p>
<h2><a class="anchor" id="ummpropertiesfile"></a>
umm.properties File&nbsp;&nbsp;<small><a href="#ummpropertiesfile">&lt;-</a></small></h2>
<p>Contains database information such as the database username, password and driver. The simplest way to configure UMM is to edit this file to reflect your configuration database. The other two batch files or shell scripts automatically look to umm.properties for database information. This file, however, is optional. You could specify database information with options in the UMM Daemon and UMM GUI batch files or shell scripts. The umm.properties provided with installation appears below.</p>
<pre class="fragment">################## mySQL example ##############################
LBM_LICENSE_FILENAME=lbm.lic
database_password=admin
database_jdbc_object=com.mysql.jdbc.Driver
database_username=admin
db_url=jdbc:mysql://10.29.3.112:3306/name
secure="false"      #Only used by ummd.
port="15701"    #Only used by ummd.
################## Oracle example ##############################
#database_password=admin
#database_jdbc_object=oracle.jdbc.driver.OracleDriver
#database_username=system
#db_url=jdbc:oracle:thin:@//localhost:1521/xe
</pre><p><br />
 </p>
<h2><a class="anchor" id="ummdbatorummdshfile"></a>
ummd.bat or ummd.sh File&nbsp;&nbsp;<small><a href="#ummdbatorummdshfile">&lt;-</a></small></h2>
<p>Specifies the needed information to run the UMM Daemon. By default, the ummd.bat/sh looks to umm.properties for database information. You can override the umm.properties file settings with ummd options. See the <a class="el" href="manpageforummd.html">Man Page for ummd</a>. See the installed files ummd.bat (Windows) or ummd.sh (Unix) for invocation examples.</p>
<p><br />
 </p>
<h2><a class="anchor" id="ummbatorummshfile"></a>
umm.bat or umm.sh File&nbsp;&nbsp;<small><a href="#ummbatorummshfile">&lt;-</a></small></h2>
<p>Specifies the needed information to run the UMM GUI. By default, the umm.bat/sh looks to umm.properties for database information. You can override the umm.properties file settings with ummd options. See the installed files umm.bat (Windows) or umm.sh (Unix) for invocation examples.</p>
<p>The same options available to the UMM Daemon (manpage for ummd) are also available for the umm.bat batch file and the umm.sh shell script. The following two options are also available:</p>
<ul>
<li>
-a UMM username </li>
<li>
-b UMM password </li>
</ul>
<p>These options allow the UMM GUI user to skip the username and password dialog box when starting the GUI, but limits you to one user. See <a class="el" href="managingusers.html">Managing Users</a> for information about creating users and assigning passwords and applications to them.</p>
<p><br />
 </p>
<h1><a class="anchor" id="connectingyourapplicationstotheummdaemon"></a>
Connecting Your Applications to the UMM Daemon&nbsp;&nbsp;<small><a href="#connectingyourapplicationstotheummdaemon">&lt;-</a></small></h1>
<p>To use UMM with your installation of Ultra Messaging, you must use the following environment variable for every application/user combination: <br />
<code>export LBM_UMM_INFO=</code><em>application_name</em><code>:</code><em>user_name</em><code>:</code><em>password</em><code>@</code><em>ip</em><code>:</code><em>port</em></p>
<p>For example: <br />
<code>export LBM_UMM_INFO=lbmrcv:default:default@10.29.3.95:21273</code></p>
<ol>
<li>
<p class="startli">At start up, your UM application contacts the UMM Daemon at the given ip and port. You can specify multiple daemon locations in comma-separated format. For example: <br />
<code>@10.29.3.11:21273,10.29.3.22:21273,10.29.3.33:21273</code> <br />
Your application tries to connect in a round robin fashion if the daemon with index 0 fails.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">If the connection succeeds, the UMM Daemon authenticates the connection with the user_name and password specified in the environment variable. (See Managing Users for information about creating users and assigning passwords and applications to them.)</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Upon successful authentication, the UMM Daemon serves the license and configuration information associated with the user and application_name.</p>
<p class="endli"></p>
</li>
<li>
The UMM Daemon closes the connection with your application. </li>
</ol>
<p>You can specify the same information directly in your applications with the C API, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/UMM/api.tag:../API/" href="../API/lbm_8h.html#aab029e3f210b40f3fded64fec2a27a02">lbm_set_umm_info()</a>, and the Java API and .NET API, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/UMM/javaapi.tag:../JavaAPI/" href="../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBM.html#a030233dfb74d4413749182124211c570">com::latencybusters::lbm::LBM::setUmmInfo()</a>. These must be the first calls made by your applications.</p>
<p><br />
 </p>
<h1><a class="anchor" id="configuringtheummdatabase"></a>
Configuring the UMM Database&nbsp;&nbsp;<small><a href="#configuringtheummdatabase">&lt;-</a></small></h1>
<p>Informatica has demonstrated operation with JDBC interfaces to MySQL and Oracle databases. You may be able to use other JDBC databases, but Informatica has only tested with MySQL and Oracle.</p>
<p><br />
 </p>
<h2><a class="anchor" id="oracleconsiderations"></a>
Oracle Considerations&nbsp;&nbsp;<small><a href="#oracleconsiderations">&lt;-</a></small></h2>
<p>Informatica does not supply an Oracle database or any licensing to use Oracle. You can install an Oracle database either before or after installing UM. Drivers are not shipped with UM. The Oracle driver can be downloaded at <a href="http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-10201-088211.html">http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-10201-088211.html</a>. The appropriate driver jar file name must be added to the classpath of the umm.bat/umm.sh and ummd.bat/ummd.sh scripts.</p>
<p>Configure Oracle with the following steps, which assume you have already installed UM:</p>
<ol>
<li>
<p class="startli">Install Oracle and create a database. (You provide the UMM Daemon with the database name, username and password at start up. This user name and password should be kept secure.)</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">From the Oracle command line or database home page, log into your Oracle database.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">From the Oracle command line or database home page, load /UMM/install_tables_oracle.sql. (This script installs the tables required by UMM.)</p>
<p class="endli"></p>
</li>
<li>
From the Oracle command line or database home page, load /UMM/oracle_templates.txt. (This script loads the example configuration templates for low latency and high throughput. These templates appear in the UMM GUI under Templates in the object tree in the left pane.) </li>
</ol>
<p>You can now start the UMM Daemon on the command line or with the ummd.bat batch file or the ummd.sh shell script.</p>
<p><br />
 </p>
<h2><a class="anchor" id="mysqlconsiderations"></a>
MySQL Considerations&nbsp;&nbsp;<small><a href="#mysqlconsiderations">&lt;-</a></small></h2>
<p>Informatica does not supply MySQL or any licensing to use MySQL. You can install MySQL either before or after installing UM. Drivers are not shipped with UM. The MySQL driver can be downloaded at <a href="http://dev.mysql.com/downloads/connector/j/5.0.html">http://dev.mysql.com/downloads/connector/j/5.0.html</a>. The appropriate driver jar file name must be added to the classpath of the umm.bat/umm.sh and ummd.bat/ummd.sh scripts.</p>
<p>Configure MySQL with the following steps, which assume you have already installed UM:</p>
<ol>
<li>
<p class="startli">Install MySQL.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Create a database. (You provide the UMM Daemon with the database name, username and password at start up. This user name and password should be kept secure.)</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Log into the MySQL with connect db_name.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">From the MySQL command prompt, run source /UMM/install_tables_mysql.sql. (This script installs the tables required by UMM.)</p>
<p class="endli"></p>
</li>
<li>
From the MySQL command prompt, run: <pre class="fragment">LOAD DATA INFILE 'mysql_templates.txt' INTO TABLE TEMPLATE;
</pre> (This script loads the example configuration templates for low latency and high throughput. These templates appear in the UMM GUI under Templates in the object tree in the left pane.) </li>
</ol>
<p>You can now start the UMM Daemon on the command line or with the ummd.bat batch file or the ummd.sh shell script.</p>
<p><br />
 </p>
<h1><a class="anchor" id="securingummdaemoncommunicationwithssl"></a>
Securing UMM Daemon Communication with SSL&nbsp;&nbsp;<small><a href="#securingummdaemoncommunicationwithssl">&lt;-</a></small></h1>
<p>UMM allows you to secure the TCP transmission of UMM credentials and UM license keys between the UMM Daemon and UM applications using Secure Sockets Layer (SSL). You can implement a certificate-less, Transport Layer Security (TLS) option or provide your own certificate to authenticate the UMM Daemon. The following procedure explains how to secure UMM Daemon communications.</p>
<ol>
<li>
<p class="startli">In the umm.properties, set the secure option to true. </p><pre class="fragment">secure=true
</pre><p> If you run the UMM Daemon from the command line, use -s true.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">In the Connecting Your Applications to the UMM Daemon, pre-pend the application information with ssl:. </p><pre class="fragment">export LBM_UMM_INFO=ssl:lbmrcv:default:default@10.29.3.95:21273
</pre><p class="endli"></p>
</li>
<li>
<p class="startli">To specify a certificate, insert the certificate path and filename as shown below. Be sure to also configure ummd.bat or ummd.sh with your keystore. </p><pre class="fragment">export LBM_UMM_INFO=ssl_cert_file=path/filename:lbmrcv:default:default@10.29.3.95:21273
</pre><p>A password for the certificate file is optional and would be specified as follows.</p>
<pre class="fragment">export LBM_UMM_INFO=ssl_cert_file=path/filename:ssl_cert_file_password=psswrd:
lbmrcv:default:default@10.29.3.95:21273
</pre> </li>
</ol>
<p>You can specify the same information directly in your applications with the C API, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/UMM/api.tag:../API/" href="../API/lbm_8h.html#aab029e3f210b40f3fded64fec2a27a02">lbm_set_umm_info()</a>, and the Java API and .NET API, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/UMM/javaapi.tag:../JavaAPI/" href="../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBM.html#a030233dfb74d4413749182124211c570">com::latencybusters::lbm::LBM::setUmmInfo()</a>. These must be the first calls made by your applications. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
