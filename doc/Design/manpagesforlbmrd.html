<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Concepts Guide: Man Pages for Lbmrd</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Concepts Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('manpagesforlbmrd.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Man Pages for Lbmrd </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Unicast UDP-based Topic Resolution services are provided by the Lbm Resolver Daemon (lbmrd).</p>
<p>For more information on UDP-based TR, see <a class="el" href="architecture.html#udpbasedtopicresolutiondetails">UDP-Based Topic Resolution Details</a>. For more information on Topic Resolution general, see <a class="el" href="topicresolutiondescription.html">Topic Resolution Description</a>.</p>
<p>There are two executables for the lbmrd, each with it's own man page: </p><ul>
<li>
<a class="el" href="manpagesforlbmrd.html#lbmrdmanpage">Lbmrd Man Page</a> - Unix and Windows command-line interface. </li>
<li>
<a class="el" href="manpagesforlbmrd.html#lbmrdsmanpage">Lbmrds Man Page</a> - Windows Service interface. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="lbmrdmanpage"></a>
Lbmrd Man Page&nbsp;&nbsp;<small><a href="#lbmrdmanpage">&lt;-</a></small></h1>
<p>Unix and Windows command-line interface.</p>
<pre class="fragment">UMResolver daemon
Usage: lbmrd [options] [config-file]
Available options:
  -a, --activity=IVL    interval between client activity checks (in milliseconds)(default 60000)
  -d, --dump-dtd        dump the configuration DTD to stdout and exit
  -h, --help            display this help and exit
  -i, --interface=ADDR  listen for unicast topic resolution messages on interface ADDR
                        ADDR accepts CIDR eg:10.0.0.0/8, Quoted device name eg:"eth0", DNS Host name eg:host.mydomain.com/24.
  -L, --logfile=FILE    use FILE as the log file
  -p, --port=PORT       use UDP port PORT for topic resolution messages (default 15380)
  -t, --ttl=TTL         use client time-to-live of TTL seconds (default 60)
  -r, --rcv-buf=SIZE    set the receive buffer to SIZE bytes.
  -s, --snd-buf=SIZE    set the send buffer to SIZE bytes.
  -v, --validate        validate config-file then exit</pre><dl class="section user"><dt><b>Description</b> </dt><dd>The <code>lbmrd</code> command runs the Lbm Resolver Daemon. It can be run interactively from a shell or command prompt, or from a script or batch file. (For use as a Windows Service, see <a class="el" href="manpagesforlbmrd.html#lbmrdsmanpage">Lbmrds Man Page</a>.)</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"config-file"</b> parameter is optional. If supplied, it specifies the file path for the lbmrd's XML configuration file. If omitted, the lbmrd defaults all configuration details. See <a class="el" href="lbmrdconfigurationfile.html">lbmrd Configuration File</a> for configuration details.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-i"</b> and <b>"-p"</b> options identify the network interface IP address and port that lbmrd opens to listen for unicast topic resolution traffic. The defaults are 0.0.0.0 and 15380, respectively. Note that 0.0.0.0 is not interpreted as INADDR_ANY, it is a directive for UM to choose the first interface it finds. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16.1/doc/Design/config.tag:../Config/" href="../Config/generalconfigurationguidelines.html#specifyinginterfaces">Specifying Interfaces</a> for methods of specifying the interface. Alternatively, the <a class="el" href="lbmrdconfigurationfile.html#lbmrdelementinterface">LBMRD Element "&lt;interface&gt;"</a> and <a class="el" href="lbmrdconfigurationfile.html#lbmrdelementport">LBMRD Element "&lt;port&gt;"</a> can be used in the <a class="el" href="lbmrdconfigurationfile.html">lbmrd Configuration File</a>.</dd></dl>
<dl class="section user"><dt></dt><dd><b>WARNING</b>: It is strongly recommended to specify an interface when running lbmrd, either via the "-i" command-line option, or the <a class="el" href="lbmrdconfigurationfile.html#lbmrdelementinterface">&lt;interface&gt;</a> XML tag. Otherwise, UM will select the first interface it finds, potentially 127.0.0.1 (loopback), which is rarely a good choice. Note that CIDR notation can make it easier. For example, "10.0.0.0/8" will match any interface on the 10 network.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-a"</b> and <b>"-t"</b> options interact to detect and remove "dead" clients, i.e., client applications that are in the lbmrd active client list, but have stopped sending topic resolution queries, advertisements, or keepalives, usually due to early termination or looping. These are described in detail below.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-t"</b> option describes the length of time (in seconds), during which no messages have been received from a given client, that will cause that client to be marked "dead" and removed from the active client list. Ultra Messaging recommends a value at least 5 seconds longer than the longest network outage you wish to tolerate. Alternatively, the <a class="el" href="lbmrdconfigurationfile.html#lbmrdelementttl">LBMRD Element "&lt;ttl&gt;"</a> can be used in the <a class="el" href="lbmrdconfigurationfile.html">lbmrd Configuration File</a>.</dd></dl>
<dl class="section user"><dt></dt><dd>Option <b>"-a"</b> describes a repeating time interval (in milliseconds), after which lbmrd checks for these "dead" clients. Ultra Messaging recommends a value not larger than "-t" * 1000. Alternatively, the <a class="el" href="lbmrdconfigurationfile.html#lbmrdelementactivity">LBMRD Element "&lt;activity&gt;"</a> can be used in the <a class="el" href="lbmrdconfigurationfile.html">lbmrd Configuration File</a>.</dd></dl>
<dl class="section user"><dt></dt><dd>Note that even clients that send no topic resolution advertisements or queries will still send keepalive messages to lbmrd every 5 seconds. This value is hard-coded and not configurable.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-s"</b> option sets the send socket buffer size in bytes. Alternatively, the <a class="el" href="lbmrdconfigurationfile.html#lbmrdelementresolver_unicast_send_socket_buffer">LBMRD Element "&lt;resolver_unicast_send_socket_buffer&gt;"</a> can be used in the <a class="el" href="lbmrdconfigurationfile.html">lbmrd Configuration File</a>.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-r"</b> option sets the receive socket buffer size in bytes. Alternatively, the <a class="el" href="lbmrdconfigurationfile.html#lbmrdelementresolver_unicast_receiver_socket_buffer">LBMRD Element "&lt;resolver_unicast_receiver_socket_buffer&gt;"</a> can be used in the <a class="el" href="lbmrdconfigurationfile.html">lbmrd Configuration File</a>.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-L"</b> option specifies the file path name for the lbmrd log file. Alternatively, the <a class="el" href="lbmrdconfigurationfile.html#lbmrdelementlog">LBMRD Element "&lt;log&gt;"</a> can be used in the <a class="el" href="lbmrdconfigurationfile.html">lbmrd Configuration File</a>.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-d"</b> option dumps (prints) the lbmrd's XML DTD to standard output. After dumping the DTD, <code>lbmrd</code> exits.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-h"</b> option prints the man page and exits.</dd></dl>
<dl class="section user"><dt><b>Exit</b> <b>Status</b> </dt><dd>The exit status from lbmrd is 0 for success and some non-zero value for failure.</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="lbmrdsmanpage"></a>
Lbmrds Man Page&nbsp;&nbsp;<small><a href="#lbmrdsmanpage">&lt;-</a></small></h1>
<p>Windows Service interface.</p>
<p>See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16.1/doc/Design/operations.tag:../Operations/" href="../Operations/startupshutdownprocedures.html#umdaemonsaswindowsservices">UM Daemons as Windows Services</a> for general information about UM daemons as Windows Services.</p>
<p>Note that many operating parameters that are available in the <code>lbmrd</code> command are not available in the <code>lbmrds</code> command. For example, "-p", "-t", "-r", etc. If it is desired to set these parameters, the corresponding XML elements must be used in an lbmrd configuration file.</p>
<pre class="fragment">UMResolver service
Usage: lbmrds [options] [config-file]
Available options:
  -h, --help                display this help and exit
  -E, --env-var-file        update/set environment variable file
  -U, --unset-env-var-file  unset the environment variable file
  -S, --service=install     install the service passing configfile
  -S, --service=remove      delete/remove the service
  -S, --service=config      update configfile info to use configfile passed
  -e, --event-log-level     update/set service logging level.  This is the minimum logging
                            level to send to the Windows event log.  Valid values are:
                               NONE - Send no events
                               INFO
                               WARN - default
                               ERROR
  configfile                XML config file (if not present, looks in registry)</pre><dl class="section user"><dt><b>Description</b> </dt><dd>The <code>lbmrds</code> command has two functions: <ul>
<li>
First, it lets the user supply Windows Service operating parameters, which the command saves into the Windows registry. Those operating parameters are subsequently used by the lbmrd Service. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16.1/doc/Design/operations.tag:../Operations/" href="../Operations/startupshutdownprocedures.html#configurethewindowsservice">Configure the Windows Service</a>. </li>
<li>
Second, it provides Windows with the lbmrd Daemon executable to run as a Service. </li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"config-file"</b> parameter provides the file path for the lbmrd's XML configuration file. It is supplied in conjunction with the "-s config" option (see below). See <a class="el" href="lbmrdconfigurationfile.html">lbmrd Configuration File</a> for configuration details.</dd></dl>
<dl class="section user"><dt></dt><dd>For <b>"-S install"</b> see <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16.1/doc/Design/operations.tag:../Operations/" href="../Operations/startupshutdownprocedures.html#installthewindowsservice">Install the Windows Service</a> (note that <code>lbmrds</code> uses upper-case "-S").</dd></dl>
<dl class="section user"><dt></dt><dd>For <b>"-S remove"</b> see <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16.1/doc/Design/operations.tag:../Operations/" href="../Operations/startupshutdownprocedures.html#removethewindowsservice">Remove the Windows Service</a> (note that <code>lbmrds</code> uses upper-case "-S").</dd></dl>
<dl class="section user"><dt></dt><dd>For <b>"-S config"</b>, <b>"-e"</b>, <b>"-E"</b>, and <b>"-U"</b>, see <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16.1/doc/Design/operations.tag:../Operations/" href="../Operations/startupshutdownprocedures.html#configurethewindowsservice">Configure the Windows Service</a> (note that <code>lbmrds</code> uses upper-case "-S").</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-h"</b> option prints the man page and exits.</dd></dl>
<dl class="section user"><dt><b>Exit</b> <b>Status</b> </dt><dd>The exit status from lbmrd is 0 for success and some non-zero value for failure.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Do not use the task manager or the "kill" command to stop a UM daemon running as a Windows service. Use the Windows service control panel to stop the service.</dd></dl>
<p><br />
<br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
