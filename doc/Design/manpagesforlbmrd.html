<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Concepts Guide: Man Pages for Lbmrd</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Concepts Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('manpagesforlbmrd.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Man Pages for Lbmrd </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Help for the lbmrd command line can be obtained by entering "lbmrd -h". Brief help for the lbmrd configuration file can be obtained by entering "lbmrd -d", which prints the DTD contents.</p>
<p>For more information on UDP-based TR, see <a class="el" href="topicresolutiondescription.html#udpbasedtopicresolutiondetails">UDP-Based Topic Resolution Details</a>. For more information on Topic Resolution general, see <a class="el" href="topicresolutiondescription.html">Topic Resolution Description</a>.</p>
<p>There are two executables for the lbmrd, each with it's own man page: </p><ul>
<li>
<a class="el" href="manpagesforlbmrd.html#lbmrdmanpage">Lbmrd Man Page</a> - Unix and Windows command-line interface. </li>
<li>
<a class="el" href="manpagesforlbmrd.html#lbmrdsmanpage">Lbmrds Man Page</a> - Windows service interface. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="lbmrdmanpage"></a>
Lbmrd Man Page&nbsp;&nbsp;<small><a href="#lbmrdmanpage">&lt;-</a></small></h1>
<p>The lbmrd executable can be run interactively from a command prompt or from a script/batch file. For use as a Windows Service, see <a class="el" href="manpagesforlbmrd.html#lbmrdsmanpage">Lbmrds Man Page</a>.</p>
<pre class="fragment">UMResolver daemon
Usage: lbmrd [options] [config-file]
Available options:
  -a, --activity=IVL    interval between client activity checks (in milliseconds)(default 60000)
  -d, --dump-dtd        dump the configuration DTD to stdout and exit
  -h, --help            display this help and exit
  -i, --interface=ADDR  listen for unicast topic resolution messages on interface ADDR
                        ADDR accepts CIDR eg:10.0.0.0/8, Quoted device name eg:"eth0", DNS Host name eg:host.mydomain.com/24.
  -L, --logfile=FILE    use FILE as the log file
  -p, --port=PORT       use UDP port PORT for topic resolution messages (default 15380)
  -t, --ttl=TTL         use client time-to-live of TTL seconds (default 60)
  -r, --rcv-buf=SIZE    set the receive buffer to SIZE bytes.
  -s, --snd-buf=SIZE    set the send buffer to SIZE bytes.
  -v, --validate        validate config-file then exit</pre><dl class="section user"><dt><b>Description</b> </dt><dd>Unicast UDP-based resolver services for UM messaging products are provided by lbmrd.</dd></dl>
<dl class="section user"><dt></dt><dd>The <code>-i</code> and <code>-p</code> (or <code>--interface</code> and <code>--port</code>) options identify the network interface IP address and port that lbmrd opens to listen for unicast topic resolution traffic. The defaults are INADDR_ANY and 15380, respectively. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Design/config.tag:../Config/" href="../Config/generalconfigurationguidelines.html#specifyinginterfaces">Specifying Interfaces</a> for methods of specifying the interface.</dd></dl>
<dl class="section user"><dt></dt><dd>The <code>-a</code> and <code>-t</code> (or <code>--activity</code> and <code>--ttl</code>) options interact to detect and remove "dead" clients, i.e., UMS/UME client applications that are in the lbmrd active client list, but have stopped sending topic resolution queries, advertisements, or keepalives, usually due to early termination or looping. These are described in detail below.</dd></dl>
<dl class="section user"><dt></dt><dd>Option <code>-t</code> describes the length of time (in seconds), during which no messages have been received from a given client, that will cause that client to be marked "dead" and removed from the active client list. Ultra Messaging recommends a value at least 5 seconds longer than the longest network outage you wish to tolerate.</dd></dl>
<dl class="section user"><dt></dt><dd>Option <code>-a</code> describes a repeating time interval (in milliseconds) after which lbmrd checks for these "dead" clients. Ultra Messaging recommends a value not larger than <code>-t</code> * 1000.</dd></dl>
<dl class="section user"><dt></dt><dd>Even clients that send no topic resolution advertisements or queries will still send keepalive messages to lbmrd every 5 seconds. This value is hard-coded and not configurable.</dd></dl>
<dl class="section user"><dt></dt><dd>The <code>-s</code> option sets the send socket buffer size in bytes.</dd></dl>
<dl class="section user"><dt></dt><dd>The <code>-r</code> option sets the receive socket buffer size in bytes.</dd></dl>
<dl class="section user"><dt></dt><dd>The output is written to a log file if either <code>-L</code> or <code>--logfile</code> is supplied.</dd></dl>
<dl class="section user"><dt></dt><dd>The DTD used to validate a configuration file will be dumped to standard output with the <code>-d</code> or <code>--dump-dtd</code> option. After dumping the DTD, lbmrd exits immediately.</dd></dl>
<dl class="section user"><dt></dt><dd><code>config-file</code> is the XML configuration file. It will be validated against the DTD if either the <code>-v</code> or <code>--validate</code> options are given. After attempting validation, lbmrd exits immediately. The exit status will be 0 for a configuration file validated by the DTD and non-zero otherwise.</dd></dl>
<dl class="section user"><dt></dt><dd>Command line help is available with <code>-h</code> or <code>--help</code>.</dd></dl>
<dl class="section user"><dt><b>Exit</b> <b>Status</b> </dt><dd>The exit status from lbmrd is 0 for success and some non-zero value for failure.</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="lbmrdsmanpage"></a>
Lbmrds Man Page&nbsp;&nbsp;<small><a href="#lbmrdsmanpage">&lt;-</a></small></h1>
<p>The lbmrds executable is for use as a Windows Service. The service can be installed as a service by the Windows package installer.</p>
<p>Alternatively, the lbmrds executable can be run interactively from a command prompt to install the service or to change certain configuration elements. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Design/operations.tag:../Operations/" href="../Operations/startupshutdownprocedures.html#umdaemonsaswindowsservices">UM Daemons as Windows Services</a> for more details.</p>
<pre class="fragment">UMResolver service
Usage: lbmrds [options] [config-file]
Available options:
  -h, --help            display this help and exit
  -S, --service=install   install the service passing configfile
  -S, --service=remove    delete/remove the service
  -S, --service=config    update configfile info to use configfile passed
  -e, --event-log-level   Update/set service logging level.  This is the minimum logging
                          level to send to the Windows event log.  Valid values are:
                             NONE - Send no events
                             INFO
                             WARN - default
                             ERROR
  configfile              XML config file (if not present, looks in registry)</pre><dl class="section user"><dt><b>Description</b> </dt><dd>Unicast UDP-based resolver services for UM messaging products are provided by lbmrd.</dd></dl>
<dl class="section user"><dt></dt><dd>The <code>config-file</code> parameter is used interactively to configure the lbmrds's XML configuration file.</dd></dl>
<dl class="section user"><dt></dt><dd>The <code>-S</code> is used interactively to control the installation of the Windows service. The <code>-e</code> is used interactively to configure the logging threshold for writing to the Windows Event Log. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Design/operations.tag:../Operations/" href="../Operations/startupshutdownprocedures.html#umdaemonsaswindowsservices">UM Daemons as Windows Services</a> for more details.</dd></dl>
<dl class="section user"><dt></dt><dd>The <code>-h</code> option prints the above usage page. After printing, the SRS exits.</dd></dl>
<dl class="section user"><dt><b>Exit</b> <b>Status</b> </dt><dd>The exit status from lbmrd is 0 for success and some non-zero value for failure. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
