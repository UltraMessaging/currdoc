<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Concepts Guide: SRS Daemon Statistics</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Concepts Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('srsdaemonstatistics.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">SRS Daemon Statistics </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This section contains details on the SRS's Daemon Statistics feature. <b>You should already be familiar with the general information contained in <a class="el" href="umobjects.html#daemonstatistics">Daemon Statistics</a>.</b></p>
<p>The SRS Daemon Statistics are published in the form of JSON messages. These are ASCII text messages which represent internal SRS data structures containing statistical and configuration information.</p>
<p>The following sub-sections describe the content of the messages. Note that while the sample messages shown are "beautified" (whitespace inserted for readability), a receiver of these messages should make no assumption about the presence or absence of whitespace. Also, as it true generally with JSON, the order of the fields is not fixed and can vary.</p>
<p>The message types are: </p><ul>
<li>
<a class="el" href="srsdaemonstatistics.html#messagetypesrsstats">Message Type: SRS_STATS</a> </li>
<li>
<a class="el" href="srsdaemonstatistics.html#messagetypesrserrorstats">Message Type: SRS_ERROR_STATS</a> </li>
<li>
<a class="el" href="srsdaemonstatistics.html#messagetypeumclientstats">Message Type: UM_CLIENT_STATS</a> </li>
<li>
<a class="el" href="srsdaemonstatistics.html#messagetypeumclienterrorstats">Message Type: UM_CLIENT_ERROR_STATS</a> </li>
<li>
<a class="el" href="srsdaemonstatistics.html#messagetypeconnectionevents">Message Type: CONNECTION_EVENTS</a> </li>
<li>
<a class="el" href="srsdaemonstatistics.html#messagetypeconfigopts">Message Type: CONFIG_OPTS</a> </li>
<li>
<a class="el" href="srsdaemonstatistics.html#messagetypeinternalconfigopts">Message Type: INTERNAL_CONFIG_OPTS</a> </li>
<li>
<a class="el" href="srsdaemonstatistics.html#requesttypereportsrsversion">Request Type: REPORT_SRS_VERSION</a> </li>
<li>
<a class="el" href="srsdaemonstatistics.html#requesttypereportmonitorinfo">Request Type: REPORT_MONITOR_INFO</a> </li>
<li>
<a class="el" href="srsdaemonstatistics.html#requesttypesetpublishinginterval">Request Type: SET_PUBLISHING_INTERVAL</a> </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="messagetypesrsstats"></a>
Message Type: SRS_STATS&nbsp;&nbsp;<small><a href="#messagetypesrsstats">&lt;-</a></small></h1>
<p>Message type SRS_STATS contains information about the overall state of the SRS service.</p>
<p><b>EXAMPLE:</b> </p><pre class="fragment">{ 
  "monitorInfoCategory": "SRS_STATS",
  "stats": [
    { 
      "name": "clients.inactive.SIR.count",
      "value": 0
    },
    { 
      "name": "clients.next.client.ID",
      "value": 17
    }
  ]
}
</pre><p> This example has two statistics. Be aware that a given message can have any number of statistic entries.</p>
<p>Overall structure of message: </p><center> <table class="doxtable">
<tr>
<th>Field</th><th>Description </th></tr>
<tr>
<td><b>monitorInfoCategory</b></td><td>Message type. Set to the string "SRS_STATS". </td></tr>
<tr>
<td><b>stats</b></td><td>Array of sub-structures, one per statistic. The number and order of the contained statistics is not fixed. </td></tr>
<tr>
<td><b>.&#160;.&#160;stats[].name</b></td><td>Name of statistic (see below). </td></tr>
<tr>
<td><b>.&#160;.&#160;stats[].value</b></td><td>Value of statistic. </td></tr>
</table>
</center><p>Meaning of each statistic: </p><center> <table class="doxtable">
<tr>
<th>Statistic</th><th>Description </th></tr>
<tr>
<td><b>clients.next.client.ID</b> </td><td>Unique session ID that will be assigned to the next context to connect. </td></tr>
<tr>
<td><b>active.clients.count</b> </td><td>Number of currently connected contexts. </td></tr>
<tr>
<td><b>clients.connects.count</b> </td><td>Number of contexts that have connected since this SRS started. </td></tr>
<tr>
<td><b>clients.disconnects.count</b> </td><td>Number of contexts that have disconnected since this SRS started. </td></tr>
<tr>
<td><b>clients.max.concurrent.connections.count</b> </td><td>High water mark of simultaneous connections since the SRS service was started. </td></tr>
<tr>
<td><b>clients.active.SIR.count</b> </td><td>Number of sources being maintained from connected contexts. </td></tr>
<tr>
<td><b>clients.inactive.SIR.count</b> </td><td>Number of sources being temporarily maintained from disconnected contexts. These get cleaned up after the state lifetime expires. </td></tr>
<tr>
<td><b>clients.expired.SIR.count</b> </td><td><p class="starttd">Number of times the SRS deleted source records due to the state lifetime being expired. This will happen when applications exit without deleting their sources, which is not recommended. If this number increases frequently, consider modifying your applications to clean up before exiting.</p>
<p class="endtd"></p>
</td></tr>
</table>
</center><p>All of the above statistics are included in a snapshot. Only the changed statistics are included during a periodic update.</p>
<p><br />
 </p>
<h1><a class="anchor" id="messagetypesrserrorstats"></a>
Message Type: SRS_ERROR_STATS&nbsp;&nbsp;<small><a href="#messagetypesrserrorstats">&lt;-</a></small></h1>
<p>Message type SRS_ERROR_STATS contains counters for errors detected by the SRS service. These types of errors should not be happening in a properly configured network; context support if the counters are increasing frequently.</p>
<p><b>EXAMPLE:</b> </p><pre class="fragment">{ 
  "monitorInfoCategory": "SRS_ERROR_STATS",
  "stats": [
    { 
      "name": "clients.duplicate.SIR.count",
      "value": 0
    },
    {
      "name": "clients.invalid.SDR.no.OTID.match.count",
      "value": 17
    }
  ]
}
</pre><p> This example has two statistics. Be aware that a given message can have any number of statistic entries.</p>
<p>Overall structure of message: </p><center> <table class="doxtable">
<tr>
<th>Field</th><th>Description </th></tr>
<tr>
<td><b>monitorInfoCategory</b></td><td>Message type. Set to the string "SRS_ERROR_STATS". </td></tr>
<tr>
<td><b>stats</b></td><td>Array of sub-structures, one per statistic. The number and order of the contained statistics is not fixed. </td></tr>
<tr>
<td><b>.&#160;.&#160;stats[].name</b></td><td>Name of statistic (see below). </td></tr>
<tr>
<td><b>.&#160;.&#160;stats[].value</b></td><td>Value of statistic. </td></tr>
</table>
</center><p>Meaning of each statistic: </p><center> <table class="doxtable">
<tr>
<th>Statistic</th><th>Description </th></tr>
<tr>
<td><b>clients.duplicate.SIR.count</b> </td><td>While not a fatal condition, Informatica support should be informed if this count increments frequently. (Number of times that the SRS is informed about a source when it didn't need to be informed; i.e. the SRS already knew about it.) </td></tr>
<tr>
<td><b>clients.invalid.SDR.no.OTID.match.count</b> </td><td>While not a fatal condition, Informatica support should be informed if this count increments frequently. (A context deleted a source that the SRS does not know about, which should never happen.) </td></tr>
<tr>
<td><b>clients.invalid.SDR.no.transport.match.count</b> </td><td>While not a fatal condition, Informatica support should be informed if this count increments frequently. (A context deleted a source that the SRS does not know about, which should never happen.) </td></tr>
<tr>
<td><b>clients.invalid.DR.no.OTID.match.count</b> </td><td>While not a fatal condition, Informatica support should be informed if this count increments frequently. (A context deleted a source that the SRS does not know about, which should never happen.) </td></tr>
<tr>
<td><b>clients.invalid.DR.no.transport.match.count</b> </td><td>While not a fatal condition, Informatica support should be informed if this count increments frequently. (A context deleted a source that the SRS does not know about, which should never happen.) </td></tr>
<tr>
<td><b>clients.invalid.DR.inactive.SIR.count</b> </td><td><p class="starttd">This counter should never be greater than zero. While not a fatal condition, Informatica support should be informed if this count increments frequently. (A context disconnected while it has SIRs that were inactive, which should never happen.)</p>
<p class="endtd"></p>
</td></tr>
</table>
</center><p><br />
 </p>
<h1><a class="anchor" id="messagetypeumclientstats"></a>
Message Type: UM_CLIENT_STATS&nbsp;&nbsp;<small><a href="#messagetypeumclientstats">&lt;-</a></small></h1>
<p>Message type UM_CLIENT_STATS contains information related to an individual connected context. Multiple instances of this message can be sent, one per connected context.</p>
<p><b>EXAMPLE:</b> </p><pre class="fragment">{
  "monitorInfoCategory": "UM_CLIENT_STATS",
  "srsRegistrationInfo": {
    "ip": "10.29.3.43",
    "port": "60681",
    "sessionId": "0x9739b88f"
  },
  "stats": [
    {
      "name": "client.SIR.received.count",
      "value": 1
    },
    {
      "name": "client.SDR.received.count",
      "value": 0
    }
  ]
}
</pre><p> This example has two statistics. Be aware that a given message can have any number of statistic entries.</p>
<p>Overall structure of message: </p><center> <table class="doxtable">
<tr>
<th>Field</th><th>Description </th></tr>
<tr>
<td><b>monitorInfoCategory</b></td><td>Message type. Set to the string "UM_CLIENT_STATS". </td></tr>
<tr>
<td><b>srsRegistrationInfo</b></td><td>Structure containing identifying information about the connected context. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.ip</b></td><td>IP address of the context. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.port</b></td><td>TCP "source port" the context used locally for its SRS connection. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Design/config.tag:../Config/" href="../Config/grpudpbasedresolveroperation.html#resolverservicecontext">resolver_service (context)</a>. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.sessionId</b></td><td>The unique identifier assigned by the SRS to this connection. </td></tr>
<tr>
<td><b>stats</b></td><td>Array of sub-structures, one per statistic. The number and order of the contained statistics is not fixed. </td></tr>
<tr>
<td><b>.&#160;.&#160;stats[].name</b></td><td>Name of statistic (see below). </td></tr>
<tr>
<td><b>.&#160;.&#160;stats[].value</b></td><td>Value of statistic. </td></tr>
</table>
</center><p>Meaning of each statistic: </p><center> <table class="doxtable">
<tr>
<th>Statistic</th><th>Description </th></tr>
<tr>
<td><b>record.queue.depth</b> </td><td>Snapshot of the context's SRS worker thread's work queue. I.e. number of Topic Resolution updates that need to be sent to the context. This number should normally be zero. If it remains above zero for significant time, contact Informatica support. </td></tr>
<tr>
<td><b>client.SIR.received.count</b> </td><td>Number of created sources that the context has informed the SRS. This number is not necessarily the current number of sources; i.e. the counter does not decrease as sources are deleted. </td></tr>
<tr>
<td><b>client.SDR.received.count</b> </td><td>Number of sources deleted that the context has informed the SRS. </td></tr>
<tr>
<td><b>client.active.SIR.count</b> </td><td>Number of sources that currently exist in the context. </td></tr>
<tr>
<td><b>client.max.concurrent.SIR.count</b> </td><td>High water mark of simultaneous sources managed since the SRS service started. </td></tr>
<tr>
<td><b>client.SIR.sent.count</b> </td><td>Number of sources that the SRS has informed the context of. </td></tr>
<tr>
<td><b>client.SER.sent.count</b> </td><td><p class="starttd">Number of source deletions that the SRS has informed the context of. Either the application explicitly deleted a source, or the context abnormally disconnected and the state lifetime expired.</p>
<p class="endtd"></p>
</td></tr>
</table>
</center><p><br />
 </p>
<h1><a class="anchor" id="messagetypeumclienterrorstats"></a>
Message Type: UM_CLIENT_ERROR_STATS&nbsp;&nbsp;<small><a href="#messagetypeumclienterrorstats">&lt;-</a></small></h1>
<p>Message type UM_CLIENT_ERROR_STATS contains error counters related to an individual connected context. Multiple instances of this message can be sent, one per connected context. These types of errors should not be happening in a properly configured network; context support if the counters are increasing frequently.</p>
<p><b>EXAMPLE:</b> </p><pre class="fragment">{
  "monitorInfoCategory": "UM_CLIENT_ERROR_STATS",
  "srsRegistrationInfo": {
    "ip": "10.29.3.43",
    "port": "60681",
    "sessionId": "0x9739b88f"
  },
  "stats": [
    {
      "name": "client.invalid.SRS.message.received.count",
      "value": 1
    },
    {
      "name": "client.invalid.SDR.received.count",
      "value": 0
    }
  ]
}
</pre><p> This example has two statistics. Be aware that a given message can have any number of statistic entries.</p>
<p>Overall structure of message: </p><center> <table class="doxtable">
<tr>
<th>Field</th><th>Description </th></tr>
<tr>
<td><b>monitorInfoCategory</b></td><td>Message type. Set to the string "UM_CLIENT_ERROR_STATS". </td></tr>
<tr>
<td><b>srsRegistrationInfo</b></td><td>Structure containing identifying information about the connected context. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.ip</b></td><td>IP address of the context. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.port</b></td><td>TCP "source port" the context used locally for its SRS connection. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Design/config.tag:../Config/" href="../Config/grpudpbasedresolveroperation.html#resolverservicecontext">resolver_service (context)</a>. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.sessionId</b></td><td>The unique identifier assigned by the SRS to this connection. </td></tr>
<tr>
<td><b>stats</b></td><td>Array of sub-structures, one per statistic. The number and order of the contained statistics is not fixed. </td></tr>
<tr>
<td><b>.&#160;.&#160;stats[].name</b></td><td>Name of statistic (see below). </td></tr>
<tr>
<td><b>.&#160;.&#160;stats[].value</b></td><td>Value of statistic. </td></tr>
</table>
</center><p>Meaning of each statistic: </p><center> <table class="doxtable">
<tr>
<th>Statistic</th><th>Description </th></tr>
<tr>
<td><b>client.invalid.SRS.message.received.count</b> </td><td>This counter should never be greater than zero. While not a fatal condition, Informatica support should be informed if this count increments frequently. (Number of messages received from this context that could not be processed.) </td></tr>
<tr>
<td><b>client.invalid.SDR.received.count</b> </td><td><p class="starttd">This counter should never be greater than zero. While not a fatal condition, Informatica support should be informed if this count increments frequently. (Number of source delete messages received from this context which could not be processed correctly.)</p>
<p class="endtd"></p>
</td></tr>
</table>
</center><p><br />
 </p>
<h1><a class="anchor" id="messagetypeconnectionevents"></a>
Message Type: CONNECTION_EVENTS&nbsp;&nbsp;<small><a href="#messagetypeconnectionevents">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="messagesubtypeumclientconnect"></a>
Message Subtype: UM_CLIENT_CONNECT&nbsp;&nbsp;<small><a href="#messagesubtypeumclientconnect">&lt;-</a></small></h2>
<p>Message type CONNECTION_EVENTS, sub-type UM_CLIENT_CONNECT, logs a single connect of a context to the SRS.</p>
<pre class="fragment">{
  "monitorInfoCategory": "CONNECTION_EVENTS",
  "srsRegistrationInfo": {
    "ip": "10.29.3.42",
    "port": "41873",
    "sessionId": "0xaecbff98"
  },
  "connectionEventType": "UM_CLIENT_CONNECT",
  "events": [
    {
      "connectionEventType": "UM_CLIENT_CONNECT",
      "connectionEventTime": "Thu Jan 24 00:28:26 CET 2019",
    }
  ]
}
</pre><p>Overall structure of message: </p><center> <table class="doxtable">
<tr>
<th>Field</th><th>Description </th></tr>
<tr>
<td><b>monitorInfoCategory</b></td><td>Message type. Set to the string "CONNECTION_EVENTS". </td></tr>
<tr>
<td><b>srsRegistrationInfo</b></td><td>Structure containing identifying information about the connected context. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.ip</b></td><td>IP address of the context. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.port</b></td><td>TCP "source port" the context used locally for its SRS connection. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Design/config.tag:../Config/" href="../Config/grpudpbasedresolveroperation.html#resolverservicecontext">resolver_service (context)</a>. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.sessionId</b></td><td>The unique identifier assigned by the SRS to this connection. </td></tr>
<tr>
<td><b>connectionEventType</b></td><td>type of event contained in the <code>events</code> sub-structure. Set to "UM_CLIENT_CONNECT". </td></tr>
<tr>
<td><b>events</b></td><td>Technically <code>events</code> is constructed as an array of sub-structures, however each CONNECTION_EVENTS message contains exactly one event log. </td></tr>
<tr>
<td><b>.&#160;.&#160;events[].connectionEventType</b></td><td>type of event contained in the <code>events</code> sub-structure. Set to "UM_CLIENT_CONNECT". </td></tr>
<tr>
<td><b>.&#160;.&#160;events[].connectionEventTime</b></td><td>ASCII time/date stamp of event. </td></tr>
</table>
</center><p><br />
 </p>
<h2><a class="anchor" id="messagesubtypeumclientdisconnect"></a>
Message Subtype: UM_CLIENT_DISCONNECT&nbsp;&nbsp;<small><a href="#messagesubtypeumclientdisconnect">&lt;-</a></small></h2>
<p>Message type CONNECTION_EVENTS, sub-type UM_CLIENT_DISCONNECT, logs a single disconnect of a context to the SRS.</p>
<pre class="fragment">{
  "monitorInfoCategory": "CONNECTION_EVENTS",
  "srsRegistrationInfo": {
    "ip": "10.29.3.42",
    "port": "35350",
    "sessionId": "0x0388cf20"
  },
  "connectionEventType": "UM_CLIENT_DISCONNECT",
  "events": [
    {
      "srsRegistrationInfo": {
        "ip": "10.29.3.42",
        "port": "35350",
        "sessionId": "0x0388cf20"
      },
      "connectionEventType": "UM_CLIENT_DISCONNECT",
      "connectionEventTime": "Wed Jan 30 23:50:30 CET 2019",
    }
  ]
}
</pre><p>Overall structure of message: </p><center> <table class="doxtable">
<tr>
<th>Field</th><th>Description </th></tr>
<tr>
<td><b>monitorInfoCategory</b></td><td>Message type. Set to the string "CONNECTION_EVENTS". </td></tr>
<tr>
<td><b>srsRegistrationInfo</b></td><td>Structure containing identifying information about the connected context. &#160;&#160;</td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.ip</b></td><td>IP address of the context. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.port</b></td><td>TCP "source port" the context used locally for its SRS connection. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Design/config.tag:../Config/" href="../Config/grpudpbasedresolveroperation.html#resolverservicecontext">resolver_service (context)</a>. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.sessionId</b></td><td>The unique identifier assigned by the SRS to this connection. </td></tr>
<tr>
<td><b>connectionEventType</b></td><td>type of event contained in the <code>events</code> sub-structure. Set to "UM_CLIENT_DISCONNECT". </td></tr>
<tr>
<td><b>events</b></td><td>Technically <code>events</code> is constructed as an array of sub-structures, however each CONNECTION_EVENTS message contains exactly one event log. </td></tr>
<tr>
<td><b>.&#160;.&#160;events[].srsRegistrationInfo</b></td><td>Structure containing identifying information about the connected context. </td></tr>
<tr>
<td><b>.&#160;.&#160;.&#160;.&#160;events[].srsRegistrationInfo.ip</b></td><td>IP address of the context. </td></tr>
<tr>
<td><b>.&#160;.&#160;.&#160;.&#160;events[].srsRegistrationInfo.port</b></td><td>TCP "source port" the context used locally for its SRS connection. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Design/config.tag:../Config/" href="../Config/grpudpbasedresolveroperation.html#resolverservicecontext">resolver_service (context)</a>. </td></tr>
<tr>
<td><b>.&#160;.&#160;.&#160;.&#160;event[].srsRegistrationInfo.sessionId</b></td><td>The unique identifier assigned by the SRS to this connection. </td></tr>
<tr>
<td><b>.&#160;.&#160;events[].connectionEventType</b></td><td>type of event contained in the <code>events</code> sub-structure. Set to "UM_CLIENT_DISCONNECT". </td></tr>
<tr>
<td><b>.&#160;.&#160;events[].connectionEventTime</b></td><td>ASCII time/date stamp of event. </td></tr>
</table>
</center><p><br />
 </p>
<h2><a class="anchor" id="messagesubtypessirandsdr"></a>
Message Subtypes: SIR and SDR&nbsp;&nbsp;<small><a href="#messagesubtypessirandsdr">&lt;-</a></small></h2>
<p>Message type CONNECTION_EVENTS, sub-types SIR and SDR, log a single context source creation or deletion message to the SRS.</p>
<pre class="fragment">{
  "monitorInfoCategory": "CONNECTION_EVENTS",
  "srsRegistrationInfo": {
    "ip": "10.29.3.43",
    "port": "60809",
    "sessionId": "0x1c668bad"
  },
  "connectionEventType": "SIR" or "SDR",
  "events": [
    {
      "topic": "srs_topic",
      "source": "LBTRM:10.29.3.43:24000:47b87920:225.11.28.85:14400",
      "connectionEventType": "SIR" or "SDR",
      "connectionEventTime": "Fri Feb 1 02:16:06 CET 2019",
    }
  ]
}
</pre><p>Overall structure of message: </p><center> <table class="doxtable">
<tr>
<th>Field</th><th>Description </th></tr>
<tr>
<td><b>monitorInfoCategory</b></td><td>Message type. Set to the string "CONNECTION_EVENTS". </td></tr>
<tr>
<td><b>srsRegistrationInfo</b></td><td>Structure containing identifying information about the connected context. &#160;&#160;</td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.ip</b></td><td>IP address of the context. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.port</b></td><td>TCP "source port" the context used locally for its SRS connection. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Design/config.tag:../Config/" href="../Config/grpudpbasedresolveroperation.html#resolverservicecontext">resolver_service (context)</a>. </td></tr>
<tr>
<td><b>.&#160;.&#160;srsRegistrationInfo.sessionId</b></td><td>The unique identifier assigned by the SRS to this connection. </td></tr>
<tr>
<td><b>connectionEventType</b></td><td>type of event contained in the <code>events</code> sub-structure. Set to "SIR" or "SDR". </td></tr>
<tr>
<td><b>events</b></td><td>Technically <code>events</code> is constructed as an array of sub-structures, however each CONNECTION_EVENTS message contains exactly one event log. </td></tr>
<tr>
<td><b>.&#160;.&#160;events[].connectionEventType</b></td><td>type of event contained in the <code>events</code> sub-structure. Set to "SIR" or "SDR". </td></tr>
<tr>
<td><b>.&#160;.&#160;events[].connectionEventTime</b></td><td>ASCII time/date stamp of event. </td></tr>
</table>
</center><p><br />
 </p>
<h1><a class="anchor" id="messagetypeconfigopts"></a>
Message Type: CONFIG_OPTS&nbsp;&nbsp;<small><a href="#messagetypeconfigopts">&lt;-</a></small></h1>
<p>Message type CONFIG_OPTS contains SRS configuration information.</p>
<p><b>EXAMPLE:</b> </p><pre class="fragment">{
  "monitorInfoCategory": "CONFIG_OPTS",
  "configOptions": [
    {
      "name": "um-srs.daemon-monitor.lbm-attributes.context.context_name",
      "value": "statsLbmContext",
    },
    {
      "name": "um-srs.daemon-monitor.lbm-attributes.context.default_interface",
      "value": "192.168.0.0/24",
    }
  ]
}
</pre><p> This example has two options. Be aware that a given message can have any number of option entries.</p>
<p>Overall structure of message: </p><center> <table class="doxtable">
<tr>
<th>Field</th><th>Description </th></tr>
<tr>
<td><b>monitorInfoCategory</b></td><td>Message type. Set to the string "CONFIG_OPTS". </td></tr>
<tr>
<td><b>configOptions</b></td><td>Array of sub-structures, one per configuration option. The number and order of the contained options is not fixed. </td></tr>
<tr>
<td><b>.&#160;.&#160;configOptions[].name</b></td><td>Name of option (see below). </td></tr>
<tr>
<td><b>.&#160;.&#160;configOptions[].value</b></td><td>Value of option. </td></tr>
</table>
</center><p>Meaning of each option: </p><center> <table class="doxtable">
<tr>
<th>Option Name</th><th>Description </th></tr>
<tr>
<td><b>um-srs.version</b> </td><td>Value for '<b>version</b>' attribute to SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementumsrs">&lt;um-srs&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon.log</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementlog">&lt;log&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon.log.type</b> </td><td>Value for '<b>type</b>' attribute to SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementlog">&lt;log&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon.log.frequency</b> </td><td>Value for '<b>frequency</b>' attribute to SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementlog">&lt;log&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon.log.size</b> </td><td>Value for '<b>size</b>' attribute to SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementlog">&lt;log&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon.log.max-history</b> </td><td>Value for '<b>max-history</b>' attribute to SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementlog">&lt;log&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon.log.total-size-cap</b> </td><td>Value for '<b>total-size-cap</b>' attribute to SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementlog">&lt;log&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon.log.compression</b> </td><td>Value for '<b>compression</b>' attribute to SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementlog">&lt;log&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon.pid-file</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementrequeststreammaxmsgcount">&lt;request-stream-max-msg-count&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.srs.interface</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementinterface">&lt;interface&gt;</a> inside <a class="el" href="srsconfigurationfile.html#srselementsrs">&lt;srs&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.srs.port</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementport">&lt;port&gt;</a> inside <a class="el" href="srsconfigurationfile.html#srselementsrs">&lt;srs&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.srs.state-lifetime</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementstatelifetime">&lt;state-lifetime&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.srs.clientactor.request-stream-max-msg-count</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementrequeststreammaxmsgcount">&lt;request-stream-max-msg-count&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.srs.clientactor.source-info-queue-service-interval</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementsourceinfoqueueserviceinterval">&lt;source-info-queue-service-interval&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.srs.clientactor.batch-frame-max-record-count</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementbatchframemaxrecordcount">&lt;batch-frame-max-record-count&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.srs.clientactor.batch-frame-max-datagram-size</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementbatchframemaxdatagramsize">&lt;batch-frame-max-datagram-size&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.debug-monitor.interface</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementinterface">&lt;interface&gt;</a> inside <a class="el" href="srsconfigurationfile.html#srselementdebugmonitor">&lt;debug-monitor&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.debug-monitor.port</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementport">&lt;port&gt;</a> inside <a class="el" href="srsconfigurationfile.html#srselementdebugmonitor">&lt;debug-monitor&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.debug-monitor.enabled</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementenabled">&lt;enabled&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.debug-monitor.ping-interval</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementpinginterval">&lt;ping-interval&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.topic</b> </td><td>Value for '<b>topic</b>' attribute to SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementdaemonmonitor">&lt;daemon-monitor&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.publishing-interval.default</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementdefault">&lt;default&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.publishing-interval.srs-stats</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementsrsstats">&lt;srs-stats&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.publishing-interval.um-client-stats</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementumclientstats">&lt;um-client-stats&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.publishing-interval.connection-events</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementconnectionevents">&lt;connection-events&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.publishing-interval.srs-error-stats</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementsrserrorstats">&lt;srs-error-stats&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.publishing-interval.um-client-error-stats</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementumclienterrorstats">&lt;um-client-error-stats&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.publishing-interval.config-opts</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementconfigopts">&lt;config-opts&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.publishing-interval.internal-config-opts</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementinternalconfigopts">&lt;internal-config-opts&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.publish-connection-events.allow</b> </td><td>Value for '<b>allow</b>' attribute to SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementpublishconnectionevents">&lt;publish-connection-events&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.remote-snapshot-request.allow</b> </td><td>Value for '<b>allow</b>' attribute to SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementremotesnapshotrequest">&lt;remote-snapshot-request&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.remote-config-changes-request.allow</b> </td><td>Value for '<b>allow</b>' attribute to SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementremoteconfigchangesrequest">&lt;remote-config-changes-request&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.daemon-monitor.lbm-attributes.lbmConfigOptionScope.lbmConfigOptionName</b> </td><td><p class="starttd">A UM configuration option, as documented in <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Design/config.tag:../Config/" href="../Config/index.html#configurationoverview">Configuration Overview</a>, where 'lbmConfigOptionScope' is the option scope ('context', 'source', etc) and 'lbmConfigOptionName' is the option name.</p>
<p class="endtd"></p>
</td></tr>
</table>
</center><p><br />
 </p>
<h1><a class="anchor" id="messagetypeinternalconfigopts"></a>
Message Type: INTERNAL_CONFIG_OPTS&nbsp;&nbsp;<small><a href="#messagetypeinternalconfigopts">&lt;-</a></small></h1>
<p>Message type INTERNAL_CONFIG_OPTS contains SRS internal configuration information. These options are not intended for application use.</p>
<p><b>EXAMPLE:</b> </p><pre class="fragment">{
  "monitorInfoCategory": "INTERNAL_CONFIG_OPTS",
  "configOptions": [
    {
      "name": "um-srs.srs.otidmap.async-receiver-distribution",
      "value": "false",
    },
    { 
      "name": "um-srs.srs.otidmap.shards",
      "value": "4",
    } 
  ]   
}
</pre><p> This example has two options. Be aware that a given message can have any number of option entries.</p>
<p>Overall structure of message: </p><center> <table class="doxtable">
<tr>
<th>Field</th><th>Description </th></tr>
<tr>
<td><b>monitorInfoCategory</b></td><td>Message type. Set to the string "INTERNAL_CONFIG_OPTS". </td></tr>
<tr>
<td><b>configOptions</b></td><td>Array of sub-structures, one per configuration option. The number and order of the contained options is not fixed. </td></tr>
<tr>
<td><b>.&#160;.&#160;configOptions[].name</b></td><td>Name of option (see below). </td></tr>
<tr>
<td><b>.&#160;.&#160;configOptions[].value</b></td><td>Value of option. </td></tr>
</table>
</center><p>Meaning of each option: </p><center> <table class="doxtable">
<tr>
<th>Option Name</th><th>Description </th></tr>
<tr>
<td><b>um-srs.srs.otidmap.shards</b> </td><td>Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementshards">&lt;shards&gt;</a>. </td></tr>
<tr>
<td><b>um-srs.srs.otidmap.async-receiver-distribution</b> </td><td><p class="starttd">Value for the SRS configuration element <a class="el" href="srsconfigurationfile.html#srselementasyncreceiverdistribution">&lt;async-receiver-distribution&gt;</a>.</p>
<p class="endtd"></p>
</td></tr>
</table>
</center><p><br />
 </p>
<h1><a class="anchor" id="requesttypereportsrsversion"></a>
Request Type: REPORT_SRS_VERSION&nbsp;&nbsp;<small><a href="#requesttypereportsrsversion">&lt;-</a></small></h1>
<p>Request type REPORT_SRS_VERSION is sent by a monitoring application to determine the software version of the SRS.</p>
<pre class="fragment">{
  "commandMessageType": "REPORT_SRS_VERSION"
}
</pre><p>The SRS will send a response of the form: </p><pre class="fragment">SRS Version 6.12
</pre><p><br />
 </p>
<h1><a class="anchor" id="requesttypereportmonitorinfo"></a>
Request Type: REPORT_MONITOR_INFO&nbsp;&nbsp;<small><a href="#requesttypereportmonitorinfo">&lt;-</a></small></h1>
<p>Request type REPORT_MONITOR_INFO is sent by a monitoring application to initiate an immediate publishing of monitoring data.</p>
<p>The SRS will only process this request if the configuration contains <a class="el" href="srsconfigurationfile.html#srselementremotesnapshotrequest">&lt;remote-snapshot-request allow="true"/&gt;</a>.</p>
<pre class="fragment">{
  "commandMessageType": "REPORT_MONITOR_INFO",
  "monitorInfoCategory": "SRS_STATS"
}
</pre><p>Where the <code>"monitorInfoCategory"</code> field is set to one of the following: </p><ul>
<li>
SRS_STATS </li>
<li>
UM_CLIENT_STATS </li>
<li>
CONNECTION_EVENTS </li>
<li>
SRS_ERROR_STATS </li>
<li>
UM_CLIENT_ERROR_STATS </li>
<li>
CONFIG_OPTS </li>
<li>
INTERNAL_CONFIG_OPTS </li>
</ul>
<p>The SRS will send a response of the form: </p><pre class="fragment">snap SRS_STATS - OK!
</pre><p> Note that "SRS_STATS" is replaced by the requested category.</p>
<p><br />
 </p>
<h1><a class="anchor" id="requesttypesetpublishinginterval"></a>
Request Type: SET_PUBLISHING_INTERVAL&nbsp;&nbsp;<small><a href="#requesttypesetpublishinginterval">&lt;-</a></small></h1>
<p>Request type SET_PUBLISHING_INTERVAL is sent by a monitoring application to Modify the publishing intervals for a running SRS. Note that SRS does not persist the new interval value; if the SRS is restarted, the value returns to the value configured via <a class="el" href="srsconfigurationfile.html#srselementdaemonmonitor">&lt;daemon-monitor&gt;</a>.</p>
<p>The SRS will only process this request if the configuration contains <a class="el" href="srsconfigurationfile.html#srselementremoteconfigchangesrequest">&lt;remote-config-changes-request allow="true"/&gt;</a>.</p>
<pre class="fragment">{     
  "commandMessageType": "SET_PUBLISHING_INTERVAL",
  "monitorInfoCategory": "SRS_STATS",
  "publishingInterval": 60000
}
</pre><p>Where the <code>"monitorInfoCategory"</code> field is set to one of the following: </p><ul>
<li>
SRS_STATS </li>
<li>
UM_CLIENT_STATS </li>
<li>
CONNECTION_EVENTS </li>
<li>
SRS_ERROR_STATS </li>
<li>
UM_CLIENT_ERROR_STATS </li>
<li>
CONFIG_OPTS </li>
<li>
INTERNAL_CONFIG_OPTS </li>
</ul>
<p>The SRS will send a response of the form: </p><pre class="fragment">SRS_STATS 60000 - OK!
</pre><p> Note that "SRS_STATS" is replaced by the requested category. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
