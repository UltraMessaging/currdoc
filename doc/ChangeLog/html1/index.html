<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Release Notes: Release Notes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Release Notes
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title"></div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p> 
<img src="infa_logo.png" width="400" height="138" alt="Informatica"/><br/><br/>
<big><b>Ultra Messaging</b></big> <small>(Version 6.12)</small><br/>
<br/><br/><br/>
<center class="mytitle">Release Notes</center>
<center>Copyright (C) 2004-2019, Informatica Corporation.  All Rights Reserved.</center>
<br/><br/><br/>
[&nbsp;<a href="../index.html">Multi-page HTML</a>&nbsp;]&nbsp;&nbsp;|&nbsp;&nbsp;[&nbsp;<a href="../ReleaseNotes=en.pdf">PDF</a>&nbsp;]
<br/><br/>
 </p>
<h1><a class="anchor" id="firstsect"></a>
Introduction&nbsp;&nbsp;<small><a href="#firstsect">&lt;-</a></small></h1>
<p>This document describes the important changes made to the Ultra Messaging product family with each release. The document is cumulative across the major version number, and also across the core Ultra Messaging products: Streaming Edition (UMS), Persistence Edition (UMP), Queuing Edition (UMQ), and the Dynamic Routing Option (DRO).</p>
<dl class="section attention"><dt>Attention</dt><dd><b>See the <a href="../../DocIntro=en.pdf">Documentation Introduction</a> for important information on copyright, patents, information resources (including Knowledge Base, and How To articles), Marketplace, Support, and other information about Informatica and its products.</b></dd></dl>
<p>See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umglossary.html">UM Glossary</a> for Ultra Messaging terminology, abbreviations, and acronyms.</p>
<dl class="section attention"><dt>Attention</dt><dd>See <a class="el" href="index.html#errata">Errata</a> for important errors in the documentation.</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_12"></a>
UM Version 6.12&nbsp;&nbsp;<small><a href="#umversion6_12">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.12 is the introduction of a TCP-based Stateful Topic Resolution Service (SRS) which optimizes the Topic Resolution Process.</p>
<dl class="section attention"><dt>Attention</dt><dd>There are some special upgrade instructions for UM version 6.12 that will affect a small percentage of users. See <a class="el" href="index.html#specialupgradeinsructionsfor6_12">Special Upgrade Instructions for 6.12</a>.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_12"></a>
Enhancements for 6.12&nbsp;&nbsp;<small><a href="#enhancementsfor6_12">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_12"></a>
Streaming Enhancements for 6.12&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_12">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli"><b>TCP-Based Topic Resolution.</b> 6.12 introduces a new component, the SRS (Stateful Resolution Service). This is the first phase of a plan to significantly improve UM's topic resolution characteristics. The SRS service can be run on 64-bit Windows and 64-bit Linux. (An SRS running on either one of those platforms can service clients across the full range of supported platforms.)</p>
<p>For more information, see <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/topicresolutiondescription.html">Topic Resolution Description</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Streaming Receiver Optimization.</b> Message receive latency has been improved with the following features: </p><ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/advancedoptimizations.html#receivebufferrecycling">Receive Buffer Recycling</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/advancedoptimizations.html#singlereceivingthread">Single Receiving Thread</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/advancedoptimizations.html#contextlockreduction">Context Lock Reduction</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/advancedoptimizations.html#gettimeofdayreduction">Gettimeofday Reduction</a> </li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Smart Source Message Sizing Flexibility.</b> The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/advancedoptimizations.html#smartsources">Smart Sources</a> feature now supports greater flexibility in application message sizes, including: </p><ul>
<li>
UM Message Fragmentation. </li>
<li>
User Supplied Buffers. </li>
</ul>
<p>For more information, see <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/advancedoptimizations.html#smartsourcemessagebuffers">Smart Source Message Buffers</a>.</p>
<p>Also, a problem in Smart Source was fixed (see fixed limitation <a class="el" href="index.html#bug10602">10602</a>) which users of Smart Source need to be aware of. Some users will need to change their configuration as a result. See <a class="el" href="index.html#smartsourceheadersizechange">Smart Source Header Size Change</a> for details.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Windows Service Enhancements.</b> Support for running the 3 main pre-6.12 UM Daemons as Windows Services has been improved. This includes the UM Message Router (DRO), the persistent Store, and the unicast topic resolution daemon (lbmrd). The new service, SRS, is introduced with the same support for Windows Service. (Note that the Ultra Messaging Manager daemon <code>ummd</code> is not available as a windows service at this time.) For more information, see <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/operations.tag:../../Operations/" href="../../Operations/startupshutdownprocedures.html#umdaemonsaswindowsservices">UM Daemons as Windows Services</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>XSP Enhancements.</b> The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umfeatures.html#transportservicesproviderxsp">Transport Services Provider (XSP)</a> feature has been enhanced to support the following new capabilities: </p><ul>
<li>
Registration of File Descriptors. The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umfeatures.html#transportservicesproviderxsp">Transport Services Provider (XSP)</a> feature has been enhanced to support registration of application file descriptors. For more information, see <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umfeatures.html#otherxspoperations">Other XSP Operations</a>. </li>
<li>
Persistence. Persistent receivers can now be assigned to a <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umfeatures.html#transportservicesproviderxsp">Transport Services Provider (XSP)</a>. </li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Leading Loss Events Suppressed</b>. UM no longer delivers unrecoverable loss events to receiver callbacks prior to the first message delivery. See <a class="el" href="index.html#bug5199">5199</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>AIX</b>. Informatica no longer ships the AIX platform with every new version of UM. Instead, AIX is now considered an "on demand" platform. Note that AIX is still a supported platform for UM. Customers of the AIX platform may specifically request that an AIX build be generated for the most-recent general UM version.</p>
<p class="endli"></p>
</li>
<li>
<b>Daemon Platform Deprecations</b>. The <a class="el" href="index.html#deprecationsfor6111">planned removal</a> of support for certain platforms for the UM daemons has been postponed. Starting with the <em>next</em> version of UM, there will be a reduction in the supported platforms for the UM daemons (store, DRO, etc). Note that there is no change in support for <em>applications</em>. UM daemons running on the reduced set of platforms will be able to service applications running on the full range of supported platforms. See <a class="el" href="index.html#platformdeprecationsfordaemons">Platform Deprecations for Daemons</a> for details. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_12"></a>
Persistence Enhancements for 6.12&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_12">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
<p class="startli"><b>XSP.</b> Persistent receivers can now be assigned to a <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umfeatures.html#transportservicesproviderxsp">Transport Services Provider (XSP)</a>.</p>
<p class="endli"></p>
</li>
<li>
<b>Receiver re-registration.</b> Persistent receivers can now re-register with a store immediately following certain events. See <a class="el" href="index.html#bug5890">5890</a>. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_12"></a>
Queuing Enhancements for 6.12&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_12">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
<b>Ultra Load Balancing Throughput.</b> The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/umq.tag:../../UMQ/" href="../../UMQ/ultraloadbalancingulb.html">Ultra Load Balancing (ULB)</a> feature has been enhanced to significantly improve throughput when used with unicast transport protocols TCP and LBT-RU. For more information see <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/umq.tag:../../UMQ/" href="../../UMQ/ultraloadbalancingulb.html#ulbperformance">ULB Performance</a>. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_12"></a>
Dynamic Router Enhancements for 6.12&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_12">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_12"></a>
Fixed Limitations for 6.12&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_12">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_12"></a>
Streaming Fixed Limitations for 6.12&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_12">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<p><a class="anchor" id="bug10602"></a></p><table class="doxtable">
<tr>
<td>10602 </td><td><p class="starttd"><b>FIXED:</b> <em>Smart Sources reserved a differing amount of space for worst-case headers than traditional sources. For users of kernel bypass network drivers like Onload, this can lead to having to set the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtrmoperation.html#transportlbtrmdatagrammaxsizecontext">transport_lbtrm_datagram_max_size (context)</a> option to different values for apps using Smart Sources vs. apps that do not. For apps that use both, this creates a sub-optimal solution for one or the other.</em></p>
<p>UM now uses the same reserve size for Smart Sources as it always has for traditional sources.</p>
<dl class="section attention"><dt>Attention</dt><dd>Users of Smart Source may need to update their configuration because of this. See <a class="el" href="index.html#smartsourceheadersizechange">Smart Source Header Size Change</a>.</dd></dl>
<p><a class="anchor" id="bug10542"></a></p>
</td></tr>
<tr>
<td>10542 </td><td><p class="starttd"><b>FIXED:</b> <em>When an XSP user's transport_mapping_function callback is invoked, the second parameter is: <code>"lbm_new_transport_info_t *info"</code> which has the field <code>"char source[LBM_MSG_MAX_SOURCE_LEN];"</code>. However, that field does not contain the source string.</em></p>
<dl class="section note"><dt>Note</dt><dd>To pre-6.12 users who worked around this problem by defining <code>"LBM_INTERNAL_USE_ONLY"</code>: your application will continue to work properly with 6.12 without any need to recompile. However, we do recommend that you remove the LBM_INTERNAL_USE_ONLY definition when it is convenient.</dd></dl>
<p><a class="anchor" id="bug5199"></a></p>
</td></tr>
<tr>
<td>5199, 9415 </td><td><p class="starttd"><b>ENHANCEMENT:</b> <em>There are a variety of circumstances where a newly-created streaming receiver will be delivered unrecoverable loss events before the first message is received. This is normally not useful to the application since it does not represent a <em>gap</em> in the received message stream, but rather just difficulty in getting successfully joined to the stream.</em></p>
<p>UM now will suppress unrecoverable loss events prior to the first message delivery. Informatica believes that this new behavior is the correct behavior for UM, and that there should be no cause for concern by users.</p>
<p>This behavior change does not apply to Persisted data streams where delivery of all messages is important.</p>
<p>See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/fundamentalconcepts.html#leadingloss">Leading Loss</a> for more information.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>3398 </td><td><p class="starttd"><b>FIXED:</b> <em>Windows-based UM closes TCP connections abruptly, causing TCP "RST" packets on the network, and "connection
reset" warnings in UM log files.</em></p>
<p>Windows-based UM now closes TCP connections gracefully.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10518 </td><td><p class="starttd"><b>FIXED:</b> <em>When installing UM on a Windows machine using the UM package installer, the system PATH can be corrupted or cleared if the updated length is greater than 1023 bytes.</em></p>
<p>This is related to a limitation in the Windows installer that UM uses; it fails on long PATH content. UM had a bug in which UM did not detect the failure and instead wrote the bad PATH. UM has been updated to detect the failure, issue an error, and not update the PATH.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10380, 10381 </td><td><p class="starttd"><b>FIXED:</b> <em>lbm_rcv_delete_ex and lbm_wildcard_rcv_delete_ex can crash when unsubscribing from spectrum channels.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10469, 10486, 10466 </td><td><p class="starttd"><b>FIXED:</b> <em>When sending a message using a Smart Source send API, UM can crash with a failed assertion of the form: <code>"failed assertion [...-\&gt;sminfo.timer_id == -1]"</code>. This happens when a TSNI is in the process of being sent by the context thread at the same time that the application sends a message.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10492 </td><td><p class="starttd"><b>FIXED:</b> <em>When the lbmrd is configured for incorrect interface specification, either in its XML configuration file, or on the command line, the lbmrd did not detect any error and appears to be running. However, it does not function. Also, the lbmrd does accept interface specifications other than a simple IP address.</em></p>
<p>The lbmrd interface can now be specified as a simple IP addresses, a CIDR network specification (e.g. 10.1.2.0/24), a quoted device name (e.g. "eth0"), or a DNS host name. The lbmrd will report an error if an invalid interface specification is configured.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10288 </td><td><p class="starttd"><b>FIXED:</b> <em>Sending Unicast Immediate (UIM) Requests on Sparc machines can result in high CPU burn with no messages being sent.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10602 </td><td><p class="starttd"><b>FIXED:</b> <em>The <code><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html">tnwgdmonmsgs.h</a></code> header file was omitted from the distribution package. This made it impossible to write daemon stats monitoring applications.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10519 </td><td><p class="starttd"><b>FIXED:</b> <em>The Unix-based UMS and UMP products were built such that liblbm.so had a dependency on libqpid-proton.so.2, which was not included in the package. This did not cause improper behavior because the UMS and UMP products never attempt to call any of the missing entry points. However, having the dependency is unnecessary.</em></p>
<p>The UMS and UMP dependencies to libqpid-proton.so.2 have been removed.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10490, 10491 </td><td><p class="starttd"><b>FIXED:</b> <em>The log message: <br />
<code>Core-5688-447: LBMC datagram malformed.</code> <br />
does not give any information about the sender of the malformed datagram. </em></p>
<p>The IP and port of the sender is now included in the log message.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10456 </td><td><p class="starttd"><b>FIXED:</b> <em>The configuration options <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#zerotransportsfunctionxsp">zero_transports_function (xsp)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#operationalmodexsp">operational_mode (xsp)</a> cannot be specified in a "flat" UM configuration file. The error: <br />
<code>CoreApi-5688-61: object xsp not supported</code> <br />
is logged.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10398 </td><td><p class="starttd"><b>FIXED:</b> <em>On many Linux systems, the <code>"Makefile.unix"</code> shipped with the example programs can produce a build error of the form: <br />
/usr/bin/ld: ....o: undefined reference to symbol 'sqrt...'</em></p>
<p>The solution was to add "-lm" to the builds of the examples.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10383 </td><td><p class="starttd"><b>FIXED:</b> <em>Due to an improper installation of Solarflare's <code>"Onload"</code> library, certain socket calls can return an error. UM reported this error with the unhelpful log: <br />
<code>Core-5688-1881: handle events returned error 0</code></em></p>
<p>UM has been changed to properly decode and print the proper error.</p>
<p>In addition, if the socket reports that the <code>"recvmmsg()"</code> function is not implemented, UM disables the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#multiplereceivemaximumdatagramscontext">multiple_receive_maximum_datagrams (context)</a> feature.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9972 </td><td><p class="starttd"><b>FIXED:</b> <em>If an application attempts to unsubscribe from a <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umobjects.html#spectrum">Spectrum</a> channel that it had not previously been subscribed to, the application crashes with an illegal memory access.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9798 </td><td><p class="starttd"><b>FIXED:</b> <em>If a receiver of a TCP or IPC transport gets messages out of order due to the data coming through a DRO and the originating source is UDP-based, the receiving application declares immediate unrecoverable loss, even though the missing messages arrive shortly thereafter.</em></p>
<p>The TCP transport receiver can now be configured to wait for a period of time before declaring unrecoverable loss. This is controlled by two new configuration options: <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpdrolossrecoverytimeoutreceiver">transport_tcp_dro_loss_recovery_timeout (receiver)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtipcoperation.html#transportlbtipcdrolossrecoverytimeoutreceiver">transport_lbtipc_dro_loss_recovery_timeout (receiver)</a>.</p>
<p>See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/gateway.tag:../../Gateway/" href="../../Gateway/umrouterimplementation.html#umrouterreliableloss">UM Router Reliable Loss</a> for more information.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10435 </td><td><p class="starttd"><b>FIXED:</b> <em>UM does not properly time out the total <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/fundamentalconcepts.html#latejoin">Late Join</a> recovery process. This can lead to premature termination of Late Join recovery.</em></p>
<p>UM now correctly calculates the total Late Join recovery timeout as <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#latejoininforequestintervalreceiver">late_join_info_request_interval (receiver)</a> multiplied by <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#latejoininforequestmaximumreceiver">late_join_info_request_maximum (receiver)</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10640 </td><td><p class="starttd"><b>FIXED:</b> <em>A timing window exists that could cause <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/fundamentalconcepts.html#latejoin">Late Join</a> to not complete. This can occur if the max number of late join requests has been completed before the total Late Join recovery process times out.</em></p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_12"></a>
Persistence Fixed Limitations for 6.12&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_12">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<p><a class="anchor" id="bug5890"></a></p><table class="doxtable">
<tr>
<td>5890, 9054 </td><td><p class="starttd"><b>ENHANCEMENT:</b> <em>There are certain circumstances where a receiver has to unnecessarily wait for the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeactivitytimeoutreceiver">ume_activity_timeout (receiver)</a> to expire before it can register with a Store.</em></p>
<p>An enhancement was made to persistent receivers that allows for immediate re-registration in the following circumstances: </p><ul>
<li>
A persistent source application is started and takes over from a proxy source. </li>
<li>
A persistent source application using a session ID re-registers with the Store. </li>
<li>
A receiver process is restarted and it has the same session ID, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastimmediatemessagingnetwork.html#requesttcpinterfacecontext">request_tcp_interface (context)</a>, and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastimmediatemessagingnetwork.html#requesttcpportcontext">request_tcp_port (context)</a> values. </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10446, 10450 </td><td><p class="starttd"><b>FIXED:</b> <em>When applications and/or Stores are restarted in certain orders, the receiver can log the warning, <code>"Core-9743-08: WARNING: proactive keepalive is not supported at the store"</code>. This can happen even though the Store does support the Proactive Keepalive feature.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10379 </td><td><p class="starttd"><b>FIXED:</b> <em>When a persistent source deregisters from the Store by API call (<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a3a89366ab4e36dfa362e20397778d04a">lbm_src_ume_deregister()</a>), the Store will occasionally crash.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10617 </td><td><p class="starttd"><b>FIXED:</b> <em>The Store code sometimes reads an uninitialized memory location. No improper behavior has been seen when this happens, but there is a very small chance that a receiver's outstanding messages will not be properly acknowledged, leading to potential unnecessary message recovery if the receiver restarts. This has never been observed in the field.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10564 </td><td><p class="starttd"><b>FIXED:</b> <em>When a Smart Source is configured for persistence, incorrect internal handling can lead to incorrect Forced Reclaims.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10462, 10432, 10482 </td><td><p class="starttd"><b>FIXED:</b> <em>After a set of multiple store restarts without clearing the state and cache files, there can be an extended period of topic deafness where persistent receivers will not see messages sent by the source.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10454 </td><td><p class="starttd"><b>FIXED:</b> <em>When an RPP store is writing to disk due to a non-blocking receiver exiting, and the disk fills and needs to wrap, the store can stop accepting new messages.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10447 </td><td><p class="starttd"><b>FIXED:</b> <em>If a source sends messages and then immediately deregisters, there is a chance that the Store will crash with an illegal memory access.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10343 </td><td><p class="starttd"><b>FIXED:</b> <em>When a Smart Source is publishing a persisted message stream, and there is a large amount of network packet loss, the publisher can crash with the log: <br />
<code>FATAL: failed assertion [info-&gt;sqn == ctlr-&gt;trail_sqn]</code></em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10341 </td><td><p class="starttd"><b>FIXED:</b> <em>Minor misspelling in Store log message: <br />
<code>Store-8079-10: Staring store...</code> <br />
(Should be "Starting"; the second "t" is missing.)</em></p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_12"></a>
Queuing Fixed Limitations for 6.12&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_12">&lt;-</a></small></h3>
<p>The following bug fixes apply to the UMQ product.</p>
<table class="doxtable">
<tr>
<td>9974 </td><td><p class="starttd"><b>FIXED:</b> <em>There was a scenario where a late arriving ACK from a ULB receiver could cause the ULB source to crash with an illegal memory access inside <code>lbm_ulb_src_ctlr_handle_ack()</code>.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10548 </td><td><p class="starttd"><b>FIXED:</b> <em>Starting in UM 6.11, a non-fatal assertion is generated when shutting down a brokered queue receiver: <br />
<code>WARNING: failed assertion [broker-&gt;rcv_list-&gt;sz==0]</code></em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8899 </td><td><p class="starttd"><b>FIXED:</b> <em>A ULB source will get stuck in an infinite loop if <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingqueuing.html#umqulbapplicationsetmessagereassignmenttimeoutsource">umq_ulb_application_set_message_reassignment_timeout (source)</a> is set to zero and one of the receivers exits.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>3632, 8596, 8525 </td><td><p class="starttd"><b>FIXED:</b> <em> If you attempt to disable ULB message reassignment by setting option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingqueuing.html#umqulbapplicationsetmessagereassignmenttimeoutsource">umq_ulb_application_set_message_reassignment_timeout (source)</a> to '<code>x:0</code>', and option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingqueuing.html#umqulbapplicationsetmessagelifetimesource">umq_ulb_application_set_message_lifetime (source)</a> is already set to the default value of 0, in-flight messages are not discarding.</em></p>
<p><em>As a workaround, to inhibit message reassignment use option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingqueuing.html#umqulbapplicationsetmessagemaxreassignmentssource">umq_ulb_application_set_message_max_reassignments (source)</a> set to 1, and leave <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingqueuing.html#umqulbapplicationsetmessagereassignmenttimeoutsource">umq_ulb_application_set_message_reassignment_timeout (source)</a> at its default value.</em></p>
<p>This has now been fixed. The workaround is no longer needed.</p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_12"></a>
Dynamic Router Fixed Limitations for 6.12&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_12">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<td>10443 </td><td><p class="starttd"><b>FIXED:</b> <em>When a DRO portal is queuing outgoing messages (perhaps due to a low rate limiter or a low-bandwidth link), and a topic has more than <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeliverycontrol.html#deliverycontrolmaximumburstlossreceiver">delivery_control_maximum_burst_loss (receiver)</a> (default 1024) messages queued to be sent, there is a possibility that receivers will deliver a burst loss event to the application and not deliver the queued messages, even though they are eventually sent. This is because the originating source sent a TSNI, and the DRO allowed it to bypass the data queue and be sent before the queued data messages. Thus the receiver sees a gap greater than the burst loss configuration and does not wait for the missing data to be sent.</em></p>
<p>The DRO now queues TSNIs behind data messages.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10499 </td><td><p class="starttd"><b>FIXED:</b> <em>The DRO configuration element <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/gateway.tag:../../Gateway/" href="../../Gateway/xmlconfigurationreference.html#drocfg_route-info">&lt;route-info&gt;</a> has the attribute <code>"max-hop-count"</code> which is documented as defaulting to 100. However, the DRO did not properly initialize its internal default, which had the effect of defaulting to 255.</em></p>
<p>The DRO now properly defaults <code>"max-hop-count"</code> to 100.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>3548 </td><td><p class="starttd"><b>FIXED:</b> <em>The UM Router cannot run as a standalone Windows service.</em></p>
<p>Now fixed. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/operations.tag:../../Operations/" href="../../Operations/startupshutdownprocedures.html#umdaemonsaswindowsservices">UM Daemons as Windows Services</a>.</p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="specialupgradeinsructionsfor6_12"></a>
Special Upgrade Instructions for 6.12&nbsp;&nbsp;<small><a href="#specialupgradeinsructionsfor6_12">&lt;-</a></small></h2>
<p>There was one fixed limitation that will require some users to make changes while upgrading to UM version 6.12.</p>
<ul>
<li>
<a class="el" href="index.html#smartsourceheadersizechange">Smart Source Header Size Change</a> </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="smartsourceheadersizechange"></a>
Smart Source Header Size Change&nbsp;&nbsp;<small><a href="#smartsourceheadersizechange">&lt;-</a></small></h3>
<p>A problem in Smart Source was fixed (fixed limitation <a class="el" href="index.html#bug10602">10602</a>) which users of Smart Source need to be aware of.</p>
<p>When a kernel bypass network driver is used, users often change their datagram max size larger than a network MTU to ensure that UM data packets are efficiently filled. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/architecture.html#datagramsandkernelbypassnetworkdrivers">Datagrams and Kernel Bypass Network Drivers</a> for details.</p>
<p>However, because of limitation <a class="el" href="index.html#bug10602">10602</a>, users had to set the datagram max size to different values depending on whether their application used Smart Sources or traditional sources. This was particularly a problem for applications that make use of both Smart Sources and traditional sources; no value was optimal for both.</p>
<p>The fix for limitation <a class="el" href="index.html#bug10602">10602</a> was to have Smart Sources reserve the same amount of space for headers as traditional sources.</p>
<dl class="section warning"><dt>Warning</dt><dd>For users who have set the datagram max size larger than an MTU, you may need to reduce the configured value to avoid IP fragmentation in UM version 6.12 and beyond.</dd></dl>
<p>As described in <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/architecture.html#datagramsandkernelbypassnetworkdrivers">Datagrams and Kernel Bypass Network Drivers</a>, you will need to experimentally determine the optimal value for datagram max size for your use case.</p>
<p><br />
 </p>
<h1><a class="anchor" id="knownlimitations"></a>
Known Limitations&nbsp;&nbsp;<small><a href="#knownlimitations">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="streamingknownlimitations"></a>
Streaming Known Limitations&nbsp;&nbsp;<small><a href="#streamingknownlimitations">&lt;-</a></small></h2>
<p>The following open limitations apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>10498 </td><td><p class="starttd">Security Vulnerability: the Persistent Store web monitor function can be used to read arbitrary files on the host running the Store daemon.</p>
<p>Note that the persistent store web monitor is not a secure system and is not intended to be exposed to unauthorized users. In particular, the web monitor cannot be configured for certificate-based <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umfeatures.html#encryptedtcp">Encrypted TCP</a>. Users are expected to prevent unauthorized access to the web monitor through normal firewalling methods. Users who are unable to limit access to a level consistent with their overall security needs should disable the store web monitor. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/fundamentalconcepts.html#webmonsecurity">Webmon Security</a> for more information.</p>
<dl class="section note"><dt>Note</dt><dd>the UM daemon designs are evolving away from simple web-based monitoring and towards a publish/subscribe model of distributing monitoring events and statistics.</dd></dl>
</td></tr>
<tr>
<td>10609 </td><td><p class="starttd">The UM Router (DRO) daemon statistics message type <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#aeac81f470a988e915602acbb57be5793">tnwg_portal_peer_dstat_record_t</a> has 3 improper fields: remote_interest_topics, remote_interest_pcre_patterns, and remote_interest_regex_patterns. They are improper because those counts do not apply to a peer portal. The tnwg_portal_peer_dstat_record_t messages can have garbage in those fields.</p>
<p><b>Workaround:</b> a monitoring application should ignore those 3 fields.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10136 </td><td><p class="starttd">When an XML file is used to configure UM, an invalid configuration option or value logs appropriate error messages, but does not return failure status to the application. As a workaround, the application logger callback can check for logged messages that start with "Core-5626-" and trigger their own error handler. Note that setting up the logger callback has a clientd (see <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#aae14099b91f2919f424e81f20ca10951">lbm_log()</a>), so a shared structure can be established for the logger callback to communicate any matches it finds to the application thread calling <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#aecac05969bba0d6057589ca03dfe60a2">lbm_config()</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9964 </td><td><p class="starttd">The use of Doxygen to generate the .NET documentation has resulted in the omission of the "LBMCS.chm" windows help package.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9718 </td><td><p class="starttd">The encryption feature does not implement elliptic curve encryption. Cipher suites with "ECDH", "ECDHE", and "ECDSA" cannot be used. Use "DHE" and "RSA" instead.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>4126 </td><td><p class="starttd">When using LBT-IPC transports, 64-bit applications cannot interoperate with 32-bit applications. This includes router endpoint portals.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>6553, 6441 </td><td><p class="starttd">You cannot use Unicode PCRE characters in wildcard receiver patterns on any system that communicates with a HP-UX or AIX system.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>6828, 6830, 6831 </td><td><p class="starttd">There are severe restrictions on the use of NAT with UM. Normally, a UM Router should be used with peer links to transit a NAT. However, there are very restrictive scenarios where Unicast Topic Resolution with <code>lbmrd</code> can be used to establish direct communication across a NAT. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/topicresolutiondescription.html#networkaddresstranslationnat">Network Address Translation (NAT)</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7762 </td><td><p class="starttd">When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have occurred. Mac OS X kernel versions before 9.4 have not produced this behavior.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7992, 7984, 7990 </td><td><p class="starttd">The LBT-SMX transport does not support Topic Sequence Number Information (TSNI) messages. Thus, if LBT-SMX traffic routes through one or more UM Routers, and the original LBT-SMX source does not send messages regularly, remote receivers do not detect and notify the application of topic- level tail loss. Also, UM might not deliver midstream topic-level loss notifications in a timely manner. Remote receivers may also experience repeated transport disconnects and reconnects, and may miss Beginning Of Session (BOS) messages for the remote transport that carries data from the originating SMX source. Remote receivers may also experience head loss, similar to what would occur if the remote UM Router had started after the originating SMX source starts sending. When configuring SMX sources to send through a UM Router, ensure receiving applications do not rely upon these missing TSNI-related behaviors.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8042 </td><td><p class="starttd">It is possible for a thread deadlock to occur in the Java HotSpot Virtual Machine when initializing direct byte buffers. To avoid this bug, upgrade to Java 1.6.0_18 or later. For more information see <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6791815">http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6791815</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8266 </td><td><p class="starttd">With Ultra Messaging on the AIX platform, you might encounter library linking problems due to an older version of '<code>libcrypto.a</code>' in the Ultra Messaging core package. To avoid this, set the LIBPATH in such a way that it takes the system libcrypto.a ahead of the Ultra Messaging '<code>libcrypto.a</code>'.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8727, 8603 </td><td><p class="starttd">You cannot use <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a4094c703f97a7ebe340b985b2ed1ac2b">lbm_rcv_retrieve_transport_stats()</a> to retrieve transport statistics from receivers with SMX sources. Instead, to retrieve these statistics use Automatic Monitoring.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8735, 8323 </td><td><p class="starttd">In AIX systems, you cannot send messages with a zero-length payload.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8744 </td><td><p class="starttd">If the lbmrd configuration file does not specify the version attribute within the '<code>&lt;lbmrd&gt;</code>' element, the daemon quits immediately without an error message. To resolve this issue, change the '<code>&lt;lbmrd&gt;</code>' element to '<code>&lt;lbmrd version="1.0"&gt;</code>'.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8794, 8475 </td><td><p class="starttd">Configuring sources with LBT-RU, source-side filtering, and adaptive batching might cause a crash. Note that adaptive batching is deprecated and will be removed from a future release.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8820, 7368 </td><td><p class="starttd">Setting <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpactivitymethodreceiver">transport_tcp_activity_method (receiver)</a> to '<code>SO_KEEPALIVE</code>' without setting <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpactivitytimeoutreceiver">transport_tcp_activity_timeout (receiver)</a> to a value other than the default value of 0 causes a receiver create fatal assert: '<code>s_entry-&gt;topic.rcv!=NULL</code>'.</p>
<p>Also, any other configuration that causes a receiver create to fail triggers the fatal assert: '<code>s_entry-&gt;topic.rcv!=NULL</code>'.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9030, 8799 </td><td>You cannot set transport options in-line for lbmmon using a UM XML configuration file. Instead, use a Plain Text configuration file to set these options. </td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="persistenceknownlimitations"></a>
Persistence Known Limitations&nbsp;&nbsp;<small><a href="#persistenceknownlimitations">&lt;-</a></small></h2>
<p>The following open limitations fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9940, 10131 </td><td><p class="starttd">If a persistent publisher send a message containing Message Properties, and the Proactive Retransmission feature is used to record the message on the Store, a receiver which recovers the message from the Store will crash with a fatal assert: <br />
<code>FATAL: failed assertion [prop_offset &gt;= 0]</code> <br />
If message properties are used on persisted sources, the user should disable Proactive Retransmissions by setting the configuration option: <br />
<code>source ume_message_stability_timeout 0</code> <br />
See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umemessagestabilitytimeoutsource">ume_message_stability_timeout (source)</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10171 </td><td><p class="starttd">A set of default operational configuration options do not satisfy Persistence recommendations. Hung registrations can result. Persistence users are advised to follow the recommendations in <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/interrelatedconfigurationoptions.html#preventingstoreregistrationhangs">Preventing Store Registration Hangs</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>2982 </td><td><p class="starttd">Receivers using event queues and Spectrum with UMP can experience a SIGSEGV while shutting down if events still exist on the event queue when the application deletes the event queue. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During application shutdown, call lbm_evq_unblock() after deleting receivers associated with the event queue, but before deleting any context objects. When the dispatch thread exits, you can continue with context deletion.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>4543 </td><td><p class="starttd">When running a store on a Solaris machine, you may experience registration failures after a few minutes. The store repeatedly reports the error: <br />
<code>[WARNING]: wait returned error 4 [select: (22) Invalid argument]</code> <br />
Setting <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#fdmanagementtypecontext">fd_management_type (context)</a> to '<code>devpoll</code>' prevents this problem.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>4667 </td><td><p class="starttd">Multi-transport Threads do not support Persistence. Note that MTT is deprecated, and the new XSP feature provides improved multi-threading for receivers, and is compatible with Persistence. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umfeatures.html#transportservicesproviderxsp">Transport Services Provider (XSP)</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>5841 </td><td><p class="starttd">A UMP store daemon, umestored, may shut down unexpectedly if you enable proxy sources and UM is not able to create a transport session for a needed proxy source. For example, if the store is configured to use TCP transports for proxy sources (the default), and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpnetwork.html#transporttcpporthighcontext">transport_tcp_port_high (context)</a> minus <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpnetwork.html#transporttcpportlowcontext">transport_tcp_port_low (context)</a> is 8, then when the 9th proxy source is created, UM will be unable to assign a port for that transport session. This is because UM will attempt to create up to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpnetwork.html#transporttcpmaximumportscontext">transport_tcp_maximum_ports (context)</a> transport sessions, which defaults to 10. <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpnetwork.html#transporttcpporthighcontext">transport_tcp_port_high (context)</a> minus <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpnetwork.html#transporttcpportlowcontext">transport_tcp_port_low (context)</a> must be at least <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpnetwork.html#transporttcpmaximumportscontext">transport_tcp_maximum_ports (context)</a>, and may need to be even larger if other applications and/or daemons on the same machines are configured to use ports from the same range.</p>
<p>Informatica recommends configuring large port ranges appropriate to the transport type.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>6843 </td><td><p class="starttd">An overly aggressive configuration on the source can cause the source to declare the store unresponsive while the source processes stability acknowledgements or confirmed delivery notifications or both. Using "strong RegIDs" prevents the source from sending messages until the store's <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgsourceactivitytimeout">source-activity-timeout</a> expires on the store. After the activity timeout expires, the source can reregister.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7014, 6840 </td><td><p class="starttd">Java applications that create multiple receivers for the same topic in the same context may shut down unexpectedly when calling Dispose() if the topic is in a persistent data stream. Informatica recommends that you either avoid concurrent calls to Dispose() or use a single receiver for each topic and use application code to deliver messages to different callbacks.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7937, 7771 </td><td><p class="starttd">With liveness detection enabled for a UMP source and receiver; the receiver sends liveness keepalives to the source regardless of whether or not the receiver successfully registered with the Store.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8728, 8151 </td><td><p class="starttd">You cannot use receiver liveness detection for sources running on a SPARC-based system.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8755 </td><td><p class="starttd">For message consumption acknowledgements, you must not enable both acknowledgement batching and explicit acknowledgements simultaneously. However, if you do enable both, Ultra Messaging does not inhibit this configuration, and you see unexpected behavior.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8870, 8768 </td><td>When using UMP with Windows, if you terminate a umestored process that was started from a command line window, it might corrupt data that is being written when the process is terminated. This does not apply to umestoreds, which runs as a service. To avoid this problem, ensure that sources are quiescent when stopping the Windows umestored process. </td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="queuingknownlimitations"></a>
Queuing Known Limitations&nbsp;&nbsp;<small><a href="#queuingknownlimitations">&lt;-</a></small></h2>
<p>The following open limitations fixes apply to the UMQ product.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>9211 </td><td><p class="starttd">Option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingqueuing.html#umqqueueactivitytimeoutcontext">umq_queue_activity_timeout (context)</a> has no effect.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9473, 9444 </td><td><p class="starttd">The default paging or "cursor" settings for ActiveMQ might cause poor performance when multiple JMS durable subscribers are added to the same destination. This might cause logs messages similar to the following display: <br />
<code>2014-11-05 17:19:17,205 | WARN | duplicate message from store ID:Server-45448-1415232622173-1:1:1:1:49, redirecting for dlq processing | org.apache.activemq.broker.region.Topic | ActiveMQ Transport: tcp:///10.0.0.1:45449@21868</code></p>
<p>You can improve performance by changing the cursor used by durable subscribers to a vm cursor. However, you then lose the ability in the broker to page messages from memory to disk as memory usage increases. To change to vm cursors for subscribers, update the activemq.xml config file as shown in the following example: <br />
<code>&lt;policyEntry topic="\&gt;" &gt;</code> <br />
<code>&#160;&#160;...</code> <br />
<code>&#160;&#160;&lt;pendingSubscriberPolicy&gt;</code> <br />
<code>&#160;&#160;&#160;&#160;&lt;vmCursor&#160;/&gt;</code> <br />
<code>&#160;&#160;&lt;/pendingSubscriberPolicy&gt;</code> <br />
<code>&#160;&#160;&lt;pendingDurableSubscriberPolicy&gt;</code> <br />
<code>&#160;&#160;&#160;&#160;&lt;vmDurableCursor/&gt;</code> <br />
<code>&#160;&#160;&lt;/pendingDurableSubscriberPolicy&gt;</code> <br />
<code>&#160;&#160;...</code> <br />
<code>&lt;/policyEntry&gt;</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9474, 9446 </td><td>If a broker restarts and is later elected as active, previously assigned messages might be reassigned to consumers without being marked as redelivered. </td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="dynamicrouterknownlimitations"></a>
Dynamic Router Known Limitations&nbsp;&nbsp;<small><a href="#dynamicrouterknownlimitations">&lt;-</a></small></h2>
<p>The following open limitations apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9718 </td><td><p class="starttd">The encryption feature does not implement elliptic curve encryption. Cipher suites with "ECDH", "ECDHE", and "ECDSA" cannot be used. Use "DHE" and "RSA" instead.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8736, 8082 </td><td><p class="starttd">When shutting down and restarting a UM Router, the UM Router sometimes does not complete its shutdown fully, requiring that it be forcible killed.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>Restriction </td><td><p class="starttd">You cannot configure two endpoint portals on a UM Router to have the same adjacent domain id.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>Restriction </td><td><p class="starttd">You cannot configure two peer portals on a UM Router to connect to the same adjacent UM Router.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>Restriction </td><td>The UM Router ignores UM Spectrum configuration options, which results in UM Routers forwarding all channel data without applying any filtering. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umobjects.html#spectrum">Spectrum</a>. </td></tr>
</table>
<p><br />
 </p>
<h1><a class="anchor" id="upgradeprocedure"></a>
Upgrade Procedure&nbsp;&nbsp;<small><a href="#upgradeprocedure">&lt;-</a></small></h1>
<p>Most upgrades from one version to the next are straightforward and uneventful. This is because Informatica strives to introduce new features without affecting existing functionality.</p>
<p>However, users are strongly encouraged to read and understand the release notes for each intermediate version between their existing system and their intended upgrade target.</p>
<p>In particular, there are four areas that deserve special consideration:</p>
<ul>
<li>
Default values for configuration options. </li>
<li>
Deprecations. </li>
<li>
Upgrading brokered queuing and JMS applications to 6.8 or beyond from pre-6.8. </li>
<li>
Upgrading to 6.0 or beyond from pre-6.0 versions. </li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Important: If you are upgrading from Ultra Messaging Version 5.x or earlier, you must recompile and relink your applications to this version's libraries.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="defaultvaluesforconfigurationoptions"></a>
Default Values for Configuration Options&nbsp;&nbsp;<small><a href="#defaultvaluesforconfigurationoptions">&lt;-</a></small></h2>
<p>While Informatica attempts to set configuration option defaults to values that represent good trade offs, there are times when new information or customer feedback demonstrates that a different value delivers more value for the average customer. In many cases, customers will benefit from these new values. However, it is also possible that for specific use cases, a previous default value is better.</p>
<p>Informatica recommends that users evaluate each changed default individually and determine if the new value is appropriate for their use cases. In those cases where the previous default is better, the user must explicitly set the option to that value.</p>
<p>Contact Informatica Support for more information and deeper understanding of UM's configuration options.</p>
<p><br />
 </p>
<h2><a class="anchor" id="deprecations"></a>
Deprecations&nbsp;&nbsp;<small><a href="#deprecations">&lt;-</a></small></h2>
<p>To make UM more maintainable, functionality is sometimes removed from UM. Informatica understands that this can be disruptive to users, so we try to restrict such deprecations to features that, to our knowledge, are not needed by our users.</p>
<p>Informatica recommends careful reading of each version's release notes to learn which features are being deprecated. If you discover that a feature is deprecated which is important to your use case, please contact Informatica Support.</p>
<p><br />
 </p>
<h3><a class="anchor" id="platformdeprecationsfordaemons"></a>
Platform Deprecations for Daemons&nbsp;&nbsp;<small><a href="#platformdeprecationsfordaemons">&lt;-</a></small></h3>
<p>In a future version of UM, there will be a reduction in supported platform for UM daemons.</p>
<p>The UM daemons are: </p><ul>
<li>
Unicast Resolver Daemon (lbmrd) </li>
<li>
Persistent Store (stored) </li>
<li>
DRO - UM Router (tnwgd) </li>
<li>
Stateful Resolution Service (SRS) </li>
<li>
UMM Ultra Messaging Manager (ummd) </li>
<li>
ActiveMQ broker </li>
</ul>
<p>Starting with a future version of UM, the daemons will only be supported on the following platforms: </p><table class="doxtable">
<tr>
<th>Daemon </th><th>Linux 64 </th><th>Windows 64 </th><th>Windows 32 </th></tr>
<tr>
<td>Unicast Resolver Daemon (lbmrd) </td><td>YES </td><td>YES </td><td>no </td></tr>
<tr>
<td>Persistent Store (stored) </td><td>YES </td><td>YES </td><td>no </td></tr>
<tr>
<td>DRO - UM Router (tnwgd) </td><td>YES </td><td>YES </td><td>YES </td></tr>
<tr>
<td>SRS - Stateful Resolution Service </td><td>YES </td><td>YES </td><td>no </td></tr>
<tr>
<td>UMM Ultra Messaging Manager (ummd) </td><td>YES </td><td>YES </td><td>no </td></tr>
<tr>
<td>ActiveMQ broker </td><td>YES </td><td>YES </td><td>no </td></tr>
</table>
<p>Note that there is no change in support for <em>applications</em>. UM daemons running on the reduced set of platforms will be able to service applications running on the full range of supported platforms.</p>
<p><br />
 </p>
<h2><a class="anchor" id="upgradingbrokeredqueueingandjms"></a>
Upgrading Brokered Queuing and JMS&nbsp;&nbsp;<small><a href="#upgradingbrokeredqueueingandjms">&lt;-</a></small></h2>
<p>In UM version 6.8, the brokered queuing functionality and JMS API was re-implemented with an enhanced ActiveMQ-based JMS/AMQP broker. In many cases, the UM queuing API can still be used with few if any changes.</p>
<dl class="section note"><dt>Note</dt><dd>Important: If you are upgrading non-ULB queuing applications from versions prior to 6.8, note that this upgrade has a major impact on your applications and deployment. The umestored daemon no longer implements queuing functionality; instead, the UMQ client API now uses the AMQP protocol to communicate with an ActiveMQ broker for queuing functionality. You must rebuild applications, redeploy daemons, and perform a flash cut over. Also, review your applications for functionalities that are deprecated in UMQ 6.8 or later. UMQ clients using version 6.8 or later will not interoperate with a pre-6.8 umestored-based queue broker. UMQ clients using versions earlier than 6.8 will not interoperate with an ActiveMQ broker. For more information, see the Guide for Queuing.</dd></dl>
<p>See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/umq.tag:../../UMQ/" href="../../UMQ/gettingstarted.html#queuingupgradeconsiderations">Queuing Upgrade Considerations</a> for more information about upgrading brokered queuing applications.</p>
<p><br />
 </p>
<h2><a class="anchor" id="upgradingfromversionpre60"></a>
Upgrading From Version Pre-6.0&nbsp;&nbsp;<small><a href="#upgradingfromversionpre60">&lt;-</a></small></h2>
<p>With the introduction of the UM Router, several changes needed to be made to the "wire format" of UM command and control messages. This resulted in 6.0-based applications not being interoperable with pre-6.0 applications. For many customers, this did not pose a significant problem since they were able to upgrade all of their systems in a single step. I.e. there was no need for pre-6.0 applications to exchange messages with 6.0 applications.</p>
<p>However, for many customers, this kind of "flash" upgrade is simply not practical. Therefore, starting with UM version 6.7, an upgrade path was developed which allows different applications to be upgraded at different times, while still allowing those mixed-version applications to exchange messages.</p>
<dl class="section note"><dt>Note</dt><dd>When you upgrade from a previous version, you must set option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umestoreactivitytimeoutsource">ume_store_activity_timeout (source)</a> to 10,000 and UMP store option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgkeepaliveinterval">keepalive-interval</a> to 3,000. This avoids unexpected behavior during a phased upgrade.</dd></dl>
<p>To upgrade Ultra Messaging from version 5.3.x to version 6.7 and beyond, perform the following procedure:</p>
<ol>
<li>
<p class="startli">If the current installation is earlier than 5.3, upgrade all applications and components except UMDS servers to version 5.3.6 or later.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Pre-6.0 versions of UM are not ABI compatible with 6.0 and beyond. C language application programs must be re-compiled.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">If using UMP stores, ensure that all source settings for option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umestorebehaviorsource">ume_store_behavior (source)</a> are set to '<code>qc</code>' or '<code>quorum-consensus</code>', and not '<code>rr</code>' or '<code>round-robin</code>'.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Upgrade all lbmrd resolver daemons to this release. No configuration changes are required.</p>
<p class="endli"></p>
</li>
<li>
If using UMP stores, upgrade all umestored daemons in groupings that observe the following requirements: <ul>
<li>
A single source cannot specify a mixture of 5.3.x and this release's umestored daemons. </li>
<li>
Separate sources on the same context can specify daemons of different versions. </li>
<li>
Do not start upgraded daemons with 5.3.x state and cache files. </li>
</ul>
<dl class="section note"><dt>Note</dt><dd>When upgrading from 5.3.x, if you neglect to set <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#compatibilityincludepreum60behaviorcontext">compatibility_include_pre_um_6_0_behavior (context)</a> to 1, receivers incorrectly receive messages without persistence.</dd></dl>
</li>
<li>
<p class="startli">Upgrade source and receiver applications. You can upgrade these one by one, in any order. As you upgrade each application, set the following configuration options: </p><ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#compatibilityincludepreum60behaviorcontext">compatibility_include_pre_um_6_0_behavior (context)</a> to 1 </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpusesessionidsource">transport_tcp_use_session_id (source)</a> to 0 </li>
</ul>
<p>These settings must remain during the period when the network contains both applications based on 5.3.x and this release.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">If you use Late Join or OTR, review the settings for Late Join or OTR per-message timeout options. Note that option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeprecated.html#otrrequestdurationreceiver">otr_request_duration (receiver)</a> was deprecated in 6.0, and the following options are added: </p><ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#latejoininforequestintervalreceiver">late_join_info_request_interval (receiver)</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#latejoininforequestmaximumreceiver">late_join_info_request_maximum (receiver)</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#retransmitrequestmessagetimeoutreceiver">retransmit_request_message_timeout (receiver)</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpofftransportrecovery.html#otrmessagecachingthresholdreceiver">otr_message_caching_threshold (receiver)</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpofftransportrecovery.html#otrrequestmessagetimeoutreceiver">otr_request_message_timeout (receiver)</a> </li>
</ul>
<p class="endli"></p>
</li>
<li>
After all components are upgraded to this release, set the following configuration options: <ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#compatibilityincludepreum60behaviorcontext">compatibility_include_pre_um_6_0_behavior (context)</a> to 0 </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpusesessionidsource">transport_tcp_use_session_id (source)</a> to 1 </li>
</ul>
</li>
</ol>
<p><br />
 </p>
<h3><a class="anchor" id="logmessagesduringupgrade"></a>
Log Messages During Upgrade&nbsp;&nbsp;<small><a href="#logmessagesduringupgrade">&lt;-</a></small></h3>
<p>For 5.3.x applications on the same TRD as this release, you might see the following log messages:</p>
<dl class="section user"><dt>LBMC unknown next header 64</dt><dd>Informational. You can ignore this message. You can reduce the frequency of this message by increasing the value for context option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastimmediatemessagingoperation.html#responsetcpdeletiontimeoutcontext">response_tcp_deletion_timeout (context)</a>.</dd></dl>
<dl class="section user"><dt>LBMR Topic Info Record malformed. Dropping remainder</dt><dd>Issued for every TIR that contains a TCP Session ID. You must set option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpusesessionidsource">transport_tcp_use_session_id (source)</a> to 0 during the interim migration period.</dd></dl>
<dl class="section user"><dt>LOG Level 5: Core-5688-3387: LBMR Extended Type 0x7 incorrect (10.29.3.49:40633 len 102). [...D.....&lt;.............1I...........(&gt;..............store-name............ (&gt;.........................$]. Dropping.</dt><dd>Informational. This occurs if UMP store umestored daemons are present and configured with a discoverable name. For each name advertisement, all contexts drop the packet and log this warning.</dd></dl>
<dl class="section user"><dt>[WARNING]: Core-5688-516: LBMC cntl unknown next header: 55.</dt><dd>Informational. Issued once per transport session when receiving an SRI from a UMP source.</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_11_1"></a>
UM Version 6.11.1&nbsp;&nbsp;<small><a href="#umversion6_11_1">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.11.1 is a set of performance improvements to the Persistent Store daemon. Some performance improvements were also applied to the data receive path for applications.</p>
<dl class="section attention"><dt>Attention</dt><dd>See <a class="el" href="index.html#deprecationsfor6111">Deprecations for 6.11.1</a> for important information regarding future platform support for UM daemons.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_11_1"></a>
Enhancements for 6.11.1&nbsp;&nbsp;<small><a href="#enhancementsfor6_11_1">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_11_1"></a>
Streaming Enhancements for 6.11.1&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_11_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
Performance improvements made to the data reception code paths, including reduction in calls to gettimeofday(), and some localized code optimizations. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_11_1"></a>
Persistence Enhancements for 6.11.1&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_11_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
The Persistent Store benefits from the performance enhancements made on the data receive path. (See also <a class="el" href="index.html#persistencefixedlimitationsfor6_11_1">Persistence Fixed Limitations for 6.11.1</a>.) </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_11_1"></a>
Queuing Enhancements for 6.11.1&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_11_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_11_1"></a>
Dynamic Router Enhancements for 6.11.1&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_11_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_11_1"></a>
Fixed Limitations for 6.11.1&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_11_1">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_11_1"></a>
Streaming Fixed Limitations for 6.11.1&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_11_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<td>10385, 10280 </td><td>Enhancement: <em>Reduced number of gettimeofday() calls in context loop. This lowers receive-side latency and CPU load.</em> </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_11_1"></a>
Persistence Fixed Limitations for 6.11.1&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_11_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<td>10332, 10409 </td><td><p class="starttd"><b>FIXED:</b> <em>When the Persistent Store is configured to publish <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/storedaemonstatistics.html">Daemon Statistics</a>, there is a small chance that it will fail to initialize properly. It might log the error:</em> <br />
<code>[CRITICAL]: Store-10184-80: umestore_dmon_publish: CoreApi-5688-2996: src must be valid</code> <br />
<em>and could exit with a segmentation fault.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10400, 10401 </td><td><p class="starttd"><b>FIXED:</b> <em>Bug in Persistent Store leads to performance degradation over time. (This bug has existed in the Store for many years.)</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10404, 10411</td><td><p class="starttd"><b>FIXED:</b> <em>When using <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/operationalview.html#receiverpacedpersistenceoperations">RPP</a> with <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgrepositorytype">repository-type</a> "disk", it is possible for a <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umereceiverpacedpersistencereceiver">blocking receiver</a> to get unrecoverable loss. This loss can be accompanied by the following warning in the Persistent Store log file:</em> <br />
<code>[WARNING]: WARNING: failed assertion [ntohl(ohdr-&gt;sqn)==rec-&gt;sqn]</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10406, 10407 </td><td><b>FIXED:</b> <em>A bug fix added to 6.10.1 accidentally introduced a significant performance reduction in the UMP Persistent Store. This regression is repaired in 6.11.1.</em> </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_11_1"></a>
Queuing Fixed Limitations for 6.11.1&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_11_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_11_1"></a>
Dynamic Router Fixed Limitations for 6.11.1&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_11_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="deprecationsfor6111"></a>
Deprecations for 6.11.1&nbsp;&nbsp;<small><a href="#deprecationsfor6111">&lt;-</a></small></h2>
<dl class="section attention"><dt>Attention</dt><dd>This section of the 6.11.1 release notes announced the deprecation of certain platforms for UM daemons, claiming that they would be discontinued in UM version 6.12. However, some users requested more time for the transition. As of UM version 6.12, these deprecated daemon platforms have not yet been removed, and are therefore still fully supported in 6.12 (contrary to what is written below). See <a class="el" href="index.html#platformdeprecationsfordaemons">Platform Deprecations for Daemons</a>.</dd></dl>
<p>Starting with UM version 6.12, the UM daemons will no longer be available on certain platforms.</p>
<dl class="section note"><dt>Note</dt><dd>User applications will continue to be fully supported on all platforms. These deprecations only apply to UM daemon executables, such as the Store Daemon and the Dynamic Router daemon.</dd></dl>
<p>UM daemons will continue to be available on the following platforms: </p><ul>
<li>
Persistent Store daemon ("stored"): Linux 64-bit, Windows 64-bit. </li>
<li>
UM Dynamic Router daemon ("tnwgd"): Linux 64-bit, Windows 64 and 32-bit. </li>
<li>
UM Manager daemon ("ummd"): Linux 64-bit, Windows 64-bit. </li>
<li>
UM Resolution daemon ("lbmrd"): Linux 64-bit, Windows 64-bit. </li>
<li>
UM Queue Broker (ActiveMQ): Linux 64-bit, Windows 64-bit. </li>
</ul>
<p>The planned deprecated daemon platforms are: </p><ul>
<li>
Solaris (X86 and Sparc) </li>
<li>
AIX </li>
<li>
MacOS </li>
<li>
Linux 32-bit </li>
<li>
Windows 32-bit (except Dynamic Router "tnwgd", which will continue on 32-bit) </li>
</ul>
<p>User applications deployed on these platforms will fully interoperate with daemons running on the reduced set of platforms.</p>
<p>Please contact support if any of these planned deprecations interfere with your existing or planned deployments.</p>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_11"></a>
UM Version 6.11&nbsp;&nbsp;<small><a href="#umversion6_11">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_11"></a>
Enhancements for 6.11&nbsp;&nbsp;<small><a href="#enhancementsfor6_11">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_11"></a>
Streaming Enhancements for 6.11&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_11">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli"><b>Transport Services Provider (XSP).</b> XSP is a new method of assigning receiver transport sessions to independent threads. It replaces the earlier limited <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/fundamentalconcepts.html#multitransportthreads">Multi-Transport Threads</a> feature. XSP gives the application control over how received transport sessions are assigned to threads. For more information, see <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umfeatures.html#transportservicesproviderxsp">Transport Services Provider (XSP)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Enhanced Smart Source feature.</b> The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/advancedoptimizations.html#smartsources">Smart Sources</a> feature now supports more functionality. Some of this support is limited, so please check the corresponding sections for further information. </p><ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/enablingpersistence.html#smartsourcesandpersistence">Smart Sources and Persistence</a> is now supported, </li>
<li>
LBT-RU transport type is now supported, </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umobjects.html#smartsourcesandspectrum">Smart Sources and Spectrum</a> is now supported, </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/advancedoptimizations.html#smartsourcesandmemorymanagement">Smart Sources and Memory Management</a> is now supported, </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umobjects.html#smartsourcesandmessageproperties">Smart Sources and Message Properties</a> is now supported. </li>
</ul>
<p>For this UM version, the Smart Source API is not supported in .net.</p>
<p class="endli"></p>
</li>
<li>
<b>Rolling Log Files for Persistent Store and UM Router (DRO).</b> To prevent unbounded disk file growth, the Persistent Store and the UM Router now support rolling log files. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/designingpersistenceapplications.html#storerollinglogs">Store Rolling Logs</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/gateway.tag:../../Gateway/" href="../../Gateway/umroutermonitoring.html#umrouterrollinglogs">UM Router Rolling Logs</a> for details. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_11"></a>
Persistence Enhancements for 6.11&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_11">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
<p class="startli">Smart Sources now support Persistence. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/enablingpersistence.html#smartsourcesandpersistence">Smart Sources and Persistence</a>. (See also <a class="el" href="index.html#streamingenhancementsfor6_11">Streaming Enhancements for 6.11</a> for more enhancements to Smart Sources.)</p>
<p class="endli"></p>
</li>
<li>
<b>Store Daemon Statistics.</b> A new method of monitoring the Persistent Store daemon. The same information which is currently available on the daemons' web monitors can now be published on a normal UM topic. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umobjects.html#daemonstatistics">Daemon Statistics</a>. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_11"></a>
Queuing Enhancements for 6.11&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_11">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_11"></a>
Dynamic Router Enhancements for 6.11&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_11">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
<p class="startli"><b>Dynamic Router Daemon Statistics.</b> A new method of monitoring the UM Dynamic Router daemon. The same information which is currently available on the daemons' web monitors can now be published on a normal UM topic. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umobjects.html#daemonstatistics">Daemon Statistics</a>.</p>
<p class="endli"></p>
</li>
<li>
The UM Router now logs an informational message each time its internal routing table changes giving the reason for the change. Messages of this form will be printed during normal startup, to give status as the UM Router network establishes connectivity, and they will also be printed when a disruption causes a change in connectivity. The messages are of the form "Gwd-9574-xx". </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_11"></a>
Fixed Limitations for 6.11&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_11">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_11"></a>
Streaming Fixed Limitations for 6.11&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_11">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<td>10260 </td><td><p class="starttd"><b>FIXED:</b> <em>When using Smart Source, a source processing NAKs can fatal assert: "(bvec-&gt;flags &amp; ~LBTRM_BVEC_SMART_SOURCE_FLAG) == 0".</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10178 </td><td><p class="starttd"><b>FIXED:</b> <em>An unnecessary sprintf() initializing a string buffer is being called from <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ad9416b1f0b474b5d4c4f39bb3c4bda77">lbm_context_process_events()</a>.</em></p>
<p>The sprintf() was moved to context creation.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10135 </td><td><p class="starttd"><b>FIXED:</b> <em>When using the JAVA interface, if the source has <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umemessagestabilitynotificationsource">ume_message_stability_notification (source)</a> set to LBM_SRC_TOPIC_ATTR_UME_STABLE_EVENT_PER_MESSAGE, you could get an ArrayIndexOutOfBoundsException on the source event callback.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10087 </td><td><p class="starttd"><b>FIXED:</b> <em>Applications and daemons are at risk of a bus error on architectures that require alignment (SPARC, Power). These happen very rarely, and are associated with UIM messages in a UM Routed (DRO) environment. (Note: UIMs are involved with many features, such as Late Join, Persistence, and ULB.)</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10085 </td><td><p class="starttd"><b>FIXED:</b> <em>Interoperation between little-endian and big-endian architectures was broken in UM version 6.10. This problem also interferes with interoperation between 6.10 and any other version of UM, on big-endian architectures. This affects systems that use any combination of UM Routers (DRO), Persistence, or Hot Failover. Users with big-endian architectures are advised to avoid UM version 6.10.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10079 </td><td><p class="starttd"><b>FIXED:</b> <em>Java and .NET programs that use the topic resolution callback by overriding the context object's onResolverEvent() method can generate a segmentation fault, resulting in a JVM dump.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10071, 10072 </td><td><p class="starttd"><b>FIXED:</b> <em>SDM: cloning an attribute object does not copy over the state of the "name_tree" attribute.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10048 </td><td><p class="starttd"><b>FIXED:</b> <em>If a Java application improperly calls respond() for a message after it had been disposed, a crash results. It is requested that respond() instead throw an exception, to make it easier for application bugs to be diagnosed.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9973 </td><td><p class="starttd"><b>FIXED:</b> <em>If <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ad4d06f66b8404684e191ca178e0cc09b">lbm_send_request()</a> is called on a heavily-loaded system, and a response is returned very quickly, the <code>"lbm_request_t **reqp"</code> parameter can be returned with NULL.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9963, 10172 </td><td><p class="starttd"><b>FIXED:</b> <em>In UM version 6.7 a change was made which had the unintended consequence of unnecessarily increasing network traffic related to "final advertisements" (see <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpudpbasedresolveroperation.html#resolversendfinaladvertisementssource">resolver_send_final_advertisements (source)</a>).</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9913 </td><td><p class="starttd"><em>Source Send call from within context callbacks is inconsistently documented.</em></p>
<p>The C, Java, and .NET API documents have been updated to be consistent and correct related to context thread callbacks. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a91f4b9cb04fe1323ec56833211cc5cb7">lbm_src_send()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a091b5806bf18d10ebd0d9117e0c70229">lbm_src_send_ex()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#af28189e64ef0ee10d3444e418443aaa9">lbm_src_sendv()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a4d883eaaa22baf81abf21d495f471c8b">lbm_src_sendv_ex()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ad4d06f66b8404684e191ca178e0cc09b">lbm_send_request()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#aabcfb44e7f5188a47d8d56540e783fa7">lbm_send_request_ex()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#aeff48e558306b4bd869af2d99dcf5f4c">lbm_hf_src_send()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ac515c1425d9b3f04f1e2cea5d66d3005">lbm_hf_src_send_ex()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a9f7ed3785938fcfd4771965d6430c4f2">lbm_hf_src_send_rcv_reset()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a713c05423f7bf1767a29727c07aa4447">lbm_hf_src_sendv()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#acb6f42a8811cb998b4b19748b190f39b">lbm_hf_src_sendv_ex()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a0bbc01b600ccc2ae874474e35955eb85">lbm_send_response()</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9829 </td><td><p class="starttd"><b>FIXED:</b> <em>If a Java application improperly attempts to close a context object before all child objects (sources, receivers) are closed, a crash can result.</em></p>
<p>Now, if an application attempts to close a context that still contains active sources or receivers, a warning is logged and the context is not closed. However, no exception is thrown from the context close; it returns normally. The user must use the error log to identify the application bug.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9816 </td><td><p class="starttd"><b>FIXED:</b> <em>The documentation did not inform the user that it is necessary to have a consistent value for <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtrmoperation.html#transportlbtrmdatagrammaxsizecontext">transport_lbtrm_datagram_max_size (context)</a>.</em></p>
<p>A note has been added to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpudpbasedresolveroperation.html#resolverdatagrammaxsizecontext">resolver_datagram_max_size (context)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtsmxoperation.html#transportlbtsmxdatagrammaxsizesource">transport_lbtsmx_datagram_max_size (source)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtrmoperation.html#transportlbtrmdatagrammaxsizecontext">transport_lbtrm_datagram_max_size (context)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtruoperation.html#transportlbtrudatagrammaxsizecontext">transport_lbtru_datagram_max_size (context)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpdatagrammaxsizecontext">transport_tcp_datagram_max_size (context)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtipcoperation.html#transportlbtipcdatagrammaxsizecontext">transport_lbtipc_datagram_max_size (context)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeprecated.html#transportlbtrdmadatagrammaxsizecontext">transport_lbtrdma_datagram_max_size (context)</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9606 </td><td><p class="starttd"><b>FIXED:</b> <em>Java properties don't support redundant keys. This creates a problem for the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastresolvernetwork.html#resolverunicastdaemoncontext">resolver_unicast_daemon (context)</a> configuration option which needs to be specified multiple times for redundant <code>lbmrd</code> operation. This does not work with Java Properties.</em></p>
<p>The solution was to modify <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastresolvernetwork.html#resolverunicastdaemoncontext">resolver_unicast_daemon (context)</a> to allow multiple servers to be specified in a single specification, separated by commas or semicolons. For example:<br />
 <code>cattr.setProperty("resolver_unicast_daemon", "10.3.29.181:5555,10.3.29.185:5555,10.3.29.190:5555");</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>5555 </td><td><p class="starttd"><b>FIXED:</b> <em>Message Properties are incompatible with the Spectrum feature. Both cannot be used for the same message.</em></p>
<p>Now a message can be sent both with message properties and to a Spectrum channel.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7763 </td><td>This bug cannot be reproduced in any recent version of UM. The bug is assumed to be FIXED: <em>You cannot send messages larger than 65,535 bytes over the LBT-IPC transport when you set option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#ordereddeliveryreceiver">ordered_delivery (receiver)</a> to 0 (zero) unless you also set <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtipcoperation.html#transportlbtipcbehaviorsource">transport_lbtipc_behavior (source)</a> to '<code>receiver_paced</code>'.</em> </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_11"></a>
Persistence Fixed Limitations for 6.11&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_11">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<td>10231 </td><td><p class="starttd"><b>FIXED:</b> <em>The Persistent Store Web Monitor displays truncated values for "Retransmission Request Received Rate" and "Retransmission Request
Service Rate".</em></p>
<p>The decimal portion is now correctly displayed.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>6088, 8660, 8955, 4899 </td><td><p class="starttd"><b>FIXED:</b> <em>Persistent Store log files grow without bounds.</em></p>
<p>Rolling log files are now implemented in the Store and in the UM Router. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/designingpersistenceapplications.html#storerollinglogs">Store Rolling Logs</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/gateway.tag:../../Gateway/" href="../../Gateway/umroutermonitoring.html#umrouterrollinglogs">UM Router Rolling Logs</a> for details.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10201 </td><td><p class="starttd"><b>FIXED:</b> <em>In a scenario where messages are getting lost and proactive retransmissions are being used between the source and the store, it is possible to get into a state where the source would be infinitely stuck on flight size.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10196 </td><td><p class="starttd"><b>FIXED:</b> <em>When a store is not keeping up with incoming messages to the point where it has to intentionally drop incoming messages, there is a possible scenario where the source can get stuck, blocked on flight size.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10183, 6324 </td><td><p class="starttd"><b>FIXED:</b> <em>When the store is overwhelmed with incoming messages and has to intentionally drop some messages, it is possible for the state associated with the store to get corrupted and, depending on the next sequence of events, one or more of the following messages can be logged: </p><ul>
<li>
<code>FATAL: failed assertion [buff-&gt;len&lt;=LBMUIM_APDU]</code> </li>
<li>
<code>WARNING: failed assertion [ntohl(ohdr-&gt;sqn)==rec-&gt;sqn]</code> </li>
<li>
<code>WARNING: failed assertion [ntohs(ohdr-&gt;msglen)&lt;=rxbuff-&gt;maxlen]</code> </li>
<li>
<code>WARNING: failed assertion [ntohs(ohdr-&gt;msglen)==rec-&gt;disk_len]</code> </li>
</ul>
<p>followed by either an abort or a segmentation fault.</em></p>
<p>Checks have been added so that the store's state won't be corrupted.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10176 </td><td><p class="starttd">The description of message Store-5688-5574 has been corrected.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10063, 10064 </td><td><p class="starttd"><b>FIXED:</b> <em>Version 6.10 of the Persistent Store had a condition that could cause rare segmentation faults. When it happens, it is usually associated with the store falling behind the source.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10036 </td><td><p class="starttd"><b>FIXED:</b> <em>When using an RPP non-blocking receiver, the source blocks once the store's disk repository fills up.</em></p>
<p class="endtd">Now, when the store's repository fills up, messages will be deleted if only non-blocking acks are outstanding. </p>
</td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_11"></a>
Queuing Fixed Limitations for 6.11&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_11">&lt;-</a></small></h3>
<p>The following bug fixes apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_11"></a>
Dynamic Router Fixed Limitations for 6.11&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_11">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<td>10194 </td><td><p class="starttd"><b>FIXED:</b> <em>When Peer Links attempt to establish connections, there is a window during which a socket could get closed just before attempting to complete the connection. This can result in a fatal assert "handle==conn_mgr-&gt;sock-&gt;sock", or could simply result in the peer link not making any more connection attempts, leaving the link permanently disconnected.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10188 </td><td><p class="starttd"><b>FIXED:</b> <em>An issue with routing Multicast Immediate Messages (MIM) through a DRO running SPARC 32-bit systems which caused a bus error.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10163 </td><td><p class="starttd"><b>FIXED:</b> <em>There are several instances of random message corruption which can cause the UM Router to crash.</em></p>
<p>Defensive checks have been added to protect the DRO against malformed messages.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10051 </td><td><p class="starttd"><b>FIXED:</b> <em>Large UIM messages can become corrupted while transiting a DRO network. It happens when message fragments are either dropped (due to link overload) or become out of order.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10050 </td><td><b>FIXED:</b> <em>In UM 6.10, the UM Router (DRO) crashes when it is paired with the UMS or UMP version of the UM library.</em> </td></tr>
</table>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_10_1"></a>
UM Version 6.10.1&nbsp;&nbsp;<small><a href="#umversion6_10_1">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.10.1 is a set of bug fixes.</p>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_10_1"></a>
Enhancements for 6.10.1&nbsp;&nbsp;<small><a href="#enhancementsfor6_10_1">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_10_1"></a>
Streaming Enhancements for 6.10.1&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_10_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_10_1"></a>
Persistence Enhancements for 6.10.1&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_10_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_10_1"></a>
Queuing Enhancements for 6.10.1&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_10_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_10_1"></a>
Dynamic Router Enhancements for 6.10.1&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_10_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_10_1"></a>
Fixed Limitations for 6.10.1&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_10_1">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_10_1"></a>
Streaming Fixed Limitations for 6.10.1&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_10_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>10051, 10130 </td><td><p class="starttd"><b>FIXED:</b> <em>Large UIM messages, such as UM responses, can become corrupted when transferred between Topic Resolution Domains by a UM Router (DRO).</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10085, 10086 </td><td><p class="starttd"><b>FIXED:</b> <em>For UM version 6.10 (only) running on "big-endian" machines (e.g. SPARC), 64-bit values in UM packet headers were not properly swapped, with the result that for certain features, big-endian machines cannot interoperate with little-endian machines. The problem is most visible with the ULB feature, and the UM Router (DRO).</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10050, 10054 </td><td><p class="starttd"><b>FIXED:</b> <em>For UMM version 6.10 (only), the UM Router (DRO) is not able to run o the UMS or UMP products' "lbm" libraries.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10106 </td><td><b>FIXED:</b> <em>Documentation related to several configuration options, including <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpsendersocketbuffersource">transport_tcp_sender_socket_buffer (source)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastimmediatemessagingoperation.html#responsesessionsendersocketbuffercontext">response_session_sender_socket_buffer (context)</a>, and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgrepositorysizethreshold">umecfgrepositorysizethreshold</a>.</em> </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_10_1"></a>
Persistence Fixed Limitations for 6.10.1&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_10_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>10050, 10054 </td><td><b>FIXED:</b> <em>For UMM version 6.10 (only), the UM Router (DRO) is not able to run on the UMS or UMP products' "lbm" libraries.</em> </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_10_1"></a>
Queuing Fixed Limitations for 6.10.1&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_10_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_10_1"></a>
Dynamic Router Fixed Limitations for 6.10.1&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_10_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>10050, 10054 </td><td><b>FIXED:</b> <em>For UMM version 6.10 (only), the UM Router (DRO) is not able to run on the UMS or UMP products' "lbm" libraries.</em> </td></tr>
</table>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_10"></a>
UM Version 6.10&nbsp;&nbsp;<small><a href="#umversion6_10">&lt;-</a></small></h1>
<p>The most-significant updates to UM version 6.10 are related to improving performance (latency, jitter, and throughput).</p>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_10"></a>
Enhancements for 6.10&nbsp;&nbsp;<small><a href="#enhancementsfor6_10">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_10"></a>
Streaming Enhancements for 6.10&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_10">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli"><b>IPC performance improvement.</b> Changed the receiver-side dequeuing algorithm to avoid semaphore operations when possible. Also see configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtipcoperation.html#transportlbtipcpendbehaviorlingerloopcountcontext">transport_lbtipc_pend_behavior_linger_loop_count (context)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>NCF reduction.</b> Changed the LBT-RM reliability algorithm to reduce the number of NCF control messages sent during periods of heavy loss. The change reduces the impact of loss on healthy receivers, but might slightly increase the load on the source.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Host names in configuration files.</b> For configuration options that take an IP address, it is now permissible to supply a host name. UM will resolve the name to an IP address when the configuration file is read.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Non-contending Statistics retrieval.</b> Statistics gathering API functions '<code>lbm_*_retrieve*stats()</code>' no longer contend with the message receive path (context thread). Retrieving statistics no longer introduces latency outliers in normal message flow. Note that a given sample of statistics no longer necessarily represents a single snapshot in time. For example, it is possible that between two samples, the field '<code>bytes_rcved</code>' could change but '<code>lbm_msgs_rcved</code>' does not. NOTE: brokered queuing contexts are not included in this enhancement.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Smart Sources.</b> A new, somewhat restrictive API for sending messages which eliminates looping, locking, and dynamic memory allocation/freeing, resulting in a significant reduction in send time and elimination of variance in execution time (jitter). Available for C and Java. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/advancedoptimizations.html#smartsources">Smart Sources</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Send path performance improvement.</b> For UDP-based protocols (LBT-RM and LBT-RU), an algorithmic optimization was made to eliminate two memory allocations and frees per send call. This is for established sources (i.e. this optimization is not related to Smart Sources). Reduction of memory allocations and deallocations reduces send time, but more importantly reduces latency outliers (jitter).</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Send message direct to a source.</b> Unicast Immediate Messages (UIM) have always allowed the use of IP address and UIM port (also known as "request port") of the destination application. As of version 6.10, a "source string" can also be used as the destination. This allows a receiving application to send a message directly to a newly subscribed source application. See the Concepts Guide section <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umobjects.html#sendingtosources">Sending to Sources</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Default interface configuration option.</b> This new configuration option simplifies the previously error-prone process of configuring interfaces for different features. If all or most features should use the same interface, it is no longer necessary to configure each interface option. Instead, specify the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#defaultinterfacecontext">default_interface (context)</a> once and then optionally specify any exceptions. (See below for affected configuration options.)</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Increased send-side socket buffer for TR.</b> The send-side socket buffers for Topic Resolution has been increased to 1MB. This will reduce the possibility of send-side loss due to EWOULDBLOCK on socket sends.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>HTML documentation.</b> Version 6.10 contains the first phase of a conversion of UM documentation to a different tool chain which produces manuals in 3 forms: multi-page HTML, single-page HTML, and PDF. Manuals converted in 6.10: "Concepts Guide", "Configuration Guide", "Operations Guide", and "Guide to Queuing". Additional manuals will be converted in a future release. In addition, Doxygen is now being used to produce .NET and Java API documentation.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Context delay warning.</b> A UM context keeps track of how long each loop of its context thread takes. As of UM 6.10, it now logs a warning (<code>Core-5688-1882</code> for embedded mode, <code>Core-5688-1891</code> for sequential mode) if a loop exceeds 1500 milliseconds (1.5 s). This behavior can be modified by setting the environment variable <code>LBM_CONTEXT_DELAY_WARNING</code> to the number of milliseconds desired, or to zero to disable the warning. Note that if you see this warning, it represents a significant source of latency and should be investigated to determine the root cause.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Jar file names changed.</b> The following shipped Java jar file's names have changed to remove the JDK version number. In the table below, '<code>&lt;vers&gt;</code>' is the UM version number. </p><table class="doxtable">
<tr>
<th>Old jar name </th><th>New jar name </th></tr>
<tr>
<td>UMS_&lt;vers&gt;_jdk1.5.0_12.jar </td><td>UMS_&lt;vers&gt;.jar </td></tr>
<tr>
<td>UMSPDM_&lt;vers&gt;_jdk1.5.0_12.jar </td><td>UMSPDM_&lt;vers&gt;.jar </td></tr>
<tr>
<td>UMSSDM_&lt;vers&gt;_jdk1.5.0_12.jar </td><td>UMSSDM_&lt;vers&gt;.jar </td></tr>
<tr>
<td>UMMAPI_1.5.0_12.jar </td><td>UMMAPI.jar </td></tr>
<tr>
<td>UMMD_1.6.0_02.jar </td><td>UMMD.jar </td></tr>
<tr>
<td>UMMGUI_1.6.0_02.jar </td><td>UMMGUI.jar </td></tr>
</table>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>The UMSSDM jar file is no longer included in the UMS jar file.</b> Starting with UM 6.10, Java programs that use SDM need to explicitly include UMSSDM_&lt;vers&gt;.jar in the classpath.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Windows .NET API is now included with base Windows package.</b> It is no longer necessary to download and install .NET separately. The dynamic libraries and example executables are now contained under '<code>bin\dotnet</code>'.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Windows package built with Visual Studio 2012.</b> The UM packages for Windows are now being built with Visual Studio 2012 (VS 2012). The package is no longer shipped with the Windows Runtime library msvcr80.dll. Now UM ships with msvcr110.dll. User applications should be built with VS 2012 or beyond.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Improved defaults.</b> The following configuration options have new default values. For systems already in production, please review the options and determine if the improved defaults are appropriate for your application. If not, then you must ensure that the desired values are explicitly configured.</p>
<table class="doxtable">
<tr>
<th>Option </th><th>Old default </th><th>New default </th></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#multiplereceivemaximumdatagramscontext">multiple_receive_maximum_datagrams (context)</a> </td><td>1 </td><td><p class="starttd">0</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmulticastresolvernetwork.html#resolvermulticastinterfacecontext">resolver_multicast_interface (context)</a> </td><td>INADDR_ANY </td><td><p class="starttd">Value of <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#defaultinterfacecontext">default_interface (context)</a></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastresolvernetwork.html#resolverunicastinterfacecontext">resolver_unicast_interface (context)</a> </td><td>INADDR_ANY </td><td><p class="starttd">Value of <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#defaultinterfacecontext">default_interface (context)</a></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastimmediatemessagingnetwork.html#requesttcpinterfacecontext">request_tcp_interface (context)</a> </td><td>INADDR_ANY </td><td><p class="starttd">Value of <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#defaultinterfacecontext">default_interface (context)</a></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastimmediatemessagingoperation.html#responsetcpinterfacecontext">response_tcp_interface (context)</a> </td><td>INADDR_ANY </td><td><p class="starttd">Value of <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#defaultinterfacecontext">default_interface (context)</a></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpnetwork.html#transporttcpinterfacesource">transport_tcp_interface (source)</a> </td><td>INADDR_ANY </td><td><p class="starttd">Value of <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#defaultinterfacecontext">default_interface (context)</a></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpnetwork.html#transporttcpinterfacereceiver">transport_tcp_interface (receiver)</a> </td><td>INADDR_ANY </td><td><p class="starttd">Value of <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#defaultinterfacecontext">default_interface (context)</a></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtrunetwork.html#transportlbtruinterfacesource">transport_lbtru_interface (source)</a> </td><td>INADDR_ANY </td><td><p class="starttd">Value of <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#defaultinterfacecontext">default_interface (context)</a></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtrunetwork.html#transportlbtruinterfacereceiver">transport_lbtru_interface (receiver)</a> </td><td>INADDR_ANY </td><td><p class="starttd">Value of <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#defaultinterfacecontext">default_interface (context)</a></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmulticastresolvernetwork.html#resolvermulticastreceiversocketbuffercontext">resolver_multicast_receiver_socket_buffer (context)</a> </td><td>0 (OS default) </td><td><p class="starttd">8388608 (8MB) Increase in socket buffers reduces loss and latency outliers for UDP-based transports with ordered delivery.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastresolvernetwork.html#resolverunicastreceiversocketbuffercontext">resolver_unicast_receiver_socket_buffer (context)</a> </td><td>0 (OS default) </td><td><p class="starttd">8388608 (8MB)</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtrmreliability.html#transportlbtrmreceiversocketbuffercontext">transport_lbtrm_receiver_socket_buffer (context)</a> </td><td>524288 (512KB) </td><td><p class="starttd">8388608 (8MB)</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtrmreliability.html#transportlbtrmsourcesocketbuffercontext">transport_lbtrm_source_socket_buffer (context)</a> </td><td>0 (OS default) </td><td><p class="starttd">1048576 (1MB)</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtrureliability.html#transportlbtrureceiversocketbuffercontext">transport_lbtru_receiver_socket_buffer (context)</a> </td><td>524288 (512KB) </td><td><p class="starttd">8388608 (8MB)</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtrureliability.html#transportlbtrusourcesocketbuffercontext">transport_lbtru_source_socket_buffer (context)</a> </td><td>0 (OS default) </td><td><p class="starttd">1048576 (1MB)</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpsendersocketbuffersource">transport_tcp_sender_socket_buffer (source)</a> </td><td>Windows 128000 (125KB) </td><td><p class="starttd">0 (OS default) The value zero suppresses the setting of the socket buffer, which allows the OS to make use of auto-tuning.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastimmediatemessagingoperation.html#responsesessionsendersocketbuffercontext">response_session_sender_socket_buffer (context)</a> </td><td>Windows 128000 (125KB) </td><td><p class="starttd">0 (OS default) The value zero suppresses the setting of the socket buffer, which allows the OS to make use of auto-tuning.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtrmoperation.html#transportlbtrmrateintervalcontext">transport_lbtrm_rate_interval (context)</a> </td><td>100 ms (.1 sec) </td><td><p class="starttd">10 ms (.01 sec) Reduction of rate interval can improve network stability and prevent loss, but can also increase latency outliers.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpofftransportrecovery.html#otrrequestinitialdelayreceiver">otr_request_initial_delay (receiver)</a> </td><td>10 sec </td><td><p class="starttd">2 sec</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpofftransportrecovery.html#otrrequestmessagetimeoutreceiver">otr_request_message_timeout (receiver)</a> </td><td>20 sec </td><td>60 sec </td></tr>
</table>
</li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_10"></a>
Persistence Enhancements for 6.10&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_10">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
<p class="startli"><b>Improved UM configuration defaults.</b> The following configuration options have new default values. For systems already in production, please review the options and determine if the improved defaults are appropriate for your application. If not, then you must ensure that the desired values are explicitly configured.</p>
<table class="doxtable">
<tr>
<th>Option </th><th>Old default </th><th>New default </th></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeuseackbatchingreceiver">ume_use_ack_batching (receiver)</a> </td><td>0 (no) </td><td><p class="starttd">1 (yes) Batching of receiver consumption acknowledgements greatly increases system throughput, although it also increases the likelihood of duplicate messages during a recovery operation.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeconfirmeddeliverynotificationsource">ume_confirmed_delivery_notification (source)</a> </td><td>1 (yes) </td><td><p class="starttd">0 (no) Increases system throughput.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umemessagestabilitytimeoutsource">ume_message_stability_timeout (source)</a> </td><td>20,000 (20 sec) </td><td>5,000 (5 sec) Should be less than NAK generation interval (for UDP-based protocols). </td></tr>
</table>
<p class="endli"></p>
</li>
<li>
<p class="startli">Improved Store configuration defaults.</p>
<table class="doxtable">
<tr>
<th>Option </th><th>Old default </th><th>New default </th></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgrepositorysizethreshold">repository-size-threshold</a> </td><td>25,165,824 (24MB) </td><td>1,024 (1K) </td></tr>
</table>
</li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_10"></a>
Queuing Enhancements for 6.10&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_10">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_10"></a>
Dynamic Router Enhancements for 6.10&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_10">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
Smart-Batch. New method of batching within the UM router which significantly increases throughput without increasing latency (as compared to flushing every message). See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/gateway.tag:../../Gateway/" href="../../Gateway/xmlconfigurationreference.html#drocfg_smart-batch">&lt;smart-batch&gt;</a>. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_10"></a>
Fixed Limitations for 6.10&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_10">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_10"></a>
Streaming Fixed Limitations for 6.10&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_10">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>10024 </td><td><p class="starttd"><b>FIXED:</b> <em>The API function <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a30bf33dce2021f6ea8915b45f511af56">lbm_transport_source_parse()</a> incorrectly parsed source strings under a wide variety of circumstances.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9824 </td><td><p class="starttd"><b>FIXED:</b> <em>When a .NET program made use of ResolverEventCallback, it could result in a crash with the message, '<code>A callback was made on a garbage collected delegate...</code>'.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9710, 9788 </td><td><p class="starttd"><b>FIXED:</b> <em>The API functions <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a7a8f94b03c37c4481044d3c6b250bdb3">lbm_rcv_topic_attr_dump()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a1d7722b39132940193205d6287c0a7f7">lbm_src_topic_attr_dump()</a>, and lbm_context_topic_attr_dump() generated log messages of the form: <br />
'<code>Core-5688-27 WARNING: ... config variable ... is deprecated. Use ... instead.</code>' <br />
One side-effect of this problem is that the Dynamic Router (DRO) logs these messages.</em></p>
<p>This has been corrected since UM version 6.9.1.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9950 </td><td><p class="starttd"><b>FIXED:</b> <em>Corrected certain log messages generated due to Windows socket errors.</em></p>
<p>Previously, the reason for the error was not printed correctly (always said error code was zero). Now it correctly prints the error code returned by Windows.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9877 </td><td><p class="starttd"><b>FIXED:</b> <em>If an LBT-RU source's context thread experiences a significant multi-second delay, due perhaps to scheduling delay on a severely overloaded server, and a receiver is configured to receive multiple datagrams via the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#multiplereceivemaximumdatagramscontext">multiple_receive_maximum_datagrams (context)</a> option, there is a possibility that the receiver will crash with a fatal assert: <br />
'<code>[map != NULL]</code>'.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9939 </td><td><p class="starttd"><b>FIXED:</b> <em>Corrected memory alignment crash when using LZ4 compression on 32-bit SPARC machines.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9981, 9977, 9955 </td><td><p class="starttd"><b>FIXED:</b> <em>UM version 6.9.* have a problem which prevents the optional UM products UMDS, UMCache, and SNMP from working (mul_inet_ntoa).</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9722, 9826 </td><td><p class="starttd"><b>FIXED:</b> <em>When the UMDS server component was executed on UMS or UMP library versions prior to 6.9, the server would log: <br />
'<code>CoreApi-5688-22 UMQ not supported</code>' <br />
Note that the server would function properly, so the log message could be ignored.</em></p>
<p>In UM 6.10 the log is suppressed.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9957 </td><td><p class="starttd"><b>FIXED:</b> <em>When using Myricom's Datagram Bypass Library (DBL), a fatal assert ('<code>handle==dmux- &gt;rcvmsock-&gt;sock</code>') and segmentation fault can occur if a receiver is deleted while the receiver is processing incoming datagrams.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9779 </td><td><p class="starttd">Enhancement: Added configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtrureliability.html#transportlbtrunakinitialbackoffintervalreceiver">transport_lbtru_nak_initial_backoff_interval (receiver)</a>. Setting this greater than zero reduces NAK traffic when UDP datagrams are delivered out of order. However, it also introduces repair latency when a datagram is lost.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>4839, 9249, 9950 </td><td><p class="starttd">Enhancement: Updated a number of error log messages to include the proper Windows return code.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9878 </td><td><p class="starttd">Enhancement: In the Java API, if a receiver object is closed more than once, we silently ignore any closes after the first. (Previously an error condition was encountered.)</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9677 </td><td><p class="starttd">Enhancement: UM Windows package now built with Visual Studio 2012. The Windows runtime library msvcr110.dll is now included with UM.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9951 </td><td><p class="starttd">Enhancement: print a log message when UM attempts to send a topic resolution message and the send to the socket fails. Most failures are serious and require attention to determine root cause.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9983 </td><td><p class="starttd">Enhancement: include .NET libraries with the base Windows package for all products (UMS, UMP, UMQ). Downloading a separate .NET package is no longer necessary. The DLLs and example program binaries are now under '<code>bin\dotnet</code>'.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9926 </td><td><p class="starttd">Enhancement: Topic Resolution send-side socket buffers are now set to 1MB. This should prevent "EWOULDBLOCK" errors and the associated loss of TR packets.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9967, 8556, 7793, 2548 </td><td>Enhancement: reduce the number of NCF control messages sent during periods of heavy loss. The change reduces the impact on healthy receivers, but might slightly increase the load on the source. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_10"></a>
Persistence Fixed Limitations for 6.10&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_10">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9953 </td><td><p class="starttd"><b>FIXED:</b> <em>Due to an incorrect print specification, 32-bit applications can occasionally crash with illegal memory access when debug logging is enabled and a persistent session ID is being printed.</em></p>
<p>The print specification has been corrected.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9583 </td><td><p class="starttd"><b>FIXED:</b> <em>When a source requests registration with a store, if is possible for the store's response control message (PREG_RESP) to be lost. The source will re-try the registration, which the store will reject with the log, "RegID xxx is in use by a different source".</em></p>
<p>This has been corrected (a store allows a registered source to re-register).</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9920, 9929 </td><td><p class="starttd"><b>FIXED:</b> <em>Under unknown circumstances, a store can exit with inconsistent data in the state and/or cache files. When the store is restarted, this inconsistent data can result in a store crash during initialization.</em></p>
<p>Defensive checks have been added.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9861 </td><td><p class="starttd"><b>FIXED:</b> <em>The UMM tool tip for the source configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeproactivekeepaliveintervalcontext">ume_proactive_keepalive_interval (context)</a> was incorrect. Also, if zero was supplied, CPU utilization jumped to 100%. It is fixed such that zero disables proactive keepalives.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9902, 9925 </td><td><p class="starttd"><b>FIXED:</b> <em>The Store's log file sometimes shows session IDs as negative numbers.</em></p>
<p>These have been corrected to use unsigned.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9458, 9796 </td><td><p class="starttd"><b>FIXED:</b> <em>A minor race condition in the Store which results in one or more warning logs: <br />
'<code>WARNING: failed assertion [repo-&gt;disk_holder-&gt;disk-&gt;offset &gt;= deletesz] at line ...</code>'</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9938, 9943 </td><td><p class="starttd">Enhancement: If a 5.x persistent source is configured for named stores and is also configured not to query for the store name (via the environment variable '<code>UME_SKIP_NAMED_STORE_QUERY</code>'), and a 6.x store becomes non-responsive due to excessive load, and then returns to normal operation, the source will not be able to resolve the store again. This is because a 6.x store cannot be configured to periodically advertise its name indefinitely. In UM version 6.10, the store can be configured to periodically advertise indefinitely via the UM configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#compatibilityincludepreum60behaviorcontext">compatibility_include_pre_um_6_0_behavior (context)</a>. Note that this option is only recommended for use during a limited transition period while customers upgrade from 5.x to 6.x and persistent stores must be configured not to query. When all components are at version 6.x, the use of this configuration option should be discontinued.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9993 </td><td><p class="starttd">Enhancement: Proactive Keepalive feature modified to reduce disk activity due to page faults during periods of low message traffic.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9689 </td><td>Enhancement: Added Store configuration element <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgxmlconfig">&lt;xml-config&gt;</a> to allow the use of XML-based UM configuration files. With this addition, Informatica discourages the use of the environment variable '<code>LBM_XML_CONFIG_FILENAME</code>'. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_10"></a>
Queuing Fixed Limitations for 6.10&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_10">&lt;-</a></small></h3>
<p>The following bug fixes apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_10"></a>
Dynamic Router Fixed Limitations for 6.10&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_10">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9710, 9788 </td><td><p class="starttd">The DRO generated log messages of the form, <br />
<code>Core-5688-27 WARNING: ... config variable ... is deprecated. Use ... instead.</code> <br />
This was due to a problem in the underlying UM library.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9810 </td><td><p class="starttd">A variety of timing-related issues with single-TCP peer links have been resolved.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9800 </td><td><p class="starttd">If a UM router has a proxy source with queued messages and the proxy source is deleted, the messages get stuck in the queue, which subsequently has less room for future messages. In the worst case, the queue can be stuck in a full state, preventing message forwarding. Proxy sources are deleted as a result of the originating source being deleted, or as a result of all receivers in a remote TRD being deleted, eliminating interest in the topic in that TRD.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9799 </td><td><p class="starttd">If a UM router has a proxy source with queued messages, there is a small timing window during message flow that can cause messages to get stuck in the queue, which subsequently has less room for future messages. In the worst case, the queue can be stuck in a full state, preventing message forwarding. (Similar to 9800, but does not require deletion of proxy source.)</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9916 </td><td>If a debug log is being generated, a garbage value is printed in some of the logged messages, making it more difficult for Informatica Support to diagnose problems. </td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="deprecationsfor610"></a>
Deprecations for 6.10&nbsp;&nbsp;<small><a href="#deprecationsfor610">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingdeprecationsfor610"></a>
Streaming Deprecations for 6.10&nbsp;&nbsp;<small><a href="#streamingdeprecationsfor610">&lt;-</a></small></h3>
<ul>
<li>
<p class="startli">Adaptive Batching - still operational, but planned to be removed in a future release.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Explicit Batching - still operational, but planned to be removed in a future release.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Hypertopics - still operational, but planned to be removed in a future release.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">TCP-LB - still operational, but planned to be removed in a future release.</p>
<p class="endli"></p>
</li>
<li>
RDMA transport - the underlying library is no longer available. This functionality is no longer supported. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistencedeprecationsfor610"></a>
Persistence Deprecations for 6.10&nbsp;&nbsp;<small><a href="#persistencedeprecationsfor610">&lt;-</a></small></h3>
<ul>
<li>
<p class="startli">Java APIs deprecated: </p><ul>
<li>
UMEBlockSrc class </li>
<li>
LBMContext.setUMQInflight() method </li>
<li>
LBMContext.setUMQMessageStable() method </li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli">Configuration options deprecated: </p><ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeprecated.html#retransmitretentionagethresholdsource">retransmit_retention_age_threshold (source)</a> </li>
</ul>
<p class="endli"><br />
 </p>
</li>
</ul>
<h3><a class="anchor" id="dynamicrouterdeprecationsfor610"></a>
Dynamic Router Deprecations for 6.10&nbsp;&nbsp;<small><a href="#dynamicrouterdeprecationsfor610">&lt;-</a></small></h3>
<ul>
<li>
Dual-TCP peer links. UM DRO version 6.10 no longer supports dual-TCP peer links. The XML configuration elements '<code>&lt;tcp&gt;</code>' and '<code>&lt;companion&gt;</code>' will generate errors. Upgrading customers should use <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/gateway.tag:../../Gateway/" href="../../Gateway/xmlconfigurationreference.html#drocfg_single-tcp">&lt;single-tcp&gt;</a> instead. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_9_2"></a>
UM Version 6.9.2&nbsp;&nbsp;<small><a href="#umversion6_9_2">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.9.1 is the repair of a serious bug in LBT-RM and LBT-RU transports.</p>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_9_2"></a>
Enhancements for 6.9.2&nbsp;&nbsp;<small><a href="#enhancementsfor6_9_2">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_9_2"></a>
Streaming Enhancements for 6.9.2&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_9_2">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_9_2"></a>
Persistence Enhancements for 6.9.2&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_9_2">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_9_2"></a>
Queuing Enhancements for 6.9.2&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_9_2">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_9_2"></a>
Dynamic Router Enhancements for 6.9.2&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_9_2">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_9_2"></a>
Fixed Limitations for 6.9.2&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_9_2">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_9_2"></a>
Streaming Fixed Limitations for 6.9.2&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_9_2">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9927 </td><td><p class="starttd">Fixed a problem with UDP transports LBT-RM and LBT-RU where sending a very large number of datagrams (more than 4 billion) results in a failed assertion [oblk!=NULL].</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9824 </td><td>Fixed problem in .NET API where using a resolver event callback and/or a source cost callback can cause crashes after garbage collection. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_9_2"></a>
Persistence Fixed Limitations for 6.9.2&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_9_2">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9902 </td><td><p class="starttd">Fixed problem where session IDs were printed to the Store log file in an inconsistent way, sometimes signed, sometimes unsigned.</p>
<p>Session IDs are now always printed unsigned.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9920 </td><td>Fixed problem in Store where use of Receiver-Paced Persistence can lead to a Store segmentation fault during startup. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_9_2"></a>
Queuing Fixed Limitations for 6.9.2&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_9_2">&lt;-</a></small></h3>
<p>The following bug fixes apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_9_2"></a>
Dynamic Router Fixed Limitations for 6.9.2&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_9_2">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_9_1"></a>
UM Version 6.9.1&nbsp;&nbsp;<small><a href="#umversion6_9_1">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.9.1 is expansion of the supported platforms: <br />
Linux-X86 (32 and 64 bit), Windows (32 and 64 bit), Solaris-X86 (32 and 64 bit), Solaris-Sparc (32 and 64 bits), Linux-Itanium (64-bit), Linux-Power8 (64-bit, little endian), HP NonStop-X64 (64-bit).</p>
<dl class="section warning"><dt>Warning</dt><dd>Due to a serious bug in UM 6.9 and 6.9.1, users of LBT-RM and LBT-RU transports are strongly advised to upgrade to 6.9.2 as soon as possible. The bug causes a crash (fatal assert) after approximately 4 billion datagrams are sent on a transport session.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_9_1"></a>
Enhancements for 6.9.1&nbsp;&nbsp;<small><a href="#enhancementsfor6_9_1">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_9_1"></a>
Streaming Enhancements for 6.9.1&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_9_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli">Addition of Linux-Power8 (64-bit, little endian), HP NonStop-X64 (64-bit) platforms.</p>
<p class="endli"></p>
</li>
<li>
High-resolution Timestamps are now supported for Java applications. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_9_1"></a>
Persistence Enhancements for 6.9.1&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_9_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_9_1"></a>
Queuing Enhancements for 6.9.1&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_9_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_9_1"></a>
Dynamic Router Enhancements for 6.9.1&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_9_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_9_1"></a>
Fixed Limitations for 6.9.1&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_9_1">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_9_1"></a>
Streaming Fixed Limitations for 6.9.1&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_9_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9729 </td><td><p class="starttd">Fixed a problem where a UDP packet with bad checksum was silently ignored.</p>
<p>UDP packets with checksum errors will now generate a warning log message.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9654 </td><td><p class="starttd">Fixed a potential crash with Windows Completions Ports due to memory corruption during a TCP disconnect.</p>
<p>This bug was fixed in UM version 6.9, but was not included in the 6.9 release notes due to an oversight.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>6102 </td><td><p class="starttd">Fixed a problem where TSNIs were not sent when Source Side Filtering was enabled.</p>
<p>TSNIs are now sent.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9722 </td><td><p class="starttd">Enhanced the UMS library to not report certain warnings related to persistence and queuing. These warnings were most apparent with using the UMDS product, which ensures that persistence and queuing behaviors are disabled, but when used with the UMS library, generated warnings.</p>
<p class="endtd">These warnings are not needed and have been removed. </p>
</td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_9_1"></a>
Persistence Fixed Limitations for 6.9.1&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_9_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9707 </td><td><p class="starttd">Fixed a problem with Receiver Paced Persistence where setting the source configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umewritedelaysource">ume_write_delay (source)</a> to zero did not override the store's <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgrepositorydiskwritedelay">repository-disk-write-delay</a> value.</p>
<p>The source can now override the store with <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umewritedelaysource">ume_write_delay (source)</a> set to zero.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9805 </td><td><p class="starttd">Fixed a problem where certain store log messages associated with registration sometimes caused a segmentation fault on 32-bit Linux.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9481 </td><td><p class="starttd">Fixed a problem where the UMM user interface did not initialize options to the correct default values for the options <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeprecated.html#umeretransmitrequestoutstandingmaximumreceiver">ume_retransmit_request_outstanding_maximum (receiver)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeregistrationintervalsource">ume_registration_interval (source)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umesriintersriintervalsource">ume_sri_inter_sri_interval (source)</a>, and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umesrimaxnumberofsriperupdatesource">ume_sri_max_number_of_sri_per_update (source)</a>.</p>
<p>Those options are now initialized to the correct default values.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9462 </td><td><p class="starttd">Enhanced a warning log message related to a store receiving a keepalive message that is not of type "STORE".</p>
<p>The message now reports the IP and Port of the sender.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9704 </td><td><p class="starttd">Enhanced a store log message related to source registration errors.</p>
<p>The message now reports the IP and Port of the source.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9743 </td><td>Enhanced the keepalive protocol between the store and a persistent receiver to significantly reduce the keepalive traffic, especially for the case where a persistent receiver exits. This involved the introduction of a new configuration option, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeproactivekeepaliveintervalcontext">ume_proactive_keepalive_interval (context)</a>. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_9_1"></a>
Queuing Fixed Limitations for 6.9.1&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_9_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to the UMQ product.</p>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_9_1"></a>
Dynamic Router Fixed Limitations for 6.9.1&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_9_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9817 </td><td><p class="starttd">Fixed a topic deafness problem where a temporary surge of messages flowing out of an endpoint portal will put one or more topic queues into a blocked state which does not unblock when the surge is over.</p>
<p>Temporarily blocked topic queues are now correctly unblocked.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9755 </td><td><p class="starttd">Fixed a problem where a DRO endpoint could get stuck in an infinite loop sending topic resolution traffic. The problem is associated with the creation and deletion of topics and wildcard receivers which match them.</p>
<p class="endtd">This has been fixed. </p>
</td></tr>
</table>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_9"></a>
UM Version 6.9&nbsp;&nbsp;<small><a href="#umversion6_9">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.9 is the introduction of certificate-based security (authentication and encryption).</p>
<dl class="section warning"><dt>Warning</dt><dd>Due to a serious bug in UM 6.9 and 6.9.1, users of LBT-RM and LBT-RU transports are strongly advised to upgrade to 6.9.2 as soon as possible. The bug causes a crash (fatal assert) after approximately 4 billion datagrams are sent on a transport session.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_9"></a>
Enhancements for 6.9&nbsp;&nbsp;<small><a href="#enhancementsfor6_9">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_9"></a>
Streaming Enhancements for 6.9&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_9">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli">TCP-based communication can now enable compression and/or encryption. Other protocols (udp, multicast, etc.) are not supported for compression or encryption at this time. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umfeatures.html#encryptedtcp">Encrypted TCP</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The LBT-RM transport type now supports a "zero-copy" API for sending messages. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/advancedoptimizations.html#zerocopysendapi">Zero-Copy Send API</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The LBT-RM transport type now supports high-resolution timestamps for packet transmission and reception for customers using Solarflare network interfaces and the Onload driver. See highresolutiontimestamps.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Performance has been improved for sending messages on all transport types by reducing use of dynamic memory. This reduces the send time and also reduces the variance of send times ("jitter").</p>
<p class="endli"></p>
</li>
<li>
Added two new APIs to Java: <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMMessage.html#ae7955dc17a5f612bc085af6575d582cf">com::latencybusters::lbm::LBMMessage::getSerializedResponse</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMContext.html#a00bce0d7e5534722e07ab137fcd7b016">com::latencybusters::lbm::LBMContext::respond</a>, as well as a new class: <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSerializedResponse.html">com::latencybusters::lbm::LBMSerializedResponse</a>. These provide a way to receive a UM request, serialize the response object, and then send the response, possibly via a different context. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_9"></a>
Persistence Enhancements for 6.9&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_9">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
<p class="startli">An API has been added to start and stop a store from inside an application process. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/designingpersistenceapplications.html#callablestore">Callable Store</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The store has been enhanced to log thread IDs for each of its internal threads. The log messages are of the form '<code>Store-8079-x</code>'.</p>
<p class="endli"></p>
</li>
<li>
The Receiver-paced Persistence feature now supports blocking and non-blocking receivers. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/operationalview.html#receiverpacedpersistenceoperations">Receiver-paced Persistence Operations</a>. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_9"></a>
Queuing Enhancements for 6.9&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_9">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_9"></a>
Dynamic Router Enhancements for 6.9&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_9">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
Peer links may now be compressed and/or encrypted. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_9"></a>
Fixed Limitations for 6.9&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_9">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_9"></a>
Streaming Fixed Limitations for 6.9&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_9">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9759 </td><td><p class="starttd">The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/operations.tag:../../Operations/" href="../../Operations/umlogmessages.html">UM Log Messages</a> chapter of the "Operations Guide" did not correctly order messages numerically. For example, "Core-1234-10" would come before "Core-1234-9".</p>
<p>The order has been corrected.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9484, 9566 </td><td><p class="starttd">UM generally reacts to an exhaustion of dynamic memory (heap) with a warning, and attempts to continue execution in a crippled manner.</p>
<p>UM has now been changed to react to exhaustion of dynamic memory by triggering a fatal assertion.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9582 </td><td><p class="starttd">When the C API <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a50d8ea5a6ebb5f1f0c6c5d9155c09657">lbm_register_fd()</a> is used to register a socket, and an event queue is used to deliver socket events, there is a race condition that can cause delivery of a spurious read event. An application that responds by doing a blocking read can experience an unbounded block. A non-blocking read can return no data.</p>
<p>UM now effectively prevents this spurious read event.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9625 </td><td><p class="starttd">When the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastresolvernetwork.html#resolverunicastdaemoncontext">resolver_unicast_daemon (context)</a> option is read multiple times with the same '<code>IP:PORT</code>' combination, the context adds multiple references to that lbmrd, leading to wasted resources, potentially exhausting ports in the unicast resolver UDP port range.</p>
<p>UM now detects duplicate IP:PORT and maintains a single reference to that lbmrd.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9672 </td><td><p class="starttd">The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#multiplereceivemaximumdatagramscontext">multiple_receive_maximum_datagrams (context)</a> configuration option enables the use of recvmmsg() to improve the efficiency of reading UDP data. However, multiple datagrams were not actually read. No improper behavior results, but the potential efficiency improvement is not delivered.</p>
<p>UM now properly enables reception of multiple datagrams.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9591 </td><td><p class="starttd">Under some circumstances, when using the epoll form of FD management, the operating system can return an error to UM that UM does not know how to handle. UM has been triggering a fatal assertion in these cases.</p>
<p>Further testing has suggested that some of these unexpected statuses can be benign. So UM has now been changed to use warning asserts when epoll returns an unexpected bad status.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9654 </td><td>Fixed a potential crash with Windows Completions Ports due to memory corruption during a TCP disconnect. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_9"></a>
Persistence Fixed Limitations for 6.9&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_9">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9115 </td><td><p class="starttd">The store now prints BOS and EOS events to its log.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9276 </td><td><p class="starttd">If an RPP store configured for reduced FD storage fails and restarts immediately after a receiver registers, that receiver will sometimes lose messages.</p>
<p>Fixed by ensuring that the restarted reduced FD store starts at the correct sequence number.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9626 </td><td><p class="starttd">When the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umestoresource">ume_store (source)</a> and/or <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umestorenamesource">ume_store_name (source)</a> configuration option is read multiple times referring to the same store, the context adds multiple references to that store, leading to wasted resources.</p>
<p class="endtd">UM now detects duplicate stores and maintains a single reference to that store. </p>
</td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_9"></a>
Queuing Fixed Limitations for 6.9&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_9">&lt;-</a></small></h3>
<p>The following bug fixes apply to the UMQ product.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9494 </td><td><p class="starttd">UMM did not include the option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingqueuing.html#umqqueueactivitytimeoutcontext">umq_queue_activity_timeout (context)</a>.</p>
<p>It has been added.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9555 </td><td><p class="starttd">When the C API <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a1afc75f0fb3601d072b3463e7acf16a6">lbm_rcv_topic_attr_setopt()</a> is used to set a value for <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingqueuing.html#umqulbsourceactivitytimeoutreceiver">umq_ulb_source_activity_timeout (receiver)</a>, the value was not set correctly. Note that using text-based configuration files worked correctly for that option.</p>
<p>The C API function is now corrected.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9640 </td><td><p class="starttd">When the broker configuration option is read multiple times referring to the same broker, the context adds multiple references to that broker, leading to wasted resources.</p>
<p class="endtd">UM now detects duplicate brokers and maintains a single reference to that broker. </p>
</td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_9"></a>
Dynamic Router Fixed Limitations for 6.9&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_9">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>8880 </td><td><p class="starttd">UM Router daemons using dual-tcp peer links with non-"select" FD management types might issue many '<code>Core-5688-3808...</code>' log messages.</p>
<p>The Router now hard-codes peer links to use select for Unix and wsaeventselect for Windows. This avoids the errors.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9694, 9688 </td><td>A race condition can cause a portal to become deadlocked and not pass traffic. The portal locking has been corrected. </td></tr>
</table>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_8"></a>
UM Version 6.8&nbsp;&nbsp;<small><a href="#umversion6_8">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.8 is the replacement of the UM brokered queuing and JMS functionality (umestored) with an enhanced Apache ActiveMQ-based JMS/AMQP broker. The existing UMQ queuing API has been adapted to make use of ActiveMQ via the open standard AMQP protocol.</p>
<p>Note that when upgrading a brokered queuing application from a pre-6.8 version, the application source code may need to be changed and re-built.</p>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_8"></a>
Enhancements for 6.8&nbsp;&nbsp;<small><a href="#enhancementsfor6_8">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_8"></a>
Streaming Enhancements for 6.8&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_8">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli">The Multiple Datagram Reception feature can greatly increase receiver performance during message bursts by reading multiple UDP datagrams with one <code>recvmmsg()</code> system call.</p>
<p>For applications prone to bursts of many messages arriving at a receiver in a very short time, performance can degrade while the receiver reads each message individually. To accelerate message reception during these bursts, enable Multiple Datagram Reception.</p>
<p>This feature applies to all UDP-based sockets, such as topic resolution, MIM, and for transports LBT-RM and LBT-RU. You can use this feature with Linux kernel 2.6.33 or later, and glibc 2.12 or later.</p>
<p>To enable Multiple Datagram Reception, set the configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#multiplereceivemaximumdatagramscontext">multiple_receive_maximum_datagrams (context)</a> to the maximum number of datagrams per socket to receive in one pass.</p>
<dl class="section note"><dt>Note</dt><dd>Due to an implementation defect, this feature does not function correctly in UM version 6.8. Users of version 6.8 are advised to upgrade to UM version 6.9.2 or beyond to take advantage of the performance advantages of this feature. </dd></dl>
</li>
</ul>
<p>The following configuration options default values are changed: </p><table class="doxtable">
<tr>
<th>Option </th><th>Old Default </th><th>New Default </th><th>Notes </th></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmulticastimmediatemessagingnetwork.html#mimincomingaddresscontext">mim_incoming_address (context)</a> </td><td>224.10.10.21 </td><td>0.0.0.0 </td><td><p class="starttd">Disable MIM reception by default to avoid the possibility of default-configured applications sending data that is heard by all contexts.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#retransmitrequestoutstandingmaximumreceiver">retransmit_request_outstanding_maximum (receiver)</a> </td><td>200 messages </td><td>10 messages </td><td><p class="starttd">Use a more efficient setting for streaming or persistent late join.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastimmediatemessagingoperation.html#responsetcpdeletiontimeoutcontext">response_tcp_deletion_timeout (context)</a> </td><td>2000 ms </td><td>20,000 ms </td><td><p class="starttd">Use a longer timeout to avoid wasted CPU time caused by unnecessary TCP socket tear down and recreation, along with associated log messages.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpudpbasedresolveroperation.html#resolverdomainidactivepropagationtimeoutcontext">resolver_domain_id_active_propagation_timeout (context)</a> </td><td>-1 </td><td>0 </td><td><p class="starttd">This new value where contexts learn of domain IDs from active UM Routers only is now the default.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#fdmanagementtypecontext">fd_management_type (context)</a> </td><td>wsaeventselect (Windows) </td><td>wincompport (Windows) </td><td></td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_8"></a>
Persistence Enhancements for 6.8&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_8">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
<p class="startli">UM 6.8 introduces the following new API call: </p><ul>
<li>
C: <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a39a43c291338833d445e71a1d9ab3439">lbm_ume_ack_mark_not_outstanding()</a> </li>
<li>
Java and .NET: <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMEMessageAck.html#a48ecb4264bbdc97da4ad5de2f0e175b4">com::latencybusters::lbm::UMEMessageAck::markNotOutstanding()</a> </li>
</ul>
<p>This call updates the internal acking state up to the sequence number provided for throttled recovery, without acking anything.</p>
<p class="endli"></p>
</li>
<li>
You can now configure a Persistent Store to port=0, which selects the actual port number from within the range of the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastimmediatemessagingnetwork.html#requesttcpportlowcontext">request_tcp_port_low (context)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastimmediatemessagingnetwork.html#requesttcpporthighcontext">request_tcp_port_high (context)</a> configuration options. </li>
</ul>
<p>The following configuration options default values are changed: </p><table class="doxtable">
<tr>
<th>Option </th><th>Old Default </th><th>New Default </th><th>Notes </th></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpofftransportrecovery.html#useotrreceiver">use_otr (receiver)</a> </td><td>0 </td><td>2 (enables only persistent receivers) </td><td><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeregistrationintervalsource">ume_registration_interval (source)</a> </td><td>500 ms </td><td>3000 ms </td><td><p class="starttd">Reduce overly-aggressive registration activity, which causes excess CPU use. Sources still register very quickly if all stores are available, and only wait for the '<code>ume_registration_interval</code>' to expire if less than the full list of stores responds to the registration request of the source.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeregistrationintervalreceiver">ume_registration_interval (receiver)</a> </td><td>500 ms </td><td>3000 ms </td><td><p class="starttd">Reduce overly-aggressive registration activity, which causes excess CPU use. Receivers still register very quickly if all stores are available, and only wait for the '<code>ume_registration_interval</code>' to expire if less than the full list of stores responds to the registration request of the receiver.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeconsensussequencenumberbehaviorsource">ume_consensus_sequence_number_behavior (source)</a> </td><td><code>majority</code> </td><td><code>highest</code> </td><td><p class="starttd">For applications that do not reconcile and republish in-flight messages upon store re- registration in the same order they were originally sent, this revised default reduces the chances that a source republishes a previously sent sequence number with a different payload.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umesriintersriintervalsource">ume_sri_inter_sri_interval (source)</a> </td><td>100 ms </td><td>500 ms </td><td><p class="starttd">This option, combined with option umesrimaxnumberofsriperupdatesource, determines how long a persistent source advertises stores to receivers after receiving an SRI request. These increased values reduce the likelihood of poor network performance and infrastructure components causing improper UMP registration behavior.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umesrimaxnumberofsriperupdatesource">ume_sri_max_number_of_sri_per_update (source)</a> </td><td>10 </td><td>20 </td><td><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umestoreactivitytimeoutsource">ume_store_activity_timeout (source)</a> </td><td>3000 ms </td><td>10,000 ms </td><td><p class="starttd">This increased value allows for reduced heartbeat traffic, and decreases false declarations of inactive stores. You must set this option and the Persistent Store '<code>keepalive-interval</code>' option together. For information about how these values affect a phased upgrade from earlier versions, see this document's Installation section.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umestorebehaviorsource">ume_store_behavior (source)</a> </td><td><code>rr</code> </td><td><code>qc</code> </td><td>Round-Robin behavior is discontinued. </td></tr>
</table>
<p>The following Persistent Store configuration options default values are changed: </p><table class="doxtable">
<tr>
<th>Option </th><th>Old Default </th><th>New Default </th><th>Notes </th></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgreceivernewregistrationrollback">receiver-new-registration-rollback</a> </td><td>0 </td><td>2147483647 </td><td><p class="starttd">The previous default value of 0 resulted in new receivers not requesting any initial state. The new value causes receivers to request all of the data cached in the Persistent Stores that they might be interested in before they become active. You may still need to change these values either with configuration or programmatically.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgkeepaliveinterval">keepalive-interval</a> </td><td>500 ms </td><td>3000 ms </td><td><p class="starttd">This increased value reduces heartbeat traffic, and decreases false declarations of inactive stores. You must set this option and the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umestoreactivitytimeoutsource">ume_store_activity_timeout (source)</a> option together. For information about how these values affect a phased upgrade from earlier versions, see <a class="el" href="index.html#upgradingfromversionpre60">Upgrading From Version Pre-6.0</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgproxyelectioninterval">proxy-election-interval</a> </td><td>5,000 ms </td><td>60,000 ms </td><td><p class="starttd">This increased value gives a UMP store more time to create the potentially large number of proxy sources that may result from a large-scale failure event. This reduces the chances of an overload situation in UMP store processes.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgsourcecheckinterval">source-check-interval</a> </td><td>100 ms </td><td>750 </td><td>This increased value reduces CPU use in the UMP store. The previous default was too aggressive and did not significantly improve performance. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_8"></a>
Queuing Enhancements for 6.8&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_8">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
<p class="startli">Robust commodity-based JMS/AMQP broker features: </p><ul>
<li>
Fully-managed (pure Java) JMS 1.1 client API </li>
<li>
AMQP 1.0 wire protocol support for UMQ client API </li>
<li>
Automatic failover for client to broker connections </li>
<li>
Inter-operation between UMQ and JMS client APIs </li>
</ul>
<p>UMQ 6.8 introduces a new architecture for Ultra Messaging Queuing. The umestored daemon no longer implements queuing. To support queuing semantics for UMQ clients and both publish/subscribe and queuing semantics for JMS clients, the UMQ client API now supports the Advanced Messaging Queuing Protocol 1.0 wire protocol. Also, the UMQ package now includes Informatica-supported versions of the open-source Apache ActiveMQ broker and ActiveMQ JMS client API.</p>
<p>The Ultra Messaging JMS API and its associated file-based and JNDI configuration methods are now discontinued.</p>
<p>UMQ 6.8 also includes an Ultra Messaging Persistence Adapter for ActiveMQ, which implements a robust, commodity-based replication protocol between brokers using UM Persistence (with instances of umestored to persist the replication stream). The UM persistence adapter also implements a quorum-based heartbeat and leader-election protocol to coordinate broker availability.</p>
<p>The Ultra Load Balancing (ULB) feature is unaffected by the changes in this release and continues to operate as before.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">New configuration option: <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#brokercontext">broker (context)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">New Broker transport statistics added: </p><ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/structlbm__rcv__transport__stats__broker__t__stct.html#ae93b7d7565dc68783ee6d13b9b0c2619">lbm_rcv_transport_stats_broker_t::msgs_rcved</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/structlbm__rcv__transport__stats__broker__t__stct.html#a8b24b2cf283cc51b0e4c663fd9005d46">lbm_rcv_transport_stats_broker_t::bytes_rcved</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/structlbm__src__transport__stats__broker__t__stct.html#a0d87e31562d0161580fc77041bb13618">lbm_src_transport_stats_broker_t::msgs_sent</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/structlbm__src__transport__stats__broker__t__stct.html#a0cdd755fc7a6e719c998af3378aa1a53">lbm_src_transport_stats_broker_t::bytes_sent</a> </li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli">You cannot set option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingqueuing.html#umqqueueparticipationreceiver">umq_queue_participation (receiver)</a> to a value of 2.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">You cannot use the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#aeeb72be91872f87626d26156c3201dfe">lbm_rcv_umq_deregister()</a> function with brokered contexts.</p>
<p class="endli"></p>
</li>
<li>
Sources in a brokered context cannot send Application Headers. Use Message Properties as an alternative. </li>
</ul>
<p>For more information on upgrading queuing applications, see <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/umq.tag:../../UMQ/" href="../../UMQ/gettingstarted.html#queuingupgradeconsiderations">Queuing Upgrade Considerations</a>.</p>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_8"></a>
Dynamic Router Enhancements for 6.8&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_8">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_8"></a>
Fixed Limitations for 6.8&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_8">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_8"></a>
Streaming Fixed Limitations for 6.8&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_8">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>2219 </td><td><p class="starttd">A Windows application crashes if you set configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#fdmanagementtypecontext">fd_management_type (context)</a> to '<code>select</code>'. The valid option for Windows is '<code>wsaeventselect</code>'. As a solution, now if you set a Windows application configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#fdmanagementtypecontext">fd_management_type (context)</a> to '<code>select</code>', Ultra Messaging returns an error.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>6290 </td><td><p class="starttd">In Java, if you reuse the same <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMMessageProperties.html">com::latencybusters::lbm::LBMMessageProperties</a> object for every message sent, to adjust those properties dynamically between sends, you are forced to call <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSourceSendExInfo.html#a68a534a3792a38bb6874a45617a9c0f3">com::latencybusters::lbm::LBMSourceSendExInfo::setMessageProperties</a>.</p>
<p>As a solution, the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSourceSendExInfo.html">com::latencybusters::lbm::LBMSourceSendExInfo</a> object now maintains a reference to an <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMMessageProperties.html">com::latencybusters::lbm::LBMMessageProperties</a> object, if it is set, such that the current value of the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMMessageProperties.html">com::latencybusters::lbm::LBMMessageProperties</a> is used at the time of the send, rather than the value of the properties at the time which <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSourceSendExInfo.html#a68a534a3792a38bb6874a45617a9c0f3">com::latencybusters::lbm::LBMSourceSendExInfo::setMessageProperties()</a> was called.</p>
<p>Also, for Java and .NET, the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSourceSendExInfo.html#a2de0eb285c25cc2252977eeeda0a31e1">com::latencybusters::lbm::LBMSourceSendExInfo::setApplicationHeaderChain()</a>, .setChannelInfo(), .setIndexInfo(), .setMessageProperties(), and .setTotalLifetimeInfo() APIs now update the flags of the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSourceSendExInfo.html">com::latencybusters::lbm::LBMSourceSendExInfo</a> as appropriate.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8825 </td><td><p class="starttd">An Ultra Messaging Java application might crash when using the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMERegistrationIdExCallbackInfo.html">com::latencybusters::lbm::UMERegistrationIdExCallbackInfo</a> or UMERecoverySequenceNumberCallbackInfo callback methods.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8926 </td><td><p class="starttd">A hotfix or EBF version of the UM Router installer on Windows fails to install unless the version of Ultra Messaging on the system had exactly the same version number. As a solution, the UM Router installer on Windows now permit installation if the major and minor versions (x.y) are the same.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9015 </td><td><p class="starttd">Message Properties has a memory leak when adding more than 16 message properties.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9024 </td><td><p class="starttd">Ultra Messaging range configuration options pairs do not validate values to ensure that the low range value is less or equal to the high range value.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9025 </td><td><p class="starttd">The lbmpong.c sample application might cause the following fatal assert: <br />
<code>FATAL: failed assertion [src-&gt;exbq!=NULL] at line 2155 in ../../../../src/lib/lbm/lbmsrc.c</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9028 </td><td><p class="starttd">If the function <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ad74f47a1e021b2422b80c0bf8d03f7a9">lbm_deserialize_response()</a> has a NULL pointer for the second variable, the function returns an LBM_EINVAL. As a solution, the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ad74f47a1e021b2422b80c0bf8d03f7a9">lbm_deserialize_response()</a> function now fatally asserts if NULL is passed for the '<code>lbm_context_t*</code>' and/or '<code>lbm_serialized_response_t*</code>' arguments.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9029 </td><td><p class="starttd">Ultra Messaging Datagram Bypass Layer (DBL) still uses Myricom DBL version 1. As a solution, Ultra Messaging now uses Myricom DBL version 3.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9033 </td><td><p class="starttd">A Windows receiver using FD management type wincompport might crash with the following log message: <br />
<code>Core-5688-3839: lbm_fd_handle_events line 4463: wincport recv WSA err 0 (Not a WSA error.) from peer not a connected socket</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9034 </td><td><p class="starttd">The lbmrd process no longer requires a license to run, but the help menu still references the '<code>-f</code>' command line option/value, which has no effect.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9035 </td><td><p class="starttd">An HFX receiver with option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#receivercallbackservicetimeenabledcontext">receiver_callback_service_time_enabled (context)</a> option set to 1 might crash or operate without getting any data.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9036 </td><td><p class="starttd">When referenced from an IDE, the Ultra Messaging .NET API libraries do not specify Informatica as creator.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9086 </td><td><p class="starttd">Multi homed windows machines where the IP addresses of at least two NICs have the same number of digits might return the wrong IP address for an adapter name.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9090 </td><td><p class="starttd">For the LBT-RM transport, the '<code>nak_stm_min</code>' and <code>nak_tx_min</code> statistics might contain incorrect values, such as MAX_INT+1 or 0x100000000, due to being incorrectly initialized. As a solution, these statistics are now correctly initialized to 0.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9092 </td><td><p class="starttd">In a Java sending application, if you set the message properties flag while sending but do not set the actual message properties object, the application might crash.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9077 </td><td><p class="starttd">When you set option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmulticastresolvernetwork.html#resolvermulticastincomingaddresscontext">resolver_multicast_incoming_address (context)</a> to 0.0.0.0, the Ultra Messaging application exits during topic resolution.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9143 </td><td><p class="starttd">An Ultra Messaging application using fd management type <code>epoll</code> might have file descriptors silently become unregistered.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9146 </td><td><p class="starttd">When delivering a no source notification to a UM wildcard receiver application, it may experience a segmentation fault.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9147 </td><td><p class="starttd">Ultra Messaging unicast applications might process topic resolution data from lbrmd resolver daemons that they are not configured to use.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9152 </td><td><p class="starttd">An Ultra Messaging application using fd management type select might fatally assert with the following message: <br />
<code>FATAL: failed assertion [index&lt;fdm-&gt;select_fd_count]</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9155 </td><td><p class="starttd">The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ac06b127bae882dd5fb68b7044fdceb5f">lbm_event_dispatch()</a> function might invoke a user callback before the associated event queue has been shut down. As a solution, the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ac06b127bae882dd5fb68b7044fdceb5f">lbm_event_dispatch()</a> function now checks the event queue shutdown status before calling a user callback, but still always processes UNBLOCK events.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9155 </td><td><p class="starttd">When sending serialized Ultra Messaging responses via the UM router, the Ultra Messaging request application might not receive them.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9160 </td><td><p class="starttd">For AIX systems, a setsockopt call for '<code>IP_ADD_MEMBERSHIP</code>' might fail silently, possibly resulting in an EOS without a BOS. As a solution, if this failure occurs Ultra Messaging now retries the call and generates the following log message: <br />
<code>Core-9160-1: INFO: Attempted IP_ADD_MEMBERSHIP on multicast receive socket returned ENOBUFS, retrying.</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9169 </td><td><p class="starttd">An application might freeze when a new thread tries to dispatch events after the event queue is shut down.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9176 </td><td><p class="starttd">In certain configurations, contexts do not learn Domain IDs as expected. To avoid this, all contexts in the same Topic Resolution Domain (TRD) must use the same value for the option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpudpbasedresolveroperation.html#resolverdomainidactivepropagationtimeoutcontext">resolver_domain_id_active_propagation_timeout (context)</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9191 </td><td><p class="starttd">In Java, when you send message properties set in an <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSourceSendExInfo.html">com::latencybusters::lbm::LBMSourceSendExInfo</a> object, garbage collection might corrupt the message. As a solution, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSourceSendExInfo.html">com::latencybusters::lbm::LBMSourceSendExInfo</a> objects now maintain a reference to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMMessageProperties.html">com::latencybusters::lbm::LBMMessageProperties</a> objects, if set.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9205 </td><td><p class="starttd">In Java, Ultra Messaging ignores the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMApplicationHeaderChain.html">com::latencybusters::lbm::LBMApplicationHeaderChain</a> object that is passed into the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSourceSendExInfo.html">com::latencybusters::lbm::LBMSourceSendExInfo</a> constructor.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9298 </td><td><p class="starttd">If an Ultra Messaging application's context thread processing is delayed significantly, the LBT-RM or LBT-RU receiver activity might time out before the application adds a receiver socket file descriptor to the Ultra Messaging file descriptor set. This causes a memory corruption.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9370 </td><td><p class="starttd">In a Windows application using transport TCP, the application might fatally assert with the following message: <br />
<code>FATAL: failed assertion [handle==conn-&gt;sock-&gt;sock] at line 980 in lbm\lbmtcp.c</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9372 </td><td><p class="starttd">When you enable '<code>LBM_CONTEXT_DELAY_WARNING_THRESHOLD</code>', the context delay value displays a misleading value in seconds. As a solution, the context delay time printed now shows the correct value.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9436 </td><td>Message selectors that consist of only white space cause a message selector parsing error. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_8"></a>
Persistence Fixed Limitations for 6.8&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_8">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>4727 </td><td><p class="starttd">If you restart all UMP stores simultaneously, UMP stores cannot recreate proxy sources. As a solution, the UMP Store now maintains information about proxy sources as part of the per-source state, and can elect proxy sources upon restart of the store daemon if necessary. Once restarted, a store waits for the configured <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgsourceactivitytimeout">source-activity-timeout</a> before it attempts to create a proxy source.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8814 </td><td><p class="starttd">Some UMP store log messages are missing newlines.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9023 </td><td><p class="starttd">A receiver might disable the option to use Late Join without disabling UMP store participation, which is an invalid configuration. As a solution, if a receiver subscribes to a persistent source with <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeusestorereceiver">ume_use_store (receiver)</a> enabled but <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#uselatejoinreceiver">use_late_join (receiver)</a> disabled, the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#uselatejoinreceiver">use_late_join (receiver)</a> option is automatically enabled for that source only. and you see the following log message: <br />
<code>LOG Level 7: Core-6959-1: INFO: Receiver on topic "xyz" has its use_late_join option disabled but has a persistent source on transport TCP:10.29.3.42:14371:7d6a8a86[4208529623].</code></p>
<p>To opt out of Late Join when subscribing to persistent sources, you must also disable the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeusestorereceiver">ume_use_store (receiver)</a> option. This will not cause a receiver with <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#uselatejoinreceiver">use_late_join (receiver)</a> disabled to participate in Late Join from a non-persistent source.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9037 </td><td><p class="starttd">If a store with receiver paced persistence enabled experiences transport-level loss, then a UMP source might fail to decrement the flight size count and block indefinitely without sending.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9091 </td><td><p class="starttd">If you run the Java umesrc sample application without specifying a store, the application should exit, but does not. As a solution, the Java umesrc now displays an error message and exits if you do not specify a store.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9094 </td><td><p class="starttd">The .NET umesrc sample application crashes when using the <code>-S</code> command line option to input a valid store IP and port.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9095 </td><td><p class="starttd">The .NET umesrc sample application crashes when using the <code>-S</code> command line option to input a valid store IP and port.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9214 </td><td><p class="starttd">With low flight size settings, in-flight messages might experience minor processing delays.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9302 </td><td><p class="starttd">A store service starting up on Windows might lose data or become unstable if it attempts to read locked cache or state files. As a solution, the store now exits at startup if any cache or state files are found to be locked by another process.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9323 </td><td><p class="starttd">Ultra Messaging might incorrectly drop a message that follows a fragmented message.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9443 </td><td><p class="starttd">A receiver might get late join messages even if <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#uselatejoinreceiver">use_late_join (receiver)</a> is disabled. This was caused by the original solution to bug 9027, which forcibly enabled <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#uselatejoinreceiver">use_late_join (receiver)</a> for a receiver that joined a persistent stream from at least one source. This caused the receiver to also Late Join from non-persistent sources on the same topic discovered after the persistent source.</p>
<p class="endtd">As a solution, Late Join participation is now forcibly enabled only with respect to persistent sources; a receiver does not Late Join from non-persistent sources on the same topic if the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#uselatejoinreceiver">use_late_join (receiver)</a> option is disabled. See description for bug 9027 for more details. </p>
</td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_8"></a>
Queuing Fixed Limitations for 6.8&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_8">&lt;-</a></small></h3>
<p>The following bug fixes apply to the UMQ product.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>8621 </td><td><p class="starttd">Configurations with multiple slave queue instances can cause data loss, crashes or an inability to restart without removal of cache and state files (resulting in data loss). Informatica recommends deploying only configurations with a single queue instance without slaves. To facilitate failover, configure the '<code>sinc-log-filename</code>', <code>sinc-data-filename</code>, and '<code>sinc-queue-swap-filename</code>' to write to a shared file system, and use external process management (automatic or manual) to start up a backup queue instance referencing the same files if and only if the active instance fails (i.e. only allow one queue instance to access the files at any time). Note that host failures (e.g., OS, disk, server) may still result in data loss. With this configuration, sinc files grow over time, so perform clean restarts (i.e., shut down, delete all files and restart) periodically. Using a shared file system may also impact performance; Informatica recommends holistic system performance characterization prior to production deployment.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8798 </td><td><p class="starttd">You cannot send messages with a zero-length payload.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9148 </td><td><p class="starttd">When a Java source uses ULB and sends messages with <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSourceSendExInfo.html">com::latencybusters::lbm::LBMSourceSendExInfo</a> without a per-send client object, a memory leak occurs. As a solution, the call to the lbm_src_send_count_expected_terminals() function occurs only when there is a per-send client present.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9305 </td><td><p class="starttd">The sample Java application umqrcv.java might produce garbled output.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9318 </td><td>The .NET sample application umqrcv.cs no longer deregisters upon exit by default. Use the - D command line option. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_8"></a>
Dynamic Router Fixed Limitations for 6.8&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_8">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>8851 </td><td><p class="starttd">Setting option &lt;max-datagram&gt; to a value other than the default of 65535 can cause the UM Router to hang. As a solution, the UM Router now discards wrong-sized messages and continues.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8979 </td><td><p class="starttd">Incorrect UM Router endpoint Domain IDs propagate continuously, without a mechanism for resetting other than restarting all contexts in the TRD.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9026 </td><td><p class="starttd">When a UM Router peer link closes the connection, the other peer issues the following log message: <br />
<code>Gwd-6033-618: peer portal [GW_0_to_GW_2] inbound connection destroyed due to socket failure</code> <br />
As a solution the other peer now issues the following correct log message: <br />
<code>Gwd-6033-618: peer portal [name] inbound connection destroyed due to disconnect</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9144, 9153 </td><td><p class="starttd">On UNIX platforms, UM Router daemons using single-tcp peer links might incorrectly declare peer links as inactive, and attempt to tear down and re-establish the peer connection. As a solution, for UNIX platforms the UM Router now forces the peer portal option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#fdmanagementtypecontext">fd_management_type (context)</a> to '<code>select</code>' regardless of the user's configuration settings.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9178 </td><td><p class="starttd">In certain configurations using varying values of configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpudpbasedresolveroperation.html#resolverdomainidactivepropagationtimeoutcontext">resolver_domain_id_active_propagation_timeout (context)</a>, Ultra Messaging might assign incorrect domain ID values.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9299 </td><td>When using UM Router peer portals, a peer disconnect might result in a deadlock, which causes the UM Router to stop functioning and requires a restart. </td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="deprecationsfor68"></a>
Deprecations for 6.8&nbsp;&nbsp;<small><a href="#deprecationsfor68">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="persistencedeprecationsfor68"></a>
Persistence Deprecations for 6.8&nbsp;&nbsp;<small><a href="#persistencedeprecationsfor68">&lt;-</a></small></h3>
<ul>
<li>
<p class="startli">For Persistent Stores, the '<code>&lt;topic&gt;</code>' option type value '<code>regexp</code>' is deprecated.</p>
<p class="endli"></p>
</li>
<li>
The Round-Robin store failover configuration, which was deprecated in UM 6.7, is now removed from Ultra Messaging 6.8 and is no longer available. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingdeprecationsfor68"></a>
Queuing Deprecations for 6.8&nbsp;&nbsp;<small><a href="#queuingdeprecationsfor68">&lt;-</a></small></h3>
<p>The following configuration options are deprecated and no longer function. </p><ul>
<li>
umq_flight_size (context) </li>
<li>
umq_flight_size_behavior (context) </li>
<li>
umq_msg_total_lifetime (context) </li>
<li>
umq_message_retransmission_interval (context) </li>
<li>
umq_message_stability_notification (context) </li>
<li>
umq_queue_check_interval (context) </li>
<li>
umq_queue_name (source) </li>
<li>
umq_queue_participants_only (source) </li>
<li>
umq_queue_query_interval (context) </li>
<li>
umq_require_queue_authentication (context) </li>
<li>
umq_retention_intergroup_stability_behavior (context) </li>
<li>
umq_retention_intragroup_stability_behavior (context) </li>
<li>
umq_retention_intergroup_stability_behavior (source) </li>
<li>
umq_retention_intragroup_stability_behavior (source) </li>
</ul>
<p>The following C API functions are deprecated and no longer function: </p><ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#aac6015a6a8e914c6e621e3b28940fe87">lbm_ctx_umq_get_inflight()</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a6cd0c297e489e006ef5da83398184daa">lbm_umq_ctx_msg_stable()</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a21cb52dc4c0a14484cfc0454a156e2d8">lbm_queue_immediate_message()</a> </li>
</ul>
<p>The following Java and .NET API functions are deprecated and no longer function: </p><ul>
<li>
UMEBlockSrc class </li>
<li>
LBMContext.setUMQInflight() method </li>
<li>
LBMContext.setUMQMessageStable() method </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterdeprecationsfor68"></a>
Dynamic Router Deprecations for 6.8&nbsp;&nbsp;<small><a href="#dynamicrouterdeprecationsfor68">&lt;-</a></small></h3>
<ul>
<li>
The '<code>&lt;regex-pattern&gt;</code>' configuration option element is deprecated. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_7_3"></a>
UM Version 6.7.3&nbsp;&nbsp;<small><a href="#umversion6_7_3">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.7.3 is the repair of a critical bug that primarily affects the UM Router (DRO) when using peer links.</p>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_7_3"></a>
Enhancements for 6.7.3&nbsp;&nbsp;<small><a href="#enhancementsfor6_7_3">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_7_3"></a>
Streaming Enhancements for 6.7.3&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_7_3">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
Ultra Messaging 6.7.3 introduces the following new Java class and methods: <ul>
<li>
Class: <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSerializedResponse.html">com::latencybusters::lbm::LBMSerializedResponse</a> </li>
<li>
Method: <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMMessage.html#ae7955dc17a5f612bc085af6575d582cf">com::latencybusters::lbm::LBMMessage::getSerializedResponse()</a> </li>
<li>
Method: <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMContext.html#a00bce0d7e5534722e07ab137fcd7b016">com::latencybusters::lbm::LBMContext::respond()</a> </li>
</ul>
These methods allow Java applications to extract a serialized response (a byte array representation of the request originator's address) from a received request message, and allow either the same application or another application (if the byte array representation is passed to the other application, e.g., via a standard message) to use that serialized response to send a response to the request originator. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_7_3"></a>
Persistence Enhancements for 6.7.3&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_7_3">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_7_3"></a>
Queuing Enhancements for 6.7.3&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_7_3">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionality is retained.</dd></dl>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_7_3"></a>
Dynamic Router Enhancements for 6.7.3&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_7_3">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_7_3"></a>
Fixed Limitations for 6.7.3&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_7_3">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_7_3"></a>
Streaming Fixed Limitations for 6.7.3&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_7_3">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>9508 </td><td><p class="starttd">On Windows, an application might crash when a TCP receiver disconnects from a TCP source.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9515 </td><td><p class="starttd">Multi-homed windows machines where the IP addresses of at least two NICs have the same number of digits might return the wrong IP address for an adapter name.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9516 </td><td>When using UM Router peer portals, a peer disconnect might result in a deadlock, which causes the UM Router to stop functioning and requires a restart. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_7_3"></a>
Persistence Fixed Limitations for 6.7.3&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_7_3">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_7_3"></a>
Queuing Fixed Limitations for 6.7.3&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_7_3">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionality is retained.</dd></dl>
<p>The following bug fixes apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_7_3"></a>
Dynamic Router Fixed Limitations for 6.7.3&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_7_3">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_7_2"></a>
UM Version 6.7.2&nbsp;&nbsp;<small><a href="#umversion6_7_2">&lt;-</a></small></h1>
<p>Ultra Messaging version 6.7.2 consists only of the UMS product for the Stratus OpenVOS platform.</p>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_7_2"></a>
Enhancements for 6.7.2&nbsp;&nbsp;<small><a href="#enhancementsfor6_7_2">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_7_2"></a>
Streaming Enhancements for 6.7.2&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_7_2">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
UMS 6.7.2 is available for the Stratus OpenVOS platform. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_7_1"></a>
UM Version 6.7.1&nbsp;&nbsp;<small><a href="#umversion6_7_1">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.7 is the inclusion of the HP NonStop platform for the UMP product. Note that daemons are not supported on NonStop, only client applications.</p>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_7_1"></a>
Enhancements for 6.7.1&nbsp;&nbsp;<small><a href="#enhancementsfor6_7_1">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_7_1"></a>
Streaming Enhancements for 6.7.1&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_7_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli">You can now set how a context learns the ID of its own Topic Resolution Domain (TRD) with option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpudpbasedresolveroperation.html#resolverdomainidactivepropagationtimeoutcontext">resolver_domain_id_active_propagation_timeout (context)</a>. This provides more flexibility in situations where you might need to change the Topic Resolution Domain (TRD) ID values for contexts.</p>
<p class="endli"></p>
</li>
<li>
Log messages '<code>Core-5688-1882</code>' and '<code>Core-5688-1891</code>' now display delay times in seconds and milliseconds, instead of seconds only. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_7_1"></a>
Persistence Enhancements for 6.7.1&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_7_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
Ultra Messaging Persistence Edition is now available on the HP NonStop platform. For information on limitations, see the <a href="../../DocIntro=en.pdf">Documentation Introduction</a>. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_7_1"></a>
Queuing Enhancements for 6.7.1&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_7_1">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionality is retained.</dd></dl>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_7_1"></a>
Dynamic Router Enhancements for 6.7.1&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_7_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_7_1"></a>
Fixed Limitations for 6.7.1&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_7_1">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_7_1"></a>
Streaming Fixed Limitations for 6.7.1&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_7_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>3944 </td><td><p class="starttd">The '<code>lbmpong.c</code>' sample application might cause the following fatal assert: <br />
<code>FATAL: failed assertion [src-&gt;exbq!=NULL] at line 2155 in ../../../../src/lib/lbm/lbmsrc.c</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>6186 </td><td><p class="starttd">If the function <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ad74f47a1e021b2422b80c0bf8d03f7a9">lbm_deserialize_response()</a> has a NULL pointer for the second variable, the function returns an LBM_EINVAL. As a solution, the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ad74f47a1e021b2422b80c0bf8d03f7a9">lbm_deserialize_response()</a> function now fatally asserts if NULL is passed for the '<code>lbm_context_t*</code>' and/or '<code>lbm_serialized_response_t*</code>' arguments.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7526 </td><td><p class="starttd">If an Ultra Messaging application's context thread processing is delayed significantly, the LBT-RM or LBT-RU receiver activity might time out before the application adds a receiver socket file descriptor to the Ultra Messaging file descriptor set. This causes a memory corruption.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7945 </td><td><p class="starttd">When delivering a no source notification to a UM wildcard receiver application, it may experience a segmentation fault.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8428 </td><td><p class="starttd">The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ac06b127bae882dd5fb68b7044fdceb5f">lbm_event_dispatch()</a> function might invoke a user callback before the associated event queue has been shut down. As a solution, the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ac06b127bae882dd5fb68b7044fdceb5f">lbm_event_dispatch()</a> function now checks the event queue shutdown status before calling a user callback, but still always processes UNBLOCK events.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8517 </td><td><p class="starttd">An Ultra Messaging application using fd management type select might fatally assert with the following message: <br />
<code>FATAL: failed assertion [index&lt;fdm-&gt;select_fd_count]</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8750 </td><td><p class="starttd">An HFX receiver with option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#receivercallbackservicetimeenabledcontext">receiver_callback_service_time_enabled (context)</a> option set to 1 might crash or operate without getting any data.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8788 </td><td><p class="starttd">Ultra Messaging Datagram Bypass Layer (DBL) still uses Myricom DBL version 1. As a solution, Ultra Messaging now uses Myricom DBL version 3.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8812 </td><td><p class="starttd">Ultra Messaging range configuration options pairs do not validate values to ensure that the low range value is less or equal to the high range value.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8856 </td><td><p class="starttd">The lbmrd process no longer requires a license to run, but the help menu still references the '<code>-f</code>' command line option/value, which has no effect.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8874 </td><td><p class="starttd">When referenced from an IDE, the Ultra Messaging .NET API libraries do not specify Informatica as creator.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8879 </td><td><p class="starttd">An Ultra Messaging application using fd management type <code>epoll</code> might have file descriptors silently become unregistered.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8898 </td><td><p class="starttd">A Windows receiver using FD management type wincompport might crash with the following log message: <br />
<code>Core-5688-3839: lbm_fd_handle_events line 4463: wincport recv WSA err 0 (Not a WSA error.) from peer not a connected socket</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8919 </td><td><p class="starttd">For the LBT-RM transport, the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/structlbm__rcv__transport__stats__lbtrm__t__stct.html#afd4f04163e43692b04b5f03e98ab992a">lbm_rcv_transport_stats_lbtrm_t::nak_stm_min</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/structlbm__rcv__transport__stats__lbtrm__t__stct.html#a8ea05ee4effe7f8e41e45051741ee1c6">lbm_rcv_transport_stats_lbtrm_t::nak_tx_min</a> statistics might contain incorrect values, such as MAX_INT+1 or 0x100000000, due to being incorrectly initialized. As a solution, these statistics are now correctly initialized to 0.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9013 </td><td><p class="starttd">Ultra Messaging unicast applications might process topic resolution data from lbrmd resolver daemons that they are not configured to use.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9040 </td><td><p class="starttd">When sending serialized Ultra Messaging responses via the UM router, the Ultra Messaging request application might not receive them.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9077 </td><td>When you set option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmulticastresolvernetwork.html#resolvermulticastincomingaddresscontext">resolver_multicast_incoming_address (context)</a> to 0.0.0.0, the Ultra Messaging application exits during topic resolution. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_7_1"></a>
Persistence Fixed Limitations for 6.7.1&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_7_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>8933 </td><td><p class="starttd">An Ultra Messaging Java application might crash when using the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMERegistrationIdExCallbackInfo.html">com::latencybusters::lbm::UMERegistrationIdExCallbackInfo</a> or <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMERecoverySequenceNumberCallbackInfo.html">com::latencybusters::lbm::UMERecoverySequenceNumberCallbackInfo</a> callback methods.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>5141 </td><td><p class="starttd">If you run the Java umesrc sample application without specifying a store, the application should exit, but does not. As a solution, the Java umesrc now displays an error message and exits if you do not specify a store.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>6959 </td><td><p class="starttd">When a UMP receiver subscribes to a UMP source with option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeusestorereceiver">ume_use_store (receiver)</a> enabled, the application can not disable the option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#uselatejoinreceiver">use_late_join (receiver)</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8140 </td><td><p class="starttd">When option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#sourceincludestopicindexcontext">source_includes_topic_index (context)</a> is enabled, the source string delivered to the UME recovery sequence number callback does not include the topic index.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8963 </td><td><p class="starttd">If a store with receiver paced persistence enabled experiences transport-level loss, then a UMP source might fail to decrement the flight size count and block indefinitely without sending.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8995 </td><td><p class="starttd">The .NET umesrc sample application crashes when using the <code>-S</code> command line option to input a valid store IP and port.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9010 </td><td>The .NET umesrc sample application sometimes crashes when the store name length equals 0. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_7_1"></a>
Queuing Fixed Limitations for 6.7.1&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_7_1">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionality is retained.</dd></dl>
<p>The following bug fixes apply to the UMQ product.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>8950 </td><td><p class="starttd">When a Java source uses ULB and sends messages with <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSourceSendExInfo.html">com::latencybusters::lbm::LBMSourceSendExInfo</a> without a per-send client object, a memory leak occurs. As a solution, the call to the lbm_src_send_count_expected_terminals() function occurs only when there is a per-send client present.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8966 </td><td><p class="starttd">When a queue daemon terminates and restarts with a reset state, the source might resubmit a message that the queue daemon has already stabilized.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8967 </td><td>When the queue daemon receives messages via UMQ pro-active retransmission, some of these messages might not have the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#aa56ddca7bfbc1b4f057ea5f0f1162582">LBM_MSG_FLAG_UMQ_RESUBMITTED</a> flag. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_7_1"></a>
Dynamic Router Fixed Limitations for 6.7.1&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_7_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>8859, 8871, 9002 </td><td><p class="starttd">On UNIX platforms, UM Router daemons using single-tcp peer links might incorrectly declare peer links as inactive, and attempt to tear down and re-establish the peer connection. As a solution, for UNIX platforms the UM Router now forces the peer portal option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#fdmanagementtypecontext">fd_management_type (context)</a> to '<code>select</code>' regardless of the user's configuration settings.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8873 </td><td><p class="starttd">When a UM Router peer link closes the connection, the other peer issues the following log message: <br />
<code>Gwd-6033-618: peer portal [GW_0_to_GW_2] inbound connection destroyed due to socket failure</code> <br />
As a solution the other peer now issues the following correct log message: <br />
<code>Gwd-6033-618: peer portal [name] inbound connection destroyed due to disconnect</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8979 </td><td>Incorrect UM Router endpoint Domain IDs propagate continuously, without a mechanism for resetting other than restarting all contexts in the TRD. </td></tr>
</table>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_7"></a>
UM Version 6.7&nbsp;&nbsp;<small><a href="#umversion6_7">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.7 is interoperability with pre-6.0 versions of UM. Applications and persistent stores at version 6.7 are able to exchange messages and control information with 5.x applications, especially 5.3.6.</p>
<p>However, note that 6.7 applications are not able to interoperate with daemon components of 5.x, including the persistent store and the 5.x gateway. Also, 5.x applications are not able to interoperate with version 6.7 UM Router (DRO).</p>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_7"></a>
Enhancements for 6.7&nbsp;&nbsp;<small><a href="#enhancementsfor6_7">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_7"></a>
Streaming Enhancements for 6.7&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_7">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli"><b>Receive-Side Batching</b> - reduces latency and increases throughput in UM applications by bundling multiple messages to deliver. This bypasses the need to perform a boundary crossing for each delivered message.</p>
<p>You enable Receiver-Side Batching with configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeliverycontrol.html#deliverycontrolmessagebatchingcontext">delivery_control_message_batching (context)</a>. With C and .NET applications, you must be using an event queue for this feature (this is not a requirement for Java applications).</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The unicast resolver daemon, lbmrd, no longer requires an Ultra Messaging license to run.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The unicast resolver daemon, lbmrd, now has command-line options to set buffer size in bytes for the receive socket buffer (<code>-r</code> flag) and the send socket buffer (<code>-s</code> flag).</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">In addition to Receive-Side Batching, other improvements have further reduced the latency and increased the throughput of the Java API.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">When an error occurs on a socket while sending an ACK in LBT-RU, UM now generates an EOS immediately.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">You can now set a source activity timeout for LBT-TCP sessions, with new configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpactivitytimeoutsource">transport_tcp_activity_timeout (source)</a>.</p>
<p class="endli"></p>
</li>
<li>
For UM XML configuration files and UMP store daemon XML configuration files you can use the '<code>XInclude</code>' mechanism to merge multiple configuration files. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_7"></a>
Persistence Enhancements for 6.7&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_7">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
<p class="startli"><b>Throttled Delivery</b> - you can limit the number of message fragments that a persistent receiver delivers to a receiver application beyond the current highest consumed message fragment. This limits the amount of memory a receiver uses when that receiver consumes messages at rate much slower than the recovery rate from a UMP store or slower than the UMP source stream. To use UMP Throttled Delivery, set the new option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeapplicationoutstandingmaximumreceiver">ume_application_outstanding_maximum (receiver)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Enhanced Quorum/Consensus Store Registration and Message Stability</b></p><ul>
<li>Quorum/Consensus functionality is enhanced in the following ways: <ul>
<li>
When setting option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeretentionintragroupstabilitybehaviorsource">ume_retention_intragroup_stability_behavior (source)</a> to '<code>all-active</code>', the source requires, minimally, a quorum of stores to successfully stabilize a message within the group. </li>
<li>
The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeretentionintragroupstabilitybehaviorsource">ume_retention_intragroup_stability_behavior (source)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeretentionintergroupstabilitybehaviorsource">ume_retention_intergroup_stability_behavior (source)</a> options now apply to registration behavior, as well as message stability behavior. With versions earlier than 6.7, intragroup registration was quorum-based only, and intergroup registration completion always occurred after the first store group was registered. </li>
<li>
During the first cycle of the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeregistrationintervalsource">ume_registration_interval (source)</a> period, a source does not declare Registration Complete unless all stores in all groups respond. With versions earlier than 6.7, a source declares Registration Complete as soon as all stores in one group respond. </li>
<li>
During subsequent cycles of the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeregistrationintervalsource">ume_registration_interval (source)</a> period, a source declares Registration Complete as soon as the configured settings for the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeretentionintragroupstabilitybehaviorsource">ume_retention_intragroup_stability_behavior (source)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeretentionintergroupstabilitybehaviorsource">ume_retention_intergroup_stability_behavior (source)</a> options are satisfied. With versions earlier than 6.7, a source declares Registration Complete as soon as a quorum of stores in one group respond. </li>
</ul>
</li>
</ul>
<p class="endli"></p>
</li>
<li>
UM now propagates a source's session ID to receivers. The session ID is visible during registration events as well as during the recovery sequence number callback. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_7"></a>
Queuing Enhancements for 6.7&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_7">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionality is retained.</dd></dl>
<p>The following new features and enhancements apply to the UMQ product.</p>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_7"></a>
Dynamic Router Enhancements for 6.7&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_7">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
The UM Router now checks configuration option values to ensure that they are within valid ranges. </li>
<li>
For UM Router XML configuration files you can use the '<code>XInclude</code>' mechanism to merge multiple configuration files. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_7"></a>
Fixed Limitations for 6.7&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_7">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_7"></a>
Streaming Fixed Limitations for 6.7&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_7">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>2551 </td><td><p class="starttd">With adaptive batching enabled, applications sometimes issue a warning assertion, <br />
<code>WARNING: failed assertion [imbq-&gt;stats.ttss_mean&lt;=imbq- &gt;stats.ttcs_mean]</code> <br />
As a solution, since the condition is harmless, the warning is removed.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>5242 </td><td><p class="starttd">Web monitor support link text displays, "29West Ultra
Messaging Support". This is now changed to display, "Informatica Ultra Messaging Support".</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>5626 </td><td><p class="starttd">Ultra Messaging client XML configuration validation sometimes fails needlessly. As a solution, XML configuration parsing now tolerates invalid values such that you can use a single XML config file or UMM configuration template across multiple platforms, even if it contains option values that are not valid for all platforms.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7261 </td><td><p class="starttd">If automatic monitoring is misconfigured, instead of silently failing the creation and proceeding with a context or event queue setup, Ultra Messaging now logs the following messages: <br />
`Could not create automon controller: <br />
CoreApi-5688-3059: automatic monitoring initialization failed [4099] [Transport module source init function returned -1, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbmaux_8h.html#ae7d92b1afb5b581a6b71a154448f89a7">lbmaux_context_attr_setopt_from_file()</a> failed CoreApi-5688-4374: invalid configuration line in mcast.cfg, line 1: xxxxxxx</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7917 </td><td><p class="starttd">Destroying a source that matches a wildcard pattern, while dispatching an event queue with events from that source, creates a race condition.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7939 </td><td><p class="starttd">LBT-RU does not indicate in the packet when a datagram is a retransmission. As a solution, Ultra Messaging now marks retransmitted LBT-RU datagrams with a retransmit flag. This flag is visible only with packet dissection tools such as Wireshark.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7944 </td><td><p class="starttd">Using the function <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a6dc1f21c3be74fbed3f96800cfd6a0b0">lbm_context_attr_dup()</a> might cause a <code>src-&gt;res_ucast_daemons!=NULL</code> assert when the original attributes do not contain a setting for the UM configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastresolvernetwork.html#resolverunicastdaemoncontext">resolver_unicast_daemon (context)</a> and when that option is then set after the original is created.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8024 </td><td><p class="starttd">For Late Join, OTR, or Request/Response, Ultra Messaging does not perform NAT translation correctly.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8065 </td><td><p class="starttd">When using UM Routers (DRO), Ultra Messaging applications can cache old data that later can cause errors when creating and deleting wildcard receivers. The Ultra Messaging application context now cleans out this old data when it receives UM Router proxy source delete messages.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8108 </td><td><p class="starttd">Ultra Messaging accepts configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpunicastresolvernetwork.html#resolverunicastdaemoncontext">resolver_unicast_daemon (context)</a> when it specifies more than one address. As a solution, incorrectly setting this option now issues message <code>CoreApi-7875-1</code> indicating that multiple values are not allowed for this option.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8114 </td><td><p class="starttd">The lbmrd resolver sometimes issues message <br />
<code>LOG Level 6: Core-5688-3375: unicast resolver xxx.xxx.xxx.xxx:xxxx went inactive</code> <br />
while the resolver is active.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8153 </td><td><p class="starttd">When a receiver receives increasingly large messages, a memory leak might occur.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8150 </td><td><p class="starttd">Ultra Messaging may now declare fragments requested for retransmission by a receiver from a store as unrecoverable prior to the retransmission request timeout, if all stores have declared that fragment unrecoverable.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8160 </td><td><p class="starttd">On a 64-bit UNIX platform using a UM XML configuration file, certain context names, event queue names, topic names, and wildcard patterns are not picked up, even though the configuration file specifies them.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8198 </td><td><p class="starttd">Mellanox Ultra Messaging applications with option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportacceleration.html#udaccelerationcontext">ud_acceleration (context)</a> set to 1 were forcing the VMA_SELECT_POLL environment variable to 0, resulting in poor latency performance. Applications can now set VMA_SELECT_POLL to the desired value, or can allow the Mellanox default value.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8277 </td><td><p class="starttd">LBT-SMX transport statistics include unsupported request/response statistics. As a solution the field lbm_reqs_rcved is renamed to '<code>reserved1</code>' in the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ac5fb787ca6c0597f6ff313073fff658f">lbm_rcv_transport_stats_lbtsmx_t</a> structure.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8283 </td><td><p class="starttd">LBMMON statistics receivers now report correct values for SMX transport statistics.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8295 </td><td><p class="starttd">The lbmrd unicast resolver daemon propagates certain non-LBMR messages to clients. As a solution, lbmrd now ignores these messages.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8444 </td><td><p class="starttd">When using LBT-RU and Source Side Filtering, a <code>bvec-&gt;buffs[0]!=NULL</code> fatal assert can occur when receivers are connecting, messages are being sent, and there is loss and retransmissions. As a solution, Ultra Messaging now takes the proper lock when sending the Source Side Filtering initialization message.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8557 </td><td><p class="starttd">When you configure LBT-RU context and receiver port ranges to overlap, Ultra Messaging allows this and logs many copies of <code>Core-5688-1796</code> messages. As a solution, Ultra Messaging now throttles this message as shown in the following example: <br />
<code>LOG Level 6: THROTTLED MSG: Core-5688-1796: LBT-RU receiver received unknown packet type 6. Origin: 10.29.3.187:16001 0.9995 secs. 0 msgs/sec. 0 bps</code> <br />
<code>LOG Level 6: ...previous THROTTLED MSG repeated 25 times in 3 seconds</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8591 </td><td><p class="starttd">Sometimes for invalid receiver configuration combinations, Ultra Messaging repeats warning log messages for every transport joined. As a solution, invalid receiver configuration combinations now issue this warning once at receiver creation time.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8608 </td><td><p class="starttd">A Java or .NET hot failover receiver that experiences loss might assert with fatal assertion:[d_entry-&gt;topic_entry != NULL].</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8610 </td><td><p class="starttd">Message properties do not clear in Java and C# before loading the properties of the next message to be delivered.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8633 </td><td><p class="starttd">The function <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ad9416b1f0b474b5d4c4f39bb3c4bda77">lbm_context_process_events()</a> returns -1 for non-critical errors without further description. As a solution, Ultra Messaging no longer returns -1 from <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ad9416b1f0b474b5d4c4f39bb3c4bda77">lbm_context_process_events()</a> for non-critical errors.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8662 </td><td><p class="starttd">In the Java API, the array of stores returned by <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSourceAttributes.html#a7102748cf41bd69c8923fd1d026e2e35">com::latencybusters::lbm::LBMSourceAttributes::getStores()</a> contains an incorrect number of entries when using named stores. In addition to the solution for this, the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMEStoreEntry.html">com::latencybusters::lbm::UMEStoreEntry</a> class now contains a new field to provide store name information.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8682 </td><td><p class="starttd">The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a7595677bf01cb9397d1fd174bd095e9f">lbm_serialize_response()</a> function does not include the Domain ID in the serialized message. When a serialized response message traverses a UM Router (DRO) to a different topic resolution domain, the message cannot reach the requester, and the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ad74f47a1e021b2422b80c0bf8d03f7a9">lbm_deserialize_response()</a> function logs the following warning: <br />
<code>Core-6259-25: Deserialize Response: Context in domain 1 received response with no domain...</code> <br />
As a solution, serialized response messages now include the topic resolution domain ID.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8726 </td><td><p class="starttd">If you set <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeretentionuniqueconfirmationssource">ume_retention_unique_confirmations (source)</a> to 0 and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeconfirmeddeliverynotificationsource">ume_confirmed_delivery_notification (source)</a> to 3, the first delivery confirmation sets the UNIQUE_ACKS flag. As a solution, this flag now sets only if you set option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeretentionuniqueconfirmationssource">ume_retention_unique_confirmations (source)</a> to a value greater than 0 and the number of confirmations received are enough to exceed the threshold.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8732 </td><td><p class="starttd">With option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grphotfailoveroperation.html#hfduplicatedeliveryreceiver">hf_duplicate_delivery (receiver)</a> and ordered delivery enabled, hot failover receivers might deliver duplicate messages before the original messages. With this solution, messages flagged as duplicate are always be delivered after messages not flagged as duplicate.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8733 </td><td><p class="starttd">Hot failover receivers might leak memory when processing HF reset commands or when deleted.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8743 </td><td><p class="starttd">An Ultra Messaging application or daemon fatally asserts with message: <br />
<code>[dest] at line 481 in ../../../../src/lib/lbm/lbmrxrctlr.c</code> <br />
if the application receives malformed data on an Ultra Messaging tcp socket or under other rare conditions.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8797 </td><td><p class="starttd">Java method <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBM.html#a737ad342a260a86e86d394149e06dcaf">com::latencybusters::lbm::LBM::setDebugMask()</a> sets incorrect mask values on 32-bit platforms.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8868 </td><td><p class="starttd">In the Java and .NET APIs, some objects accessible from an LBMMessage object are sometimes newly created for each LBMMessage delivered, in violation of the Zero Object Delivery (ZOD) functionality. The affected objects include <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMMessageChannelInfo.html">com::latencybusters::lbm::LBMMessageChannelInfo</a> for messages received on a spectrum channel, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMQIndexInfo.html">com::latencybusters::lbm::UMQIndexInfo</a> for queueing messages with an index, and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMQMessageId.html">com::latencybusters::lbm::UMQMessageId</a> for all queueing or ULB messages received. As a solution, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMMessage.html">com::latencybusters::lbm::LBMMessage</a> objects now re-use these object types for each new message delivery, rather than creating new objects.</p>
<dl class="section note"><dt>Note</dt><dd>You might have applications that no longer work correctly because of this change. To use the '<code>LBMMessageChannelInfo</code>', '<code>UMQIndexInfo</code>', or '<code>UMQMessageId</code>' objects outside of the onReceive callback, you must first make a copy of the object using its constructor, or call promote() on the LBMMessage object. </dd></dl>
</td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_7"></a>
Persistence Fixed Limitations for 6.7&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_7">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>1013 </td><td><p class="starttd">When a umestored configuration file sets the '<code>&lt;log&gt;</code>' type attribute to the unsupported value of syslog, the umestored daemon reports the following error message: <br />
<code>daemon section log entity must have a value</code> <br />
As a solution, the umestored daemon now reports the following error message: <br />
<code>daemon log does not currently support syslog type</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>3894 </td><td><p class="starttd">When both registration IDs and session IDs are present, Ultra Messaging issues a log message stating that registration IDs are being ignored, but then fails to ignore them.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>5273 </td><td><p class="starttd">Upon startup, a store could delay persistence of messages for up to the configured retransmit_request_generation_interval value, while attempting to recover messages from the source that the source has already reclaimed. As a solution, the source reports the non-availability of the requested messages back to the store, and the store can begin persistence without extra delay.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>5498 </td><td><p class="starttd">The umestored daemon warns that option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeprecated.html#resolveractivethresholdcontext">resolver_active_threshold (context)</a> is deprecated. This warning is now removed. Setting this option continues to have no effect.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>6112 </td><td><p class="starttd">The umercv sample application prints session IDs in decimal format. As a resolution, all sample applications now print Session IDs in hexadecimal, and continue to print registration IDs in decimal.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7282, 8223 </td><td><p class="starttd">A store might fail in certain incorrect registration scenarios. As a solution, if applications present invalid session ID and registration ID combinations, they now receive a registration error.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8171 </td><td><p class="starttd">An RPP-configured source can get an assert with the following log message: <br />
<code>LOG Level 1: FATAL: failed assertion [info-&gt;sqn==ctlr-&gt;trail_sqn] at line 305 in ../../../../src/lib/lbm/lbmrxsctlr.c</code> <br />
This can happen when the source re-registers with a reduced-fd repository.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8185 </td><td><p class="starttd">RPP stores can now send a stability ack for a message that was lost but later recovered via retransmission.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8245 </td><td><p class="starttd">Configuring UMP stores using non-increasing group index order, such as configuring storeA in group 2 before storeB in group 1, causes erroneous registration changes and indeterminate receiver behavior.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8677 </td><td><p class="starttd">With the Java API, on a Persistence deregistration event, the Ultra Messaging library delivers a <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMEDeregistrationCompleteInfo.html">com::latencybusters::lbm::UMEDeregistrationCompleteInfo</a> with invalid contents. As a solution, since there is no information associated with this event, the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMMessage.html#aa15e6cf7017f0937790d67b168e98dfd">com::latencybusters::lbm::LBMMessage::deregistrationCompleteInfo()</a> method now always returns null.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8704 </td><td><p class="starttd">Ultra Messaging handles stability acknowledgements on the same thread as retransmissions, affecting the consistency of latency. As a solution, stability acknowledgements now use a different thread.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8710 </td><td><p class="starttd">With option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeconfirmeddeliverynotificationsource">ume_confirmed_delivery_notification (source)</a> set to 3, after <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeretentionuniqueconfirmationssource">ume_retention_unique_confirmations (source)</a> is reached, the whole message confirmed flag is not set for delivery confirmations for all receivers.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8711 </td><td><p class="starttd">In the .NET (C#) API, there are no methods to access objects <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMESourceEventDeregistrationSuccessInfo.html">com::latencybusters::lbm::UMESourceEventDeregistrationSuccessInfo</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMESourceEventDeregistrationCompleteInfo.html">com::latencybusters::lbm::UMESourceEventDeregistrationCompleteInfo</a>. As a solution, the C# library now includes accessor methods.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8747 </td><td><p class="starttd">Sometimes an application receives and acts upon retransmit response information intended for a different application. This solution makes retransmit requests more unique to the application issuing the request to prevent potential cross-contamination of retransmit response information during application restarts.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8766 </td><td><p class="starttd">UMP stores might accept messages from a UMP source that has not completed the registration process, resulting in the following fatal assertion: <br />
<code>[EMERGENCY]: FATAL: failed assertion [MUL_SQN_GTE(info-&gt;sqn, next_avail_sqn)] at line 1221 in ../../../../src/stored/umerepo.c</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8804 </td><td><p class="starttd">If there is a disk error modifying the state file on receiver registration, the umestored daemon writes to an invalid location, possibly causing a corrupted state file or umestored segmentation fault. As a solution, umestored no longer writes to an invalid location but instead issues a log-message warning.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8808 </td><td>Store daemons sometimes issue a Store-5688-5258 message. As a solution, the umestored configuration code now disallows using multiple async write callbacks. This prevents situations where multiple writes could be executed out of order, causing data corruption. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_7"></a>
Queuing Fixed Limitations for 6.7&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_7">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionalty is retained.</dd></dl>
<p>The following bug fixes apply to the UMQ product.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>8315 </td><td><p class="starttd">In the .NET API, Ultra Messaging reuses <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMMessageChannelInfo.html">com::latencybusters::lbm::LBMMessageChannelInfo</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMQMessageId.html">com::latencybusters::lbm::UMQMessageId</a>, and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMQIndexInfo.html">com::latencybusters::lbm::UMQIndexInfo</a> objects between different <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMMessage.html">com::latencybusters::lbm::LBMMessage</a> objects for delivery, reducing garbage collection overhead.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8325 </td><td><p class="starttd">ULB reassigns messages even if option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingqueuing.html#umqulbapplicationsetmessagemaxreassignmentssource">umq_ulb_application_set_message_max_reassignments (source)</a> is set to 1.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8536 </td><td><p class="starttd">When restarting the UMQ daemon while handling zero-length-messages, the daemon sometimes fails with the following fatal assertion: <br />
<code>[EMERGENCY]: FATAL: failed assertion [msg-&gt;lbm_msg!=NULL] at line 3896 in ../../../../src/stored/umqsinc.c</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8601 </td><td>An Ultra Messaging application crashes when ULB or UMQ receivers send a Consumption Report for a message after their source transport had been torn down. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_7"></a>
Dynamic Router Fixed Limitations for 6.7&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_7">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>7276 </td><td><p class="starttd">When using an aggressive keepalive configuration on a UM Router (DRO) peer link, the UM Router might fatally terminate.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8256 </td><td><p class="starttd">When configuring a UM Router (DRO) Peer Connection on a Microsoft Windows machine, the single-tcp configuration option can result in no message traffic across the link. As a solution, Ultra Messaging now handles all documented error conditions, instead of only '<code>WSAECONNREFUSED</code>'. This solution addresses issues where a UM Router would not reconnect with a peer under timeout conditions.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8303 </td><td><p class="starttd">A UM Router (DRO) might crash when peer connections between two UM Routers quickly disconnect and reconnect.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8446 </td><td><p class="starttd">For Windows and 32-bit UNIX platforms, the web monitor displays non-zero values for the statistic "&lt;i&gt;Transport
topic fragments/bytes dropped due to blocking&lt;/i&gt;", but Ultra Messaging does not log the message <br />
<code>[information] Gwd-6945-2: Portal [xxx] dropping data due to high volume.</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8459 </td><td><p class="starttd">Single TCP connections repeatedly disconnect and reconnect under certain conditions.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8461 </td><td><p class="starttd">UM Router (DRO) peer connections, both dual and single TCP, might encounter an error and not be restarted. One side effect for the solution to this is that the UM Router now logs every connection attempt failure, resulting in more log messages if the other peer is not up.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8752 </td><td><p class="starttd">Error message: <br />
<code>Core-5688-1890: handle events returned error 4 [CoreApi-5688-3837: WFMO: (87) The parameter is incorrect]</code> <br />
 sometimes occurs, primarily in a peer portal connection.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8763 </td><td>The UM Router (DRO) sometimes asserts with the messages: <br />
<code>WARNING: failed assertion [Portal-&gt;peer.adjacent_node_id==0] at line 2679 in ../../../../src/gateway/tnwgpeer.c</code> <br />
and: <br />
<code>FATAL: failed assertion [void_o_entry!=NULL] at line 4205 in ../../../../src/gateway/ tnwgpeer.c</code> </td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="deprecationsfor67"></a>
Deprecations for 6.7&nbsp;&nbsp;<small><a href="#deprecationsfor67">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingdeprecationsfor67"></a>
Streaming Deprecations for 6.7&nbsp;&nbsp;<small><a href="#streamingdeprecationsfor67">&lt;-</a></small></h3>
<ul>
<li>
The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbmmon_8h.html#a0d12fbcc04e5e7d9b79547fb2f0c5031">lbmmon_attr_get_contextid()</a> function is deprecated. Instead, use <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbmmon_8h.html#aa8669b8acf25d0d81ef78f8c4fced6ea">lbmmon_attr_get_objectid()</a>. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistencedeprecationsfor67"></a>
Persistence Deprecations for 6.7&nbsp;&nbsp;<small><a href="#persistencedeprecationsfor67">&lt;-</a></small></h3>
<ul>
<li>
<p class="startli">The Round-Robin Store failover configuration is deprecated.</p>
<p class="endli"></p>
</li>
<li>
The '<code>repository-disk-max-write-async-cbs</code>' option is deprecated. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_5"></a>
UM Version 6.5&nbsp;&nbsp;<small><a href="#umversion6_5">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.5 is the introduction of the Ultra Messaging System Monitoring option.</p>
<dl class="section warning"><dt>Warning</dt><dd>UM version 6.5 does not interoperate reliably with versions of UM prior to 6.0 It was not until UM version 6.7 and beyond that interoperability was introduced between the 6.x version line and the 5.x version line.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_5"></a>
Enhancements for 6.5&nbsp;&nbsp;<small><a href="#enhancementsfor6_5">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_5"></a>
Streaming Enhancements for 6.5&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_5">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>7911 </td><td><p class="starttd">You can now configure Ultra Messaging to use Solarflare Onload to select transport sockets for acceleration. Onload is a kernel-bypass technology that accelerates message traffic and operates with Solarflare 10GbE Ethernet NICs. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportacceleration.html#solarflareonload">Solarflare® Onload</a> for more information.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7974 </td><td>The lbmrd daemon now includes command line option '<code>-f</code>' or '<code>--lic-file</code>' to let you specify the Ultra Messaging license file. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_5"></a>
Persistence Enhancements for 6.5&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_5">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>7478 </td><td>The Persistent Store Web Monitor now displays the Session ID on the Store page, Source page, and Receiver page. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_5"></a>
Queuing Enhancements for 6.5&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_5">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionalty is retained.</dd></dl>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_5"></a>
Dynamic Router Enhancements for 6.5&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_5">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>7694 </td><td>You can now use the LBT-SMX transport to send ingress message traffic to a UM Router (DRO). The UM Router no longer ignores topic resolution traffic from a LBT-SMX source. You still cannot, however, use LBT-SMX to send egress traffic from a UM Router. </td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="ultramessagingsystemmonitoringoption"></a>
Ultra Messaging System Monitoring Option&nbsp;&nbsp;<small><a href="#ultramessagingsystemmonitoringoption">&lt;-</a></small></h2>
<p>In conjunction with the Ultra Messaging 6.5 release, Informatica has introduced the Ultra Messaging System Monitor Option (UMSM). Administrators can use UMSM to monitor components of an Ultra Messaging deployment. The UMSM dashboard displays the status of components, such as UM hosts, transports, topic resolution domains, and application instances, as well as UM statistics.</p>
<p>UMSM monitors the messaging traffic of Ultra Messaging versions 5.0 and later.</p>
<p>With the Ultra Messaging 6.5 release, Ultra Messaging Automatic Monitoring sends the following aggregated receiver statistics and subscription information to UMSM:</p>
<ul>
<li>
Aggregate number of topic-level sequence numbers received out of order. </li>
<li>
Aggregate number of topic-level sequence numbers declared unrecoverably lost by the delivery of either an <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a88920e0a4188081f9a14fc8f76c18578">LBM_MSG_UNRECOVERABLE_LOSS</a> or <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a6629139aaf902976c8df9de3f37d10db">LBM_MSG_UNRECOVERABLE_LOSS_BURST</a> event to the receiving application. </li>
<li>
Receiver callback service time statistics. Ultra Messaging tracks the mean time, maximum time, and minimum time to service receiver callbacks. </li>
</ul>
<p>As the collection of aggregated statistics can increase the latency of message delivery, Ultra Messaging does not collect them by default. You can enable UMSM to collect the aggregated message loss statistics with the UM configuration options, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpautomaticmonitoring.html#monitorintervalreceiver">monitor_interval (receiver)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpautomaticmonitoring.html#monitorintervalwildcardreceiver">monitor_interval (wildcard_receiver)</a>. You can access the aggregated receiver statistics with UMSM. The lbmmon API does not provide access to the aggregated receiver statistics.</p>
<p>The Ultra Messaging 6.5 release contains a third new UM configuration option, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#receivercallbackservicetimeenabledcontext">receiver_callback_service_time_enabled (context)</a>, which enables UMSM to maintain receiver callback service times. The lbmmon API does not provide access to the receiver callback service times.</p>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_5"></a>
Fixed Limitations for 6.5&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_5">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_5"></a>
Streaming Fixed Limitations for 6.5&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_5">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_5"></a>
Persistence Fixed Limitations for 6.5&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_5">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_5"></a>
Queuing Fixed Limitations for 6.5&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_5">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionalty is retained.</dd></dl>
<p>The following bug fixes apply to the UMQ product.</p>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_5"></a>
Dynamic Router Fixed Limitations for 6.5&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_5">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_1"></a>
UM Version 6.1&nbsp;&nbsp;<small><a href="#umversion6_1">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.1 is the introduction of the LBT-SMX transport type. See <a class="el" href="index.html#newtransportlbtsmx">New Transport LBT-SMX</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>UM version 6.1 does not interoperate reliably with versions of UM prior to 6.0 It was not until UM version 6.7 and beyond that interoperability was introduced between the 6.x version line and the 5.x version line.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_1"></a>
Enhancements for 6.1&nbsp;&nbsp;<small><a href="#enhancementsfor6_1">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_1"></a>
Streaming Enhancements for 6.1&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td></td><td>Added LBT-SMX </td></tr>
<tr>
<td>7529 </td><td><p class="starttd">Added the polling of context events when using <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ad9416b1f0b474b5d4c4f39bb3c4bda77">lbm_context_process_events()</a> with <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#operationalmodecontext">operational_mode (context)</a> set to <code>sequential</code>. You can now set the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#ad9416b1f0b474b5d4c4f39bb3c4bda77">lbm_context_process_events()</a> parameter '<code>msec</code>' to 0 (zero), which results in the UM context making one pass to process timers, sockets and then timers again before returning the thread to the application without any delay. (Previously, if you set the msec parameter to 10 and the UM context took 5 msecs to process all events, it would wait another 5 msecs before returning the thread to the application.)</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7664 </td><td><p class="starttd">Ultra Messaging no longer sends a Topic Management Record (TMR) when an application deletes a receiver in a standard way with, for example <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a8d5e8713f5ae776330b23a1e371f934d">lbm_rcv_delete()</a>, when Dynamic Routers do not exist in the Topic Resolution domain. TMRs specifically inform a Dynamic Router that a receiver for a particular topic has been shutdown. (Without the presence of Dynamic Routers, TMRs become unnecessary network traffic.)</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7551 </td><td><p class="starttd">Added SIGTERM to the list of signals that initiate clean shutdown of all Ultra Messaging daemons.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>4785 </td><td><p class="starttd">Added the ability in the Java and .NET APIs to restrict receiver objects to a single LBMReceiverCallback with a new API: <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/javaapi.tag:../../JavaAPI/" href="../../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMReceiverAttributes.html#a86cd8541b3b013ed7c05908bdf56c3d8">com::latencybusters::lbm::LBMReceiverAttributes::enableSingleReceiverCallback()</a>. You can reduce latencies and increase throughput by using a single callback which removes the need for any synchronization of multiple callbacks within UM during message delivery.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7752 </td><td>The Java API now supports Java version 1.7. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="newtransportlbtsmx"></a>
New Transport LBT-SMX&nbsp;&nbsp;<small><a href="#newtransportlbtsmx">&lt;-</a></small></h3>
<p>The LBT-SMX (shared memory acceleration) transport is an Interprocess Communication (IPC) transport you can use for the lowest latency message streaming. LBT-SMX is faster, though more-restrictive than the LBT-IPC transport. Like LBT-IPC, sources can publish topic messages to a shared memory area from which receivers can read topic messages. Unlike LBT-IPC, the native APIs for the LBT-SMX transport are not thread safe and do not support all UM features such as message batching or fragmentation.</p>
<p>You can use either the native LBT-SMX API calls, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a8a56e2f08924d25caea26d205cf730c5">lbm_src_buff_acquire()</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#a4f857abe9088918c618cdd248ccf7d83">lbm_src_buffs_complete()</a> to send over LBT-SMX or you can use lbm_src_send_*() API calls. The existing send APIs are thread safe with SMX, but they incur a synchronization overhead and thus are slower than the native LBT-SMX API calls.</p>
<p>LBT-SMX operates on the following Ultra Messaging 64-bit packages: </p><ul>
<li>
SunOS-5.10-amd64 </li>
<li>
Linux-glibc-2.5-x86_64 </li>
<li>
Win2k-x86_64 </li>
</ul>
<p>The example applications lbmlatping.* and lbmlatpong.* show how to use the native LBT-SMX API calls. All three APIs (C API, Java API, and .NET API) have identically named example applications. Other example applications can use the LBT-SMX transport with the use of a UM configuration file containing source transport lbtsmx. You cannot use LBT-SMX with example applications for features not supported by LBT-SMX, such as lbmreq.*, lbmresp.*, lbmrcvq.* or lbmwrcvq.*.</p>
<p>The LBT-SMX configuration options are similar to the LBT-IPC transport options. See Transport <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransportlbtsmxoperation.html">Transport LBT-SMX Operation Options</a>.</p>
<p>You can use Automatic Monitoring, UM API retrieve/reset calls, and LBMMON APIs to access LBT-SMX source and receiver transport statistics. To increase performance, the LBT-SMX transport does not collect statistics by default. Set the UM configuration option transportlbtsmxmessagestatisticsenabledcontext to 1 to enable the collection of transport statistics.</p>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_1"></a>
Persistence Enhancements for 6.1&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_1"></a>
Queuing Enhancements for 6.1&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_1">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionalty is retained.</dd></dl>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_1"></a>
Dynamic Router Enhancements for 6.1&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_1">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_1"></a>
Fixed Limitations for 6.1&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_1">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_1"></a>
Streaming Fixed Limitations for 6.1&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>7656 </td><td>Fixed a problem with <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/api.tag:../../API/" href="../../API/lbm_8h.html#aab029e3f210b40f3fded64fec2a27a02">lbm_set_umm_info()</a> that caused it to always return 0 (success). The function now returns -1 on a parsing error of a returned UMM configuration file, UMM Daemon login error or a communications error with the UMM Daemon. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_1"></a>
Persistence Fixed Limitations for 6.1&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>7606 </td><td><p class="starttd">When a receiver tries to register with a store using a RegID in use by another receiver, the application error log message now includes the RegID: <br />
<code>UME registration error: error in UME registration, RegID 1508542809 is in use by a different receiver at store 0</code> <br />
Previously the message always displayed RegID 0 and no store number.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7604 7666 </td><td><p class="starttd">When a source tries to register with a store using a RegID in use by another source, the application error log message now includes the RegID, store number and the store's IP address and port: <br />
`Error registering source with UME store: error in UME registration, RegID 2323214065 is in use by a different source at store 1 192.168.101.130.21112` <br />
Previously the message always displayed RegID 0 and no store information.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7543 </td><td><p class="starttd">Corrected a problem with UMP stores that resulted in stability acknowledgements sent from a persistent store to the source during a store proxy source election contained invalid topic and transport indexes. As a result, the source discarded the stability acknowledgements.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7658 </td><td><p class="starttd">The umestored Web Monitor has been changed to correctly display the Request Receive Rate, Service Rate and Drop Rate. Previously the rates only showed activity for the last second instead of a true activity per second rate. As a result the rates often displayed 0 (zero). A link has been added to the Persistent Store Page to reset the rate calculation. The rates can be reset on a per store basis.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7262 </td><td>When a store receives a retransmission request from an unknown source, the error log message now includes the IP address and port number of the unknown source: <br />
<code>Core-5688-696: received retransmit request for unknown source 192.168. 101.112:45512</code> </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_1"></a>
Queuing Fixed Limitations for 6.1&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_1">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionalty is retained.</dd></dl>
<p>The following bug fixes apply to the UMQ product.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th>Description </th></tr>
<tr>
<td>7545 </td><td>Corrected an issue that prevented a UMQ receiver for a dead letter topic from registering with a queue if any queue instance did not have a record of the creation of the dead letter topic. </td></tr>
</table>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_1"></a>
Dynamic Router Fixed Limitations for 6.1&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_1">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="umversion6_0"></a>
UM Version 6.0&nbsp;&nbsp;<small><a href="#umversion6_0">&lt;-</a></small></h1>
<p>The most-significant update to UM version 6.0 is the introduction of the Dynamic Routing Option (DRO). The UM Router component fully replaces the "Gateway" component, which is discontinued as of UM 6.0. See the <a href="../../Gateway/index.html">Dynamic Routing Guide</a> for full information.</p>
<dl class="section warning"><dt>Warning</dt><dd>UM version 6.0 does not interoperate reliably with any previous version of UM. It was not until UM version 6.7 and beyond that interoperability was introduced between the 6.x version line and the 5.x version line.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="enhancementsfor6_0"></a>
Enhancements for 6.0&nbsp;&nbsp;<small><a href="#enhancementsfor6_0">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingenhancementsfor6_0"></a>
Streaming Enhancements for 6.0&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_0">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli">The receiver configuration options <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeprecated.html#retransmitrequestgenerationintervalreceiver">retransmit_request_generation_interval (receiver)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeprecated.html#otrrequestdurationreceiver">otr_request_duration (receiver)</a> have been deprecated. Late join and OTR now track a total duration for each message that begins when a receiver sends the first retransmission request for the message. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#retransmitrequestmessagetimeoutreceiver">retransmit_request_message_timeout (receiver)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Linux platforms now automatically produce a back trace listing to the log file upon encountering a fatal assertion.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Added the following configuration options to help control receiver start-up traffic: </p><ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#latejoininforequestintervalreceiver">late_join_info_request_interval (receiver)</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#latejoininforequestmaximumreceiver">late_join_info_request_maximum (receiver)</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#transporttopicsequencenumberinforequestintervalreceiver">transport_topic_sequence_number_info_request_interval (receiver)</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#transporttopicsequencenumberinforequestmaximumreceiver">transport_topic_sequence_number_info_request_maximum (receiver)</a> </li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli">Network Address Translation with the Unicast Resolver Daemon (lbmrd) using LBT-RU with Session IDs is now enabled. Previously this combination only worked with Session IDs disabled.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The context setting <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeprecated.html#networkcompatibilitymodecontext">network_compatibility_mode (context)</a> has been disabled. Specifying it does not cause an error, but it will be ignored.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Added TCP Session IDs to prevent the use of outdated data in the Topic Resolution Cache. You enable session ids for TCP with the configuration option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpusesessionidsource">transport_tcp_use_session_id (source)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Removed a fatal assert that was produced if a message was delivered from a TSNI request.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The Off-Transport Recovery (OTR) feature has been updated to include a new option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpofftransportrecovery.html#otrmessagecachingthresholdreceiver">otr_message_caching_threshold (receiver)</a> and to use option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#retransmitmessagecachingproximityreceiver">retransmit_message_caching_proximity (receiver)</a>, both of which provide ways to control receiver buffer growth and otherwise premature unrecoverable loss declarations. Also, option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeprecated.html#otrrequestdurationreceiver">otr_request_duration (receiver)</a> is deprecated and replaced with the new option otrrequestmessagetimeoutreceiver.</p>
<p class="endli"></p>
</li>
<li>
The Late Join option retransmit_request_generation_interval is deprecated and replaced with new option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#retransmitrequestmessagetimeoutreceiver">retransmit_request_message_timeout (receiver)</a>. The new option defines an RX give-up interval on a per-message basis. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceenhancementsfor6_0"></a>
Persistence Enhancements for 6.0&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_0">&lt;-</a></small></h3>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
<p class="startli">Proactive Retransmissions - This feature address two types of loss: </p><ul>
<li>
Loss of message data between the source and a store. </li>
<li>
Loss of stability acknowledgments (ACK) between the store and the source. </li>
</ul>
<p>See Proactive Retransmissions in Chapter 8 of the UM Guide for Persistence. This feature also resolves the Known Issue: "<em>UMP stores sometimes fail to send message stability acknowledgements to sources for messages sent while the store was being reported unresponsive by the source.</em>"</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The persistence registration process has been improved for greater reliability, efficiency and to better inform receivers of store registration changes. Persistence now sends store registration information over the transport and not via Topic Resolution advertisements. Several new configuration options have been added to tune registration latency/bandwidth usage.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Added the following configuration options to help control receiver start-up traffic. </p><ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umesrirequestintervalreceiver">ume_sri_request_interval (receiver)</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umesrirequestmaximumreceiver">ume_sri_request_maximum (receiver)</a> </li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli">The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umestoresource">ume_store (source)</a> configuration option now accepts an optional DomainID parameter.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Made context name resolution more efficient. Several new UM configuration options have been added to tune context name resolution. Context name resolution now has the potential to quiesce over time. New log messages have been added to facilitate duplicate context name detection. For more information, see: </p><ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/topicresolutiondescription.html#storecontextnameresolution">Store (context) Name Resolution</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/persistencearchitecture.html#identifyingpersistentstores">Identifying Persistent Stores</a> </li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli">The store option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgretransmissionrequestforwarding">retransmission-request-forwarding</a> is now interpreted differently. If enabled (value = 1), the store forwards retransmission requests to sources (if and only if it does not have the data). If disabled (value = 0), the store never forwards requests to sources.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Enhanced the proxy source election process in the following ways: </p><ul>
<li>
Proxy source elections can now occur among stores located in different topic resolution domains when using the UM Router (DRO). </li>
<li>
The election now occurs as part of the registration process instead of over the topic resolution channel, so it is more bandwidth efficient. </li>
<li>
The election process no longer restarts in the event of a tie, so it will always complete in a deterministic amount of time. </li>
</ul>
<p>This update also resolves the Known Issue: "<em>Persistence proxy source elections can only occur among stores in the same topic resolution domain connected directly via peer links.</em>"</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The persistent store no longer logs Beginning of Session (BOS) and End of Session (EOS) events.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">When a store restarts, the store now renames and stores state and cache files that are thought to be corrupted instead of deleting them. These files will be renamed from '<code>&lt;regid&gt;-&lt;state/cache&gt;</code>' to <code>&lt;regid&gt;-&lt;state/cache&gt;.&lt;pid&gt;.&lt;month_day_year&gt;</code>. Persistent stores the files in the same cache/state directories as specified in the store's configuration file.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">A rare error case that occurred when handling a keepalive at the persistent store now logs a warning instead of fatal assert.</p>
<p class="endli"></p>
</li>
<li>
Changed the Persistent Store (umestored) to ignore UM Spectrum configuration options which results in the delivery of all messages to the store without any filtering. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/umobjects.html#spectrum">Spectrum</a>. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingenhancementsfor6_0"></a>
Queuing Enhancements for 6.0&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_0">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionalty is retained.</dd></dl>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
<p class="startli">Added support in Ultra Messaging JMS for store names in the JMSConfig.xml so that UM JMS can be configured to work with the UM Router (DRO) for UMS/UMP functionality.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Wildcard topics can now be created programmatically in Ultra Messaging JMS. Use '<code>&lt;FactoryAttributes&gt;</code>' in either a UM Configuration File or the JMSConfig.xml file support this new feature. </p><ul>
<li>
wildcards_enabled </li>
<li>
wildcard_type </li>
<li>
wildcard_enterprise_mode - Provides compatibility with other JMS vendors. If the topic name contains "*" or "&gt;", UM JMS creates a PCRE wildcard topic pattern. For example, the topic '<code>PRICE.STOCK.*.IBM</code>' creates a wildcard receiver with a topic pattern of '<code>^PRICE\.STOCK\.[^/]+\.IBM$</code>'. </li>
<li>
wildcard_um_values - If the topic name contains any of the characters: <br />
<code>[ \ ^ $ . | ? + ( ) { } *</code> <br />
UM JMS creates a PCRE wildcard topic pattern. </li>
<li>
The option '<code>wildcard_enterprise_wildcard_delimiter</code>' supports any character as a delimiter except: <br />
<code>[ \ ^ $ . | ? + ( ) { } *</code> </li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli">Changed the "wait for source registration" Ultra Messaging JMS functionality to apply to send calls rather than source creation. The two relevant config options (<code>wait_for_source_registration</code> and <code>SOURCE_REGISTRATION_TIMEOUT</code>) are no longer considered during source creation but instead cause a producer to (optionally) have a send call block until source registration occurs. This change removes the need for the producer to explicitly handle the "not
registered" exception that would otherwise be thrown and need to be handled by the application. The existing Ultra Messaging JMS configuration option '<code>SOURCE_CREATION_DELAY</code>' has not been changed.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The UM JMS source code examples have been moved out of the '<code>&lt;platform&gt;/jmsclient/bin</code>' directory and up to the '<code>&lt;platform&gt;/example</code>' directory.</p>
<p class="endli"></p>
</li>
<li>
Changed the store names in the JMS config.xml file from uJMSStore1, uJMSStore2 and uJMSStore3 to JMSStore1, JMSStore2 and JMSStore3. Also renamed the Queue from uJMSQueue to JMSQueue. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterenhancementsfor6_0"></a>
Dynamic Router Enhancements for 6.0&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_0">&lt;-</a></small></h3>
<p>UM 6.0 is the first version which offers the Dynamic Routing Option (DRO). See the <a href="../../Gateway/index.html">Dynamic Routing Guide</a> for full information.</p>
<p><br />
 </p>
<h2><a class="anchor" id="fixedlimitationsfor6_0"></a>
Fixed Limitations for 6.0&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_0">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingfixedlimitationsfor6_0"></a>
Streaming Fixed Limitations for 6.0&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_0">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli">Corrected a problem with UM rate controls that resulted in rate limits being applied unequally among more than one transport session. Limits are now applied equally to all active transport sessions.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Changed the implementation of the default value for <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpmulticastimmediatemessagingoperation.html#mimsqnwindowincrementcontext">mim_sqn_window_increment (context)</a> to match the documented value of 8192, which is the recommended default.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Corrected a problem with plain text (non-XML) UM configuration files greater than 1024 bytes that when loaded via a URL (http or FTP) would result in line malformed errors. This fix resolves the Known Issue: "<em>Retrieving plain text (not XML) configurations files via an http or FTP request is limited to configuration files of 1K in size...</em>"</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Fixed a problem on Microsoft Windows where an interface could be incorrectly chosen internally as the default interface even though its operational status was not "up".</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Corrected an invalid single-byte memory write that could occur if passing in a named interface setting into any of the *_interface configuration options.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Corrected calls to socket '<code>recv/recvfrom</code>' that were not correctly handling EWOULDBLOCK/EAGAIN errors. This has been resolved.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The following Known Issue was resolved in UM 5.3.1 but mistakenly omitted from the list of Bug Fixes: "&lt;i&gt;The .NET API does not support message selectors with Unicode symbols
and causes receiver creation to fail.&lt;/i&gt;"</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Fixed a problem that could cause a crash while binding TCP ports.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Fixed a '<code>[msg==NULL]</code>' fatal assert that could occur if an application received a response to a Late Join Information request that contained a message, and not Late Join Information.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Corrected an issue with an event queue that could contain events, but never be dispatched. This issue could occur only on the AIX and NonStop platforms.</p>
<p class="endli"></p>
</li>
<li>
Corrected a problem with receivers that produced Unrecoverable Loss if UM delivered a TSNI to the receiver during Late Join recovery. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="persistencefixedlimitationsfor6_0"></a>
Persistence Fixed Limitations for 6.0&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_0">&lt;-</a></small></h3>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<ul>
<li>
<p class="startli">Fixed a problem that logs a keep alive sent from a store during UMP source de-registration as an error. This event no longer logs an error in the store log file.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Fixed a condition that could cause sources with high <code>retransmit_request_size_threshold/limit</code> settings to experience high CPU usage when a store daemon (umestored) was restarted.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Fixed a problem that could cause a crash if a source tried to de-register from a store with which it had never registered or whose context name had not been resolved.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Fixed the incorrect retention of the receiver-specified <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umeactivitytimeoutsource">ume_activity_timeout (source)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umestatelifetimereceiver">ume_state_lifetime (receiver)</a> values across store restarts. The receiver-activity-timeout configured in the stores' XML configuration file was used instead and the receiver-state-lifetime was ignored. Stores now correctly save receivers' configured activity timeout and state lifetime and use the saved values upon store restart.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Resolved the Known Issue: "<em>The UMP store daemon, umestored, stops persisting messages to disk if the store has a loss condition which is not resolved prior to an EOS event...</em>"</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Corrected a problem that caused segfaults during long running store recoveries by delaying the store's check of sources if the store has not yet finished initializing.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Fixed an issue that occurred if the store index was uninitialized when a de-registration success event was delivered.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Fixed a bug that could prevent a receiver from successfully deregistering from a store.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Corrected a problem that prevented receivers from declaring completed deregistration although the receiver successfully deregistered from all the stores with which it was registered. Now a receiver declares completed deregistration as soon as it receives deregistration success from all the stores with which it was registered.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Corrected a number of problems with UMP Proxy Source Elections that resulted in numerous failed assertion warnings and the continuous creation and duplication of proxy sources.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Corrected a problem with source re-registration to a store that caused the store to incorrectly log warning messages such as, "&lt;i&gt;Core-5688-1881:
handle events returned error 4&lt;/i&gt;" and "&lt;i&gt;CoreApi-5480-28: could not insert
rcvdc_loss_rec ASL map.&lt;/i&gt;"</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Corrected a problem with the persistent store operating in RPP mode that caused a fatal assert if the store restarted with a prematurely ending cache file.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Corrected a problem that caused a store to perpetually send TSNI requests to a source at the configured <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#retransmitrequestintervalreceiver">retransmit_request_interval (receiver)</a>, even after live data was seen on the transport.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Fixed a problem with sending large messages using message properties that could cause a crash due to message reclaim source events.</p>
<p class="endli"></p>
</li>
<li>
Corrected a problem with the umestored daemon that resulted in the premature deletion of source state information if umestored was restarted. If the source had an active receiver before umestored was shut down, the configured <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgsourcestatelifetime">source-state-lifetime</a> was not restored, so the default lifetime of 0 seconds and default <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umecfgsourceactivitytimeout">source-activity-timeout</a> of 30 seconds was enforced. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="queuingfixedlimitationsfor6_0"></a>
Queuing Fixed Limitations for 6.0&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_0">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionalty is retained.</dd></dl>
<p>The following bug fixes apply to the UMQ product.</p>
<ul>
<li>
<p class="startli">Corrected a problem with UM JMS that caused a JMSExcpetion when using lower case variants of the '<code>ConnectionFactory</code>' attributes <code>receiver_creation_delay</code>, '<code>source_creation_delay</code>', and <code>source_registration_timeout</code> in a config.xml file. You can now enter these ConnectionFactory attributes in lower case.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Resolved a problem in UM JMS that caused an exception and a loss of messages from a queue when restarting a receiver. Messages unacknowledged by a receiver that shuts down are now put back onto the queue. These messages are available for resending to the receiver when it restarts.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Fixed a problem with the UMQ daemon (umestored) that could lead to a crash if you kept queue browsing support enabled (default) and multiple queue instances are rapidly killed and restarted in sequence. The crash would only potentially occur if log messages appeared in the umestored log file indicating that a message "was already present in
SINC msg list".</p>
<p class="endli"></p>
</li>
<li>
Fixed a rare bug that could lead to a crash in the UMQ daemon (umestored) when configured to use a disk and many sending threads, which is not the default. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="dynamicrouterfixedlimitationsfor6_0"></a>
Dynamic Router Fixed Limitations for 6.0&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_0">&lt;-</a></small></h3>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="deprecationsfor60"></a>
Deprecations for 6.0&nbsp;&nbsp;<small><a href="#deprecationsfor60">&lt;-</a></small></h2>
<p><br />
 </p>
<h3><a class="anchor" id="streamingdeprecationsfor60"></a>
Streaming Deprecations for 6.0&nbsp;&nbsp;<small><a href="#streamingdeprecationsfor60">&lt;-</a></small></h3>
<ul>
<li>
<p class="startli">The receiver configuration options <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeprecated.html#retransmitrequestgenerationintervalreceiver">retransmit_request_generation_interval (receiver)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeprecated.html#otrrequestdurationreceiver">otr_request_duration (receiver)</a> have been deprecated. Late join and OTR now track a total duration for each message that begins when a receiver sends the first retransmission request for the message. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#retransmitrequestmessagetimeoutreceiver">retransmit_request_message_timeout (receiver)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeprecated.html#otrrequestdurationreceiver">otr_request_duration (receiver)</a> is deprecated and replaced with the new option otrrequestmessagetimeoutreceiver.</p>
<p class="endli"></p>
</li>
<li>
The Late Join option retransmit_request_generation_interval is deprecated and replaced with new option <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grplatejoin.html#retransmitrequestmessagetimeoutreceiver">retransmit_request_message_timeout (receiver)</a>. The new option defines an RX give-up interval on a per-message basis. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="errata"></a>
Errata&nbsp;&nbsp;<small><a href="#errata">&lt;-</a></small></h2>
<p>The following important corrections and improvements made to the documentation after it was released.</p>
<ul>
<li>
<p class="startli">Bug 9940/10131 was reported as being fixed in UM version 6.10.1. This was incorrect. The bug exists in all UM versions from 6.0 to 6.12.</p>
<p>If a persistent publisher send a message containing Message Properties, and the Proactive Retransmission feature is used to record the message on the Store, a receiver which recovers the message from the Store will crash with a fatal assert: <br />
<code>FATAL: failed assertion [prop_offset &gt;= 0]</code> <br />
If message properties are used on persisted sources, the user should disable Proactive Retransmissions by setting the configuration option: <br />
<code>source ume_message_stability_timeout 0</code> <br />
See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpultramessagingpersistence.html#umemessagestabilitytimeoutsource">ume_message_stability_timeout (source)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Significant updates to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpdeliverycontrol.html#deliverycontrolmaximumtotalmapentriescontext">delivery_control_maximum_total_map_entries (context)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Significant updates to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpofftransportrecovery.html#otrmessagecachingthresholdreceiver">otr_message_caching_threshold (receiver)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Significant updates to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/config.tag:../../Config/" href="../../Config/grpofftransportrecovery.html#otrrequestinitialdelayreceiver">otr_request_initial_delay (receiver)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Added description of order map to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/architecture.html#deliverycontroller">Delivery Controller</a>.</p>
<p class="endli"></p>
</li>
<li>
Added new section <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/ChangeLog/design.tag:../../Design/" href="../../Design/advancedoptimizations.html#transportdemultiplexertablesize">Transport Demultiplexer Table Size</a>. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
