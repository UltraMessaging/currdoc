<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Release Notes: UM Version 6.13</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Release Notes
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('umversion6_13.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">UM Version 6.13 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The most significant updates to UM version 6.13 are enhanced TCP-based Topic Resolution (redundancy and scalability), and Persistence performance improvements.</p>
<dl class="section attention"><dt>Attention</dt><dd>There are some special upgrade instructions for UM versions 6.13 and beyond that will affect a small percentage of users upgrading from pre-6.13 versions of UM. See <a class="el" href="umversion6_13.html#specialupgradeinstructionsfor6_13">Special Upgrade Instructions for 6.13</a>. For general upgrade instructions, see <a class="el" href="upgradeprocedure.html">Upgrade Procedure</a>. You are also advised to inspect the full list of <a class="el" href="deprecations.html">Deprecations</a>.</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="enhancementsfor6_13"></a>
Enhancements for 6.13&nbsp;&nbsp;<small><a href="#enhancementsfor6_13">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="streamingenhancementsfor6_13"></a>
Streaming Enhancements for 6.13&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_13">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli"><b>Redundant SRS</b>. The Stateful Resolver Service (SRS) can now be deployed redundantly. UM components can be configured for multiple instances of SRS. If one SRS goes down or is cut off from the network, the other SRSes will continue to provide Topic Resolution service. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/topicresolutiondescription.html#tcpbasedtrandfaulttolerance">TCP-Based TR and Fault Tolerance</a> for details.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>SRS traffic reduction</b>. The SRS now supports tracking of topics that each context is interested in (has receivers for). This allows for further reduction of TR traffic by filtering source advertisements based on topic interest. Note that this can interfere with the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/config.tag:../Config/" href="../Config/grpmajoroptions.html#resolversourcenotificationfunctioncontext">resolver_source_notification_function (context)</a> and resolver_event_function features. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/topicresolutiondescription.html#tcpbasedtrinterest">TCP-Based TR Interest</a> for more information.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Configuration error handling</b>. A change has been made to how configuration file errors are handled - they can now be treated as "warnings" instead of "errors". See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/config.tag:../Config/" href="../Config/index.html#configurationerrorhandling">Configuration Error Handling</a> for details.</p>
<p class="endli"></p>
</li>
<li>
<b>Windows Services</b> Most of the UM daemons running as Windows Services can now have a file configured to set desired environment variables for the Service process. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/operations.tag:../Operations/" href="../Operations/startupshutdownprocedures.html#configurethewindowsservice">Configure the Windows Service</a> (the "-E" option). </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="persistenceenhancementsfor6_13"></a>
Persistence Enhancements for 6.13&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_13">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
<p class="startli"><b>Performance improvements</b> Persistence throughput is increased of both storage of new messages and recovery of stored messages.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Improved recovery rates</b>. Fixing <a class="el" href="umversion6_13.html#bug10877">bug 10877</a> allowed a change to the default value for Store option <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/optionsforastoresumeattributeselement.html#umecfgrepositorydiskmaxreadasynccbs">repository-disk-max-read-async-cbs</a> from 16 to 10,000. This improves receiver recovery rates. See <a class="el" href="umversion6_13.html#specialupgradeinstructionsfor6_13">Special Upgrade Instructions for 6.13</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>If your Store configuration specifies a value for repository-disk-max-read-async-cbs, you might see your recovery performance <em>decrease</em>. See <a class="el" href="umversion6_13.html#bug10877">bug 10877</a>.</dd></dl>
</li>
<li>
<p class="startli"><b>Thread affinity</b>. The UM Store Daemon can now set thread affinity to "pin" threads to one or more desired CPU cores. This can provide a significant improvement in throughput. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/storethreadaffinity.html">Store Thread Affinity</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Marking messages in Store</b>. Selected messages in the Persistent Store can now be marked as invalid, to prevent them from being delivered to a recovering receiver. This can be useful if a misbehaving publisher sends a "poison" message that causes receivers to crash; having that message in the Store's repository means that restarting the failed receiver will just cause it to crash again when the message is recovered. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/storedaemonstatistics.html#requestmarkstoredmessageinvalid">Request: Mark Stored Message Invalid</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>If misused, this feature allows a user to interfere with message delivery. By default, this feature is disabled. However, especially if you have enabled <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/configurationreferenceforumestored.html#umeelementremoteconfigchangesrequest">UMP Element "&lt;remote-config-changes-request&gt;"</a>, Informatica recommends <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/umfeatures.html#securingdaemoncontrolrequests">Securing Daemon Control Requests</a>.</dd></dl>
</li>
<li>
<p class="startli"><b>Forced de-registration</b>. A failed receiver can now be de-registered from a Persistent Store. This will delete the state information for that receiver. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/storedaemonstatistics.html#requestderegisterreceiver">Request: Deregister Receiver</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>If misused, this feature allows a user to interfere with message delivery. By default, this feature is disabled. However, especially if you have enabled <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/configurationreferenceforumestored.html#umeelementremoteconfigchangesrequest">UMP Element "&lt;remote-config-changes-request&gt;"</a>, Informatica recommends <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/umfeatures.html#securingdaemoncontrolrequests">Securing Daemon Control Requests</a>.</dd></dl>
</li>
<li>
<b>Message extraction from Store</b>. A Persistent Store's state and cache files can now be statically analyzed, and stored messages can be extracted. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/storerepositoryprofilingsrp.html">Store Repository Profiling (SRP)</a>. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="queuingenhancementsfor6_13"></a>
Queuing Enhancements for 6.13&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_13">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="dynamicrouterenhancementsfor6_13"></a>
Dynamic Router Enhancements for 6.13&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_13">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="fixedlimitationsfor6_13"></a>
Fixed Problems and Limitations for 6.13&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_13">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="streamingfixedlimitationsfor6_13"></a>
Streaming Fixed Problems and Limitations for 6.13&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_13">&lt;-</a></small></h2>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<p><a class="anchor" id="bug10726"></a></p><table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>10726</td><td><p class="starttd"><b>FIXED:</b> <em>When the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/config.tag:../Config/" href="../Config/grpmajoroptions.html#multiplereceivemaximumdatagramscontext">multiple_receive_maximum_datagrams (context)</a> option is used, undesired latencies can be introduced by multiple Topic Resolution or MIM datagrams being processed in a row.</em></p>
<p>The option now only affects LBT-RM and LBT-RU transports. It no longer applies to Topic Resolution or MIM.</p>
<p class="endtd"><a class="anchor" id="bug10794"></a></p>
</td></tr>
<tr>
<td>10794 </td><td><p class="starttd"><b>FIXED:</b> <em>In a race condition related to the closing of a socket, it is possible to get:</em> <br />
<code>Core-5455-1: epoll_ctl: EPOLL_CTL_DEL ...</code> <br />
<em>or:</em> <br />
<code>Core-5455-2: lbm_fd_cancel epoll_ctl: epoll_op: ...</code> <br />
<em>or:</em> <br />
<code>FATAL: failed assertion [epoll_err==0]</code> <br />
<em>(due to the unpredictable nature of race conditions, there may be other symptoms as well.)</em></p>
<p class="endtd"><a class="anchor" id="bug10685"></a></p>
</td></tr>
<tr>
<td>10685 </td><td><p class="starttd"><b>FIXED:</b> <em>In UM version 6.12, a dependency was added to UM for a dynamic library for "rsock", which is used for communication with the SRS. However, a static form of the rsock library was not provided.</em></p>
<p>As of UM version 6.13, the "rsock" code is now provided in static form. It is included in the "liblbm.a" library.</p>
<p class="endtd"><a class="anchor" id="bug10841"></a></p>
</td></tr>
<tr>
<td>10841 </td><td><p class="starttd"><b>FIXED:</b> <em>A hot failover receiver can crash with:</em> <br />
<code>FATAL: failed assertion [hfrcv-&gt;timer_id == -1]</code></p>
<p class="endtd"><a class="anchor" id="bug10822"></a></p>
</td></tr>
<tr>
<td>10822 </td><td><p class="starttd"><b>FIXED:</b> <em>The SRS Daemon Statistics "clients.DR.inactive.SIR.count" and "clients.DR.inactive.SIR.count" are incorrectly classified as errors and are included in the SRS_ERROR_STATS message type.</em></p>
<p>The counters "clients.DR.inactive.SIR.count" and "clients.DR.inactive.SIR.count" have been moved to be in the SRS_STATS message type. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/srsdaemonstatistics.html#messagetypesrsstats">Message Type: SRS_STATS</a>.</p>
<p class="endtd"><a class="anchor" id="bug10777"></a></p>
</td></tr>
<tr>
<td>10777 </td><td><p class="starttd"><b>FIXED:</b> <em>Inadvertent connection to TCP source from a UIM Request Client results in a memory leak.</em></p>
<p>Note that while the memory leak is fixed, it is still not valid for an application to send a UIM to a port that is used by a TCP source.</p>
<p class="endtd"><a class="anchor" id="bug10657"></a></p>
</td></tr>
<tr>
<td>10657 </td><td><p class="starttd"><b>FIXED:</b> <em>There are cases where the use of a <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/umfeatures.html#hotfailoverhf">Hot Failover (HF)</a> receiver will inhibit the delivery of unrecoverable <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/fundamentalconcepts.html#tailloss">Tail Loss</a> events.</em></p>
<p class="endtd"><a class="anchor" id="bug9917"></a></p>
</td></tr>
<tr>
<td>9917 </td><td><p class="starttd"><b>FIXED:</b> <em>When using LBT-RU, packet lengths are sometimes improperly set according to LBT-RM's maximum datagram size. This can result in errors of the form:</em> <br />
<code>Core-5688-449: LBMC datagram malformed</code></p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="persistencefixedlimitationsfor6_13"></a>
Persistence Fixed Problems and Limitations for 6.13&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_13">&lt;-</a></small></h2>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<p><a class="anchor" id="bug10877"></a></p><table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>10877 </td><td><p class="starttd"><b>FIXED:</b> <em>Large values for <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/optionsforastoresumeattributeselement.html#umecfgrepositorydiskmaxreadasynccbs">repository-disk-max-read-async-cbs</a> can lead to unresponsive Stores during large message recovery operations by receivers.</em></p>
<p>As of UM version 6.13, changes in the internal threading model of the Store avoids contention between receiver message recovery handshaking with the Store, allowing higher recovery performance without degrading responsiveness.</p>
<p>Associated with this fix is a change in the default value for <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/optionsforastoresumeattributeselement.html#umecfgrepositorydiskmaxreadasynccbs">repository-disk-max-read-async-cbs</a> from 16 to 10,000. Users are recommended not to explicitly set a value for repository-disk-max-read-async-cbs and instead simply allow it to default.</p>
<p>See <a class="el" href="umversion6_13.html#specialupgradeinstructionsfor6_13">Special Upgrade Instructions for 6.13</a>.</p>
<p class="endtd"><a class="anchor" id="bug10849"></a></p>
</td></tr>
<tr>
<td>10849 </td><td><p class="starttd"><b>FIXED:</b> <em>If using LBT-RU transport with Smart Sources, and two or more sources are mapped to the same transport session, deleting one of them leaves the other sources on the same session corrupted. This can result in segmentation faults or other bad behaviors.</em></p>
<p class="endtd"><a class="anchor" id="bug10818"></a></p>
</td></tr>
<tr>
<td>10818 </td><td><p class="starttd"><b>FIXED:</b> <em>If a persistent receiver configuration does not set values for <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umestatelifetimereceiver">ume_state_lifetime (receiver)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umeactivitytimeoutreceiver">ume_activity_timeout (receiver)</a> (both default to zero), the store's value of <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/optionsforastoresumeattributeselement.html#umecfgreceiverstatelifetime">receiver-state-lifetime</a> is not used to determine the receiver's state lifetime, as it should be. Instead, the value of <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/optionsforastoresumeattributeselement.html#umecfgreceiveractivitytimeout">receiver-activity-timeout</a> is used.</em></p>
<p class="endtd"><a class="anchor" id="bug10867"></a></p>
</td></tr>
<tr>
<td>10867 </td><td><p class="starttd"><b>FIXED:</b> <em>If a Source initially registers with a Store with Proxy Sources disabled, and then the source restarts and registers with Proxy Sources enabled, the Store fails with a segmentation fault.</em></p>
<p>This sequence no longer causes the Store to crash. However, changing the Proxy Source configuration is not permitted across a re-registration. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/operationalview.html#registrationlimitations">Registration Limitations</a>.</p>
<p class="endtd"><a class="anchor" id="bug10811"></a></p>
</td></tr>
<tr>
<td>10811 </td><td><p class="starttd"><b>FIXED:</b> <em>There are certain sequences of shutting down and restarting persistent receivers and stores that can result in multiple entries for the same source registration on the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/storewebmonitor.html">Store Web Monitor</a>. For this problem to happen, the receiver must use the deregistration API.</em></p>
<p class="endtd"><a class="anchor" id="bug10808"></a></p>
</td></tr>
<tr>
<td>10808 </td><td><p class="starttd"><b>FIXED:</b> <em>If a session ID value is chosen that exceeds 2**31, it is displayed on the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/storewebmonitor.html">Store Web Monitor</a> as a negative number.</em></p>
<p>Session IDs are now displayed as 32-bit <em>unsigned</em> numbers.</p>
<p class="endtd"><a class="anchor" id="bug10765"></a></p>
</td></tr>
<tr>
<td>10765 </td><td><p class="starttd"><b>FIXED:</b> <em>For all UM versions 6.11.* and 6.12.*, the Store logs the warning:</em> <br />
<code>Core-5688-28: WARNING: context config variable receive_thread_pool_size is deprecated</code></p>
<p>This warning is benign and can be ignored. As of UM version 6.13, this warning is removed altogether.</p>
<p class="endtd"><a class="anchor" id="bug10737"></a></p>
</td></tr>
<tr>
<td>10737 </td><td><p class="starttd"><b>FIXED:</b> <em>A registering RPP receiver can get old messages replayed after a store is shut down, the state and cache files deleted, and the store restarted.</em></p>
<p><em>This bug is caused by the cleanly restarted Store requesting Late Join message recovery from the Source, and the receiver registering with the Store during the late join process. The receiver is mistakenly told to start with the sequence number of the next message to be recovered by Late Join.</em></p>
<p>As of UM version 6.13, when a receiver registers with a store and that store has no state information for that receiver, the receiver will be told to start with the sequence number that the source's live messages are at.</p>
<p class="endtd"><a class="anchor" id="bug10733"></a></p>
</td></tr>
<tr>
<td>10733 </td><td><p class="starttd"><b>FIXED:</b> <em>When a persistent receiver restarts after a period of being down, and the Store's retention policy has led to messages no longer being available, the receiver's persistent delivery controller does not properly use the value of <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/config.tag:../Config/" href="../Config/grpdeliverycontrol.html#deliverycontrolmaximumburstlossreceiver">delivery_control_maximum_burst_loss (receiver)</a> when delivering loss events to the receiver callback. That is, even if the number of missing messages exceeds the configured value of delivery_control_maximum_burst_loss (receiver), UM still delivers a separate loss event for every missing sequence number.</em></p>
<p>The persistence delivery controller will now deliver a single "burst loss" event if the number of missing messages exceeds <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/config.tag:../Config/" href="../Config/grpdeliverycontrol.html#deliverycontrolmaximumburstlossreceiver">delivery_control_maximum_burst_loss (receiver)</a>.</p>
<p class="endtd"><a class="anchor" id="bug10661"></a></p>
</td></tr>
<tr>
<td>10661 </td><td><p class="starttd"><b>FIXED:</b> <em>When sending messages using a Smart Source in Java, if the messages contain message properties and are larger than the datagram maximum size (requiring UM fragmentation), a crash can result.</em></p>
<p class="endtd"><a class="anchor" id="bug10805"></a></p>
</td></tr>
<tr>
<td>10805 </td><td><p class="starttd"><b>FIXED:</b> <em>When a UM configuration file is supplied to the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/configurationreferenceforumestored.html#umeelementdaemonmonitor">UMP Element "&lt;daemon-monitor&gt;"</a>, source-scoped options are not applied</em>.</p>
<p class="endtd"><a class="anchor" id="bug10483"></a></p>
</td></tr>
<tr>
<td>10483 </td><td><p class="starttd"><b>FIXED:</b> <em>There are rare circumstances under which a persistent receiver becomes deaf to some number of new messages sent by a source due to the receiver's expected sequence number being higher than the source's live sequence numbers. This typically happens when the source is restarted after a period of store overload, or through product misuse.</em></p>
<p>The receiver registration now ensures that the low sequence number is never higher than the high, which allows all live messages sent by the source to be received.</p>
<p>See <a class="el" href="umversion6_13.html#persistentreceiverandduplicatemessages">Persistent Receiver and Duplicate Messages</a> for more information.</p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="queuingfixedlimitationsfor6_13"></a>
Queuing Fixed Problems and Limitations for 6.13&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_13">&lt;-</a></small></h2>
<p>The following bug fixes apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="dynamicrouterfixedlimitationsfor6_13"></a>
Dynamic Router Fixed Problems and Limitations for 6.13&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_13">&lt;-</a></small></h2>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<p><a class="anchor" id="bug10856"></a></p><table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>10856 </td><td><p class="starttd"><b>FIXED:</b> <em>A DRO can crash with:</em> <br />
<code>FATAL: failed assertion [len&lt;LBMC_MAX_TOPICNAME_LEN]</code> <br />
<em>if a source or receiver is created with a topic name of exactly 246 characters (not including a final null).</em></p>
<p class="endtd"><a class="anchor" id="bug10826"></a></p>
</td></tr>
<tr>
<td>10826 </td><td><p class="starttd"><b>FIXED:</b> <em>A DRO can crash with a segmentation fault when used with an SRS for TCP-based Topic Resolution. In a stack backtrace it happens in lbm_topic_resolve_process_tir().</em></p>
<p class="endtd"><a class="anchor" id="bug10588"></a></p>
</td></tr>
<tr>
<td>10588 </td><td><p class="starttd"><b>FIXED:</b> <em>When a UM configuration file is supplied to the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/gateway.tag:../Gateway/" href="../Gateway/xmlconfigurationreference.html#droelementdaemonmonitor">Router Element "&lt;daemon-monitor&gt;"</a>, source-scoped options are not applied</em>.</p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h1><a class="anchor" id="specialupgradeinstructionsfor6_13"></a>
Special Upgrade Instructions for 6.13&nbsp;&nbsp;<small><a href="#specialupgradeinstructionsfor6_13">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="addlbmrdinterface"></a>
Add LBMRD Interface&nbsp;&nbsp;<small><a href="#addlbmrdinterface">&lt;-</a></small></h2>
<p>Users must specify an interface to "lbmrd".</p>
<p>Due to fixing <a class="el" href="knownlimitations.html#bug10937">bug 10937</a>, some users of UM version 6.13 and beyond will need to slightly change their <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/topicresolutiondescription.html#unicasttopicresolution">Unicast Topic Resolution</a> daemon "lbmrd" usage. If you do not specify an interface for lbmrd, it will appear that lbmrd doesn't work, although no error messages will appear in its log file.</p>
<p>Starting with UM version 6.13, an interface specification must be provided, either via the command-line using the "-i" option (see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/manpagesforlbmrd.html#lbmrdmanpage">Lbmrd Man Page</a>), or via the "&lt;interface&gt;" XML configuration element (see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/lbmrdconfigurationfile.html#lbmrdelementinterface">LBMRD Element "&lt;interface&gt;"</a>). Note that an easy and flexible method for specifying the interface is using <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/config.tag:../Config/" href="../Config/generalconfigurationguidelines.html#specifyinginterfaces">CIDR notation</a>, such as "10.0.0.0/8". This matches any interface whose IP address starts with 10.</p>
<p><br />
 </p>
<h2><a class="anchor" id="persistenceanddro"></a>
Upgrade order: Persistence and DRO&nbsp;&nbsp;<small><a href="#persistenceanddro">&lt;-</a></small></h2>
<p>Applications running UM version 6.13 and beyond have a potential incompatibility with pre-6.13 DROs. Due to Known Limitation <a class="el" href="knownlimitations.html#bug10833">10833</a>, Informatica recommends upgrading DROs before Persistent Stores. This only applies to users who upgrade gradually; for users who upgrade everything at once, this issue does not apply. See <a class="el" href="upgradeprocedure.html#orderofupgrades">Order of Upgrades</a>.</p>
<p><br />
 </p>
<h2><a class="anchor" id="repositorydiskmaxreadasynccbs"></a>
repository-disk-max-read-async-cbs&nbsp;&nbsp;<small><a href="#repositorydiskmaxreadasynccbs">&lt;-</a></small></h2>
<p>As a result of improving the overall performance of the Store, there is a condition where receiver message recovery performance can be significantly degraded if <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/optionsforastoresumeattributeselement.html#umecfgrepositorydiskmaxreadasynccbs">repository-disk-max-read-async-cbs</a> is configured for a small number. In the past, this option <em>needed</em> to be small, due to <a class="el" href="umversion6_13.html#bug10877">bug 10877</a>. However, as of UM version 6.13, this restriction has been lifted, and the default value changed to a more appropriate value.</p>
<p>If your Store configuration includes <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/optionsforastoresumeattributeselement.html#umecfgrepositorydiskmaxreadasynccbs">repository-disk-max-read-async-cbs</a>, Informatica recommends removing the setting and allowing it to operate with its default value.</p>
<p><br />
 </p>
<h2><a class="anchor" id="srsdaemonstatisticschange"></a>
SRS Daemon Statistics Change&nbsp;&nbsp;<small><a href="#srsdaemonstatisticschange">&lt;-</a></small></h2>
<p>This is for users who have written monitoring applications that consume SRS Daemon Statistics. The counters "clients.DR.inactive.SIR.count" and "clients.DR.inactive.SIR.count" have been reclassified as non-errors, and moved to message type SRS_STATS. See <a class="el" href="umversion6_13.html#bug10822">bug 10822</a>.</p>
<p><br />
 </p>
<h2><a class="anchor" id="persistentreceiverandduplicatemessages"></a>
Persistent Receiver and Duplicate Messages&nbsp;&nbsp;<small><a href="#persistentreceiverandduplicatemessages">&lt;-</a></small></h2>
<p>Due to fixing <a class="el" href="umversion6_13.html#bug10483">bug 10483</a>, there is a certain use case in which there is an increased chance of a persistent receiver getting messages re-delivered that it had already processed (duplicate messages). It is important for persistent receivers to be able to detect duplicate messages after a registration; see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/designingpersistentreceivers.html#duplicatmessagedelivery">Duplicate Message Delivery</a>.</p>
<p>The use case affected by this bug fix is where a restarted sending application is able to re-send previously sent messages based on the starting sequence number. When a restarted source registers with the Stores, the Stores can tell the sender to start at an earlier sequence number than was previously sent. This can happen, for example, if the Stores experience tail loss right before the source restarts. It is unlikely, but possible.</p>
<p>In this use case, the sending application looks at the starting sequence number from the store and is able to reconstruct the previously-sent messages, starting at the given sequence number. This has the advantage that the Stores are correctly populated with the missing message data.</p>
<p>Starting with UM version 6.13, all receiving applications will have these messages delivered. This can be true even if a receiver has received those messages and acknowledged them to the Store. So with the use case where the sender is re-sending previously-sent messages, UM will deliver these messages again to the receiving application. However, note that if the application has successfully ACKed messages and UM is about to re-delivery them, the UM will log the message: <br />
 <code> Core-10483-1: WARNING: UMP receiver Low sequence number[0xx] is greater than the High sequence number [0xx] + 1. Setting to high + 1. Receiver will join the live stream and no messages will be recovered. </code></p>
<p>Note that the sequence numbers will match the previous transmissions. The application can keep track of the highest sequence number received for that source and skip any delivered messages equal to or less than that saved number. (For use cases where the sender always starts sending <em>new</em> messages after a restart, do not skip those messages.)</p>
<p>Also note that some applications use the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#abae94fa27ea855156f5aac9962d5435c">LBM_MSG_FLAG_UME_RETRANSMIT</a> flag bit in a message's <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/ChangeLog/api.tag:../API/" href="../API/structlbm__msg__t__stct.html#a9041a176f44dca95c3a5c6cc23d32d6c">lbm_msg_t_stct::flags</a> field to indicate the message is recovered from the store and therefore subject to possible duplication. However, in the case of a restarted source, the messages are "live" and therefore don't have the LBM_MSG_FLAG_UME_RETRANSMIT flag set.</p>
<p><br />
 </p>
<h2><a class="anchor" id="um612specialinstructions"></a>
UM 6.12 Special Instructions&nbsp;&nbsp;<small><a href="#um612specialinstructions">&lt;-</a></small></h2>
<p>If you are upgrading from a UM version prior to 6.12, you must also examine the <a class="el" href="umversion6_12.html#specialupgradeinstructionsfor6_12">Special Upgrade Instructions for 6.12</a>.</p>
<p><br />
<br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
