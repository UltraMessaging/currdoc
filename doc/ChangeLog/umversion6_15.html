<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Release Notes: UM Version 6.15</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Release Notes
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('umversion6_15.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">UM Version 6.15 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The most significant updates to UM version 6.15 are performance improvements for IPC and the persistent Store.</p>
<p>Also see <a class="el" href="deprecations.html">Deprecations</a>.</p>
<dl class="section attention"><dt>Attention</dt><dd>There are some special upgrade instructions for UM versions 6.15 and beyond that will affect some users upgrading from pre-6.15 versions of UM. See <a class="el" href="umversion6_15.html#specialupgradeinstructionsfor6_15">Special Upgrade Instructions for 6.15</a>. For general upgrade instructions, see <a class="el" href="upgradeprocedure.html">Upgrade Procedure</a>.</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="enhancementsfor6_15"></a>
Enhancements for 6.15&nbsp;&nbsp;<small><a href="#enhancementsfor6_15">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="streamingenhancementsfor6_15"></a>
Streaming Enhancements for 6.15&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_15">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli"><b>IPC Speedup.</b> The code for the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/transporttypes.html#transportlbtipc">Transport LBT-IPC</a> is better optimized, especially for multiple subscribers (fanout). No application or configuration changes are necessary to take advantage of this improvement.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>SRS Monitoring.</b> The <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/topicresolutiondescription.html#srsservice">SRS Service</a> (TCP-based topic resolver) now publishes its operational statistics to the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/operations.tag:../Operations/" href="../Operations/monitoring.html#monitoringcollectorservicemcs">Monitoring Collector Service (MCS)</a>. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/srsconfigurationfile.html#srselementmonitorformat">SRS Element "&lt;monitor-format&gt;"</a>. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/operations.tag:../Operations/" href="../Operations/monitoring.html">Monitoring</a> for an overview of monitoring an Ultra Messaging network.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Improved UDP Message Reception.</b> When the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/config.tag:../Config/" href="../Config/grpmajoroptions.html#multiplereceivemaximumdatagramscontext">multiple_receive_maximum_datagrams (context)</a> option is used, memory management is now more efficient, leading to a small increase in maximum sustainable throughput.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>MCS without license key.</b> A UM license key is no longer needed to run the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/operations.tag:../Operations/" href="../Operations/monitoring.html#monitoringcollectorservicemcs">Monitoring Collector Service (MCS)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>UDP Topic Resolution Reduction.</b> Bug <a class="el" href="umversion6_15.html#bug11037">11037</a> was fixed with an enhancement that provides a mild reduction in UDP-based topic resolution traffic when applications get an EOS event.</p>
<p class="endli"></p>
</li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="persistenceenhancementsfor6_15"></a>
Persistence Enhancements for 6.15&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_15">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
<p class="startli"><b>Store Initialization Speedup.</b> When a disk-based Store is restarted, it restores previously saved messages from the cache file. This message restoration is now optimized in two ways: </p><ol>
<li>
Messages are read more quickly. </li>
<li>
The Store can be configured to read a subset of saved messages when restarted; see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/designingpersistentstores.html#limitinitialrestore">Limit Initial Restore with Restore-Last</a> for more information. </li>
</ol>
<p class="endli"></p>
</li>
<li>
<b>Proxy Source Election.</b> Some users will be interested in an improved algorithm for proxy source election. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/persistencefaulttolerance.html#proxysourceelections">Proxy Source Elections</a>. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="queuingenhancementsfor6_15"></a>
Queuing Enhancements for 6.15&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_15">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="dynamicrouterenhancementsfor6_15"></a>
Dynamic Router Enhancements for 6.15&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_15">&lt;-</a></small></h2>
<p>As of UM version 6.15, DRO enhancements/fixes are included in the <a class="el" href="umversion6_15.html#streamingenhancementsfor6_15">streaming section</a> and are applicable to UMS, UMP, and UMQ. This is because the DRO now included with all three products.</p>
<p><br />
 </p>
<h1><a class="anchor" id="fixedlimitationsfor6_15"></a>
Fixed Problems and Limitations for 6.15&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_15">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="streamingfixedlimitationsfor6_15"></a>
Streaming Fixed Problems and Limitations for 6.15&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_15">&lt;-</a></small></h2>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>11063</td><td><p class="starttd"><b>FIXED:</b> <em>A UM version 6.14 SRS can get into a state where control messages are sent and received at a very high rate. This is difficult to reproduce, and is related to a named Store being restarted on a network containing a <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/design.tag:../Design/" href="../Design/fundamentalconcepts.html#umrouter">DRO</a>. </em></p>
<p>SRS users with named Stores and DROs should upgrade at least their SRSes, DROs, and Stores to UM version 6.15.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11055</td><td><p class="starttd"><b>FIXED:</b> <em>An application can get a crash (seg fault) if an event queue is shut down while a context/XSP is still enqueuing events to it. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11111, 11112, 11190</td><td><p class="starttd"><b>FIXED:</b> <em>Application crash (seg fault) when configured for automonitoring using monitor_transport set to lbmsnmp. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11146, 10387</td><td><p class="starttd"><b>FIXED:</b> <em>When source-side filtering is enabled but there is a network problem leading to packet loss when the connection is being set up, the receiver can be deaf to messages. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11269</td><td><p class="starttd"><b>FIXED:</b> <em>When the DRO is configured to send stats using protobuf, the DRO portal-specific stats are not sent. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11153</td><td><p class="starttd"><b>FIXED:</b> <em>When a source send fails, typically due to an application coding or configuration error, UM improperly increments its internal sequence number state. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11270</td><td><p class="starttd"><b>FIXED:</b> <em>A small memory leak in the DRO when protobuf stats are enabled. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11247</td><td><p class="starttd"><b>FIXED:</b> <em>A wildcard receiver can leak a small amount of memory when a matching source exits and times out. </em></p>
<p class="endtd"><a class="anchor" id="bug11015"></a></p>
</td></tr>
<tr>
<td>11015</td><td><p class="starttd"><b>FIXED:</b> <em>Store initialization very slow on large repository. </em></p>
<p>This was fixed with a new feature: <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/designingpersistentstores.html#limitinitialrestore">Limit Initial Restore with Restore-Last</a>.</p>
<p class="endtd"><a class="anchor" id="bug11037"></a></p>
</td></tr>
<tr>
<td>11037</td><td><p class="starttd"><b>FIXED:</b> <em>Spike in topic resolution seen after EOS is delivered to application. </em></p>
<p>This was fixed with an enhancement that reduces topic resolution traffic after an EOS. No changes in code or configuration are needed to take advantage of this enhancement.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10529</td><td><p class="starttd"><b>FIXED:</b> <em>Added destination IP address to certain socket errors (including no route to host). </em></p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="persistencefixedlimitationsfor6_15"></a>
Persistence Fixed Problems and Limitations for 6.15&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_15">&lt;-</a></small></h2>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>11206</td><td><p class="starttd"><b>FIXED:</b> <em>Store can crash if configured for RPP, the Store is writing to disk, and the Store is restarted. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11072</td><td><p class="starttd"><b>FIXED:</b> <em>When a memory-only Store is run in RPP mode, a "down" blocking receiver will not block the source. </em></p>
<p>Although this bug is fixed, Informatica does not recommend using a memory-only Store in RPP mode.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11082</td><td><p class="starttd"><b>FIXED:</b> <em>The Store can crash with a fatal assertion: <br />
<code>[EMERGENCY]: FATAL: failed assertion [info-&gt;sqn == DMON_GET(repo, mem_trail_sqn)]</code> <br />
when the Store experiences unrecoverable loss during late join, incoming data, and data being written to disk. This is VERY difficult to reproduce. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11087</td><td><p class="starttd"><b>FIXED:</b> <em>Persistent sources set with very large flight size limits (in the hundreds of thousands or more) can experience very long source registration times and shutdown times of many tens of seconds. </em></p>
<p>The delays are now somewhat reduced, but very large flight sizes are not recommended.</p>
<p class="endtd"><a class="anchor" id="bug11127"></a></p>
</td></tr>
<tr>
<td>11127</td><td><p class="starttd"><b>FIXED:</b> <em>If a Store is configured for sending daemon statistics over protobufs, the stats message can get too big to send. This is only when large numbers or sources and/or receivers are connected to the same Store process. </em></p>
<p>Store monitoring messages are now separated into three messages. See <a class="el" href="umversion6_15.html#storeprotobufmonitoring">Store Protobuf Monitoring</a> for special upgrade instructions.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11123</td><td><p class="starttd"><b>FIXED:</b> <em>The Store can crash when the state/cache directory plus file name is more than 255 characters long. </em></p>
<p>Note that even with the fix, the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/optionsforastoresumeattributeselement.html#umecfgdiskcachedirectory">cache directory</a> and the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/optionsforastoresumeattributeselement.html#umecfgdiskstatedirectory">state directory</a> paths are limited to 230 ASCII characters. If that limit is exceeded, UM will print an error and exit.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11140</td><td><p class="starttd"><b>FIXED:</b> <em>A publisher using the Smart Source API to send UM requests on a persistent source can fail with: <br />
<code>FATAL: failed assertion [info-&gt;sqn == ctlr-&gt;trail_sqn]</code> </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11152, 11156</td><td><p class="starttd"><b>FIXED:</b> <em>The Store can crash when sequence numbers roll over from 0xFFFFFFFF to 0, with the message: <br />
<code>[EMERGENCY]: FATAL: failed assertion [repo-&gt;batch_end_sqn&gt;=repo-&gt;batch_start_sqn]</code> </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10166, 11162</td><td><p class="starttd"><b>FIXED:</b> <em>If topic resolution and SRI messages don't arrive in proper order, a restarted store can be deaf to a source. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9777</td><td><p class="starttd"><b>FIXED:</b> <em>Store can crash with log message: <br />
<code>FATAL: failed assertion [rctxinfo-&gt;rctx==NULL]...</code> </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11167</td><td><p class="starttd"><b>FIXED:</b> <em>Store sometimes logs the warning: <br />
<code>WARNING: failed assertion [client-&gt;sid==sid]...</code> </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10552</td><td><p class="starttd"><b>FIXED:</b> <em>When SRI requests time out in a persistent receiver due to a short-term network outage, the receiver can remain deaf after the network is restored. </em></p>
<p>Retries were added. Note that warnings are logged periodically with each retry.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11177</td><td><p class="starttd"><b>FIXED:</b> <em>Proxy source can sometimes re-register on cleaned Store. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10946, 10930</td><td><p class="starttd"><b>FIXED:</b> <em>Proxy source can sometimes be repeatedly created and deleted by different stores ("rolling" behavior). </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11245</td><td><p class="starttd"><b>FIXED:</b> <em>A misconfigured persistent publisher can result in a Store crash (seg fault). The specific configuration error is that the source's list of Stores has some Stores specified with registration IDs and others not. </em></p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="queuingfixedlimitationsfor6_15"></a>
Queuing Fixed Problems and Limitations for 6.15&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_15">&lt;-</a></small></h2>
<p>The following bug fixes apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="dynamicrouterfixedlimitationsfor6_15"></a>
Dynamic Router Fixed Problems and Limitations for 6.15&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_15">&lt;-</a></small></h2>
<p>As of UM version 6.15, DRO enhancements/fixes are included in the <a class="el" href="umversion6_15.html#streamingenhancementsfor6_15">streaming section</a> and are applicable to UMS, UMP, and UMQ. This is because the DRO now included with all three products.</p>
<p><br />
 </p>
<h1><a class="anchor" id="specialupgradeinstructionsfor6_15"></a>
Special Upgrade Instructions for 6.15&nbsp;&nbsp;<small><a href="#specialupgradeinstructionsfor6_15">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="reducedfdstorediscontinued"></a>
Reduced FD Store Discontinued&nbsp;&nbsp;<small><a href="#reducedfdstorediscontinued">&lt;-</a></small></h2>
<p>As of UM version 6.15, the "Reduced FD Store" feature is removed from the product. Users of reduced-FD should migrate to <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/optionsforastoresumeattributeselement.html#umecfgrepositorytype">repository-type</a> "disk".</p>
<p><br />
 </p>
<h2><a class="anchor" id="storeproxysourceelection"></a>
Store Proxy Source Election&nbsp;&nbsp;<small><a href="#storeproxysourceelection">&lt;-</a></small></h2>
<p>For persistence users who enable proxy sources on their Stores, Informatica recommends enabling the new Store configuration option: <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/optionsforastoresumeattributeselement.html#umecfgproxysourcerepoquorumrequired">Store Option "proxy-source-repo-quorum-required"</a>.</p>
<p>See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/ume.tag:../UME/" href="../UME/persistencefaulttolerance.html#proxysourceelections">Proxy Source Elections</a> for details.</p>
<p><br />
 </p>
<h2><a class="anchor" id="storeprotobufmonitoring"></a>
Store Protobuf Monitoring&nbsp;&nbsp;<small><a href="#storeprotobufmonitoring">&lt;-</a></small></h2>
<p>Due to <a class="el" href="umversion6_15.html#bug11127">bug 11127</a>, the Store's daemon statistics using protobuf format had to be separated into three message types: </p><ul>
<li>
Configs </li>
<li>
Stats </li>
<li>
Events </li>
</ul>
<p>If you have written code to process protobuf format Store daemon stats, you will need to revisit that code. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_DEV_HF_6_16/29West/lbm/doc/ChangeLog/example.tag:../example/" href="../example/index.html#exampleump_mon_proto">Example ump_mon.proto</a> for the Store's protocol buffer definition file. Your code can look at the message type to differentiate between old vs. new Store stats.</p>
<p><br />
 </p>
<h2><a class="anchor" id="um6141specialinstructions"></a>
Previous Special Instructions&nbsp;&nbsp;<small><a href="#um6141specialinstructions">&lt;-</a></small></h2>
<p>If you are upgrading from a UM version prior to 6.15, you must also examine the <a class="el" href="umversion6_14.html#specialupgradeinstructionsfor6_14">Special Upgrade Instructions for 6.14</a>.</p>
<p><br />
<br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
