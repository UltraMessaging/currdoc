<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Release Notes: UM Version 6.7.1</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Release Notes
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('umversion6_7_1.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">UM Version 6.7.1 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The most significant update to UM version 6.7 is the inclusion of the HP NonStop platform for the UMP product. Note that daemons are not supported on NonStop, only client applications.</p>
<dl class="section attention"><dt>Attention</dt><dd>There are some special upgrade instructions for UM versions 6.7 and beyond that will affect a small percentage of users upgrading from pre-6.7 versions of UM. See <a class="el" href="umversion6_7.html#specialupgradeinstructionsfor6_7">Special Upgrade Instructions for 6.7</a>. For general upgrade instructions, see <a class="el" href="upgradeprocedure.html">Upgrade Procedure</a>. You are also advised to inspect the full list of <a class="el" href="deprecations.html">Deprecations</a>.</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="enhancementsfor6_7_1"></a>
Enhancements for 6.7.1&nbsp;&nbsp;<small><a href="#enhancementsfor6_7_1">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="streamingenhancementsfor6_7_1"></a>
Streaming Enhancements for 6.7.1&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_7_1">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli">You can now set how a context learns the ID of its own Topic Resolution Domain (TRD) with option <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/config.tag:../Config/" href="../Config/grpudpbasedresolveroperation.html#resolverdomainidactivepropagationtimeoutcontext">resolver_domain_id_active_propagation_timeout (context)</a>. This provides more flexibility in situations where you might need to change the Topic Resolution Domain (TRD) ID values for contexts.</p>
<p class="endli"></p>
</li>
<li>
Log messages '<code>Core-5688-1882</code>' and '<code>Core-5688-1891</code>' now display delay times in seconds and milliseconds, instead of seconds only. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="persistenceenhancementsfor6_7_1"></a>
Persistence Enhancements for 6.7.1&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_7_1">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
Ultra Messaging Persistence Edition is now available on the HP NonStop platform. For information on limitations, see the <a href="../DocIntro=en.pdf">Documentation Introduction</a>. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="queuingenhancementsfor6_7_1"></a>
Queuing Enhancements for 6.7.1&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_7_1">&lt;-</a></small></h2>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionality is retained.</dd></dl>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="dynamicrouterenhancementsfor6_7_1"></a>
Dynamic Router Enhancements for 6.7.1&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_7_1">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="fixedlimitationsfor6_7_1"></a>
Fixed Problems and Limitations for 6.7.1&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_7_1">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="streamingfixedlimitationsfor6_7_1"></a>
Streaming Fixed Problems and Limitations for 6.7.1&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_7_1">&lt;-</a></small></h2>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>3944 </td><td><p class="starttd">The '<code>lbmpong.c</code>' sample application might cause the following fatal assert: <br />
<code>FATAL: failed assertion [src-&gt;exbq!=NULL] at line 2155 in ../../../../src/lib/lbm/lbmsrc.c</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>6186 </td><td><p class="starttd">If the function <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#ad74f47a1e021b2422b80c0bf8d03f7a9">lbm_deserialize_response()</a> has a NULL pointer for the second variable, the function returns an LBM_EINVAL. As a solution, the <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#ad74f47a1e021b2422b80c0bf8d03f7a9">lbm_deserialize_response()</a> function now fatally asserts if NULL is passed for the '<code>lbm_context_t*</code>' and/or '<code>lbm_serialized_response_t*</code>' arguments.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7526 </td><td><p class="starttd">If an Ultra Messaging application's context thread processing is delayed significantly, the LBT-RM or LBT-RU receiver activity might time out before the application adds a receiver socket file descriptor to the Ultra Messaging file descriptor set. This causes a memory corruption.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7945 </td><td><p class="starttd">When delivering a no source notification to a UM wildcard receiver application, it may experience a segmentation fault.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8428 </td><td><p class="starttd">The <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#ac06b127bae882dd5fb68b7044fdceb5f">lbm_event_dispatch()</a> function might invoke a user callback before the associated event queue has been shut down. As a solution, the <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#ac06b127bae882dd5fb68b7044fdceb5f">lbm_event_dispatch()</a> function now checks the event queue shutdown status before calling a user callback, but still always processes UNBLOCK events.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8517 </td><td><p class="starttd">An Ultra Messaging application using fd management type select might fatally assert with the following message: <br />
<code>FATAL: failed assertion [index&lt;fdm-&gt;select_fd_count]</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8750 </td><td><p class="starttd">An HFX receiver with option <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/config.tag:../Config/" href="../Config/grpmajoroptions.html#receivercallbackservicetimeenabledcontext">receiver_callback_service_time_enabled (context)</a> option set to 1 might crash or operate without getting any data.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8788 </td><td><p class="starttd">Ultra Messaging Datagram Bypass Layer (DBL) still uses Myricom DBL version 1. As a solution, Ultra Messaging now uses Myricom DBL version 3.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8812 </td><td><p class="starttd">Ultra Messaging range configuration options pairs do not validate values to ensure that the low range value is less or equal to the high range value.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8856 </td><td><p class="starttd">The lbmrd process no longer requires a license to run, but the help menu still references the "-f" command line option/value, which has no effect.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8874 </td><td><p class="starttd">When referenced from an IDE, the Ultra Messaging .NET API libraries do not specify Informatica as creator.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8879 </td><td><p class="starttd">An Ultra Messaging application using fd management type <code>epoll</code> might have file descriptors silently become unregistered.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8898 </td><td><p class="starttd">A Windows receiver using FD management type wincompport might crash with the following log message: <br />
<code>Core-5688-3839: lbm_fd_handle_events line 4463: wincport recv WSA err 0 (Not a WSA error.) from peer not a connected socket</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8919 </td><td><p class="starttd">For the LBT-RM transport, the <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/api.tag:../API/" href="../API/structlbm__rcv__transport__stats__lbtrm__t__stct.html#afd4f04163e43692b04b5f03e98ab992a">lbm_rcv_transport_stats_lbtrm_t::nak_stm_min</a> and <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/api.tag:../API/" href="../API/structlbm__rcv__transport__stats__lbtrm__t__stct.html#a8ea05ee4effe7f8e41e45051741ee1c6">lbm_rcv_transport_stats_lbtrm_t::nak_tx_min</a> statistics might contain incorrect values, such as MAX_INT+1 or 0x100000000, due to being incorrectly initialized. As a solution, these statistics are now correctly initialized to 0.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9013 </td><td><p class="starttd">Ultra Messaging unicast applications might process topic resolution data from lbrmd resolver daemons that they are not configured to use.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9040 </td><td><p class="starttd">When sending serialized Ultra Messaging responses via the DRO, the Ultra Messaging request application might not receive them.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9077 </td><td>When you set option <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/config.tag:../Config/" href="../Config/grpmulticastresolvernetwork.html#resolvermulticastincomingaddresscontext">resolver_multicast_incoming_address (context)</a> to 0.0.0.0, the Ultra Messaging application exits during topic resolution. </td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="persistencefixedlimitationsfor6_7_1"></a>
Persistence Fixed Problems and Limitations for 6.7.1&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_7_1">&lt;-</a></small></h2>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>8933 </td><td><p class="starttd">An Ultra Messaging Java application might crash when using the <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/javaapi.tag:../JavaAPI/" href="../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMERegistrationIdExCallbackInfo.html">com::latencybusters::lbm::UMERegistrationIdExCallbackInfo</a> or <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/javaapi.tag:../JavaAPI/" href="../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1UMERecoverySequenceNumberCallbackInfo.html">com::latencybusters::lbm::UMERecoverySequenceNumberCallbackInfo</a> callback methods.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>5141 </td><td><p class="starttd">If you run the Java umesrc sample application without specifying a store, the application should exit, but does not. As a solution, the Java umesrc now displays an error message and exits if you do not specify a store.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>6959 </td><td><p class="starttd">When a UMP receiver subscribes to a UMP source with option <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umeusestorereceiver">ume_use_store (receiver)</a> enabled, the application can not disable the option <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/config.tag:../Config/" href="../Config/grplatejoin.html#uselatejoinreceiver">use_late_join (receiver)</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8140 </td><td><p class="starttd">When option <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/config.tag:../Config/" href="../Config/grpmajoroptions.html#sourceincludestopicindexcontext">source_includes_topic_index (context)</a> is enabled, the source string delivered to the UME recovery sequence number callback does not include the topic index.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8963 </td><td><p class="starttd">If a store with receiver paced persistence enabled experiences transport-level loss, then a UMP source might fail to decrement the flight size count and block indefinitely without sending.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8995 </td><td><p class="starttd">The .NET umesrc sample application crashes when using the "-S" command line option to input a valid store IP and port.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>9010 </td><td>The .NET umesrc sample application sometimes crashes when the store name length equals 0. </td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="queuingfixedlimitationsfor6_7_1"></a>
Queuing Fixed Problems and Limitations for 6.7.1&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_7_1">&lt;-</a></small></h2>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionality is retained.</dd></dl>
<p>The following bug fixes apply to the UMQ product.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>8950 </td><td><p class="starttd">When a Java source uses ULB and sends messages with <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/javaapi.tag:../JavaAPI/" href="../JavaAPI/classcom_1_1latencybusters_1_1lbm_1_1LBMSourceSendExInfo.html">com::latencybusters::lbm::LBMSourceSendExInfo</a> without a per-send client object, a memory leak occurs. As a solution, the call to the lbm_src_send_count_expected_terminals() function occurs only when there is a per-send client present.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8966 </td><td><p class="starttd">When a queue daemon terminates and restarts with a reset state, the source might resubmit a message that the queue daemon has already stabilized.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8967 </td><td>When the queue daemon receives messages via UMQ pro-active retransmission, some of these messages might not have the <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#aa56ddca7bfbc1b4f057ea5f0f1162582">LBM_MSG_FLAG_UMQ_RESUBMITTED</a> flag. </td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="dynamicrouterfixedlimitationsfor6_7_1"></a>
Dynamic Router Fixed Problems and Limitations for 6.7.1&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_7_1">&lt;-</a></small></h2>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>8859, 8871, 9002 </td><td><p class="starttd">On UNIX platforms, DRO daemons using single-tcp peer links might incorrectly declare peer links as inactive, and attempt to tear down and re-establish the peer connection. As a solution, for UNIX platforms the DRO now forces the peer portal option <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.15/doc/ChangeLog/config.tag:../Config/" href="../Config/grpmajoroptions.html#fdmanagementtypecontext">fd_management_type (context)</a> to '<code>select</code>' regardless of the user's configuration settings.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8873 </td><td><p class="starttd">When a DRO peer link closes the connection, the other peer issues the following log message: <br />
<code>Gwd-6033-618: peer portal [GW_0_to_GW_2] inbound connection destroyed due to socket failure</code> <br />
As a solution the other peer now issues the following correct log message: <br />
<code>Gwd-6033-618: peer portal [name] inbound connection destroyed due to disconnect</code></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>8979 </td><td>Incorrect DRO endpoint Domain IDs propagate continuously, without a mechanism for resetting other than restarting all contexts in the TRD. </td></tr>
</table>
<p><br />
<br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
