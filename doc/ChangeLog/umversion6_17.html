<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Release Notes: UM Version 6.17</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Release Notes
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('umversion6_17.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">UM Version 6.17 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The most significant update to UM version 6.17 is the "DRO Hotlinks" feature.</p>
<dl class="section attention"><dt>Attention</dt><dd>There are some special upgrade instructions for UM versions 6.17 and beyond that will affect some users upgrading from pre-6.17 versions of UM. See <a class="el" href="umversion6_17.html#specialupgradeinstructionsfor6_17">Special Upgrade Instructions for 6.17</a>. For general upgrade instructions, see <a class="el" href="upgradeprocedure.html">Upgrade Procedure</a>.</dd></dl>
<p>Also see <a class="el" href="deprecations.html">Deprecations</a>.</p>
<p><br />
 </p>
<h1><a class="anchor" id="enhancementsfor6_17"></a>
Enhancements for 6.17&nbsp;&nbsp;<small><a href="#enhancementsfor6_17">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="streamingenhancementsfor6_17"></a>
Streaming Enhancements for 6.17&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_17">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<ul>
<li>
<p class="startli"><b>Hotlinks</b>. A form of fault-tolerance where two copies of each message are sent in parallel over the two global networks from a publishing datacenter to subscribing datacenters. If packet loss on one network prevents that copy of the message, the other network's copy will be used. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/gateway.tag:../Gateway/" href="../Gateway/umrouterconcepts.html#drohotlinks">DRO Hotlinks</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Flexible LBT-RU Topic Assignment</b>. There is a modification to the way that topics are assigned to LBT-RU transport sessions. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/design.tag:../Design/" href="../Design/fundamentalconcepts.html#flexiblelbtrutopicassignment">Flexible LBT-RU Topic Assignment</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>DRO and Store support log files with UTC-based timestamps</b>. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/gateway.tag:../Gateway/" href="../Gateway/manpagesforumrouter.html#tnwgdmanpage">Tnwgd Man Page</a> and <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/ume.tag:../UME/" href="../UME/manpagesforstore.html#umestoredmanpage">Umestored Man Page</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>UM will now re-resolve DNS names after certain connection failures.</b> See <a class="el" href="umversion6_17.html#bug11442">bug 11442 (lbmrd)</a>, <a class="el" href="umversion6_17.html#bug11342">bug 11342 (SRS)</a>, and <a class="el" href="umversion6_17.html#bug11383">bug 11383 (DRO)</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>DRO UDP Peer: Compression and Encryption</b>. Compression and encryption functionality has been added to the DRO UDP Peer link. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/gateway.tag:../Gateway/" href="../Gateway/droarchitecture.html#udppeerlink">UDP Peer Link</a>.</p>
<p class="endli"></p>
</li>
<li>
<b>Datagram Max Size Separation</b>. UDP-based protocols (LBT-RM and LBT-RU) can now have their datagram max sizes configured differently for sending and receiving. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/design.tag:../Design/" href="../Design/architecture.html#changingdatagrammaxsize">Changing Datagram Max Size</a>. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="persistenceenhancementsfor6_17"></a>
Persistence Enhancements for 6.17&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_17">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<ul>
<li>
<b>Store now supports log files with UTC-based timestamps.</b> See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/ume.tag:../UME/" href="../UME/manpagesforstore.html#umestoredmanpage">Umestored Man Page</a>. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="queuingenhancementsfor6_17"></a>
Queuing Enhancements for 6.17&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_17">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="fixedlimitationsfor6_17"></a>
Fixed Problems and Limitations for 6.17&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_17">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="streamingfixedlimitationsfor6_17"></a>
Streaming Fixed Problems and Limitations for 6.17&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_17">&lt;-</a></small></h2>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>11475</td><td><p class="starttd"><b>FIXED:</b> <em>Log message Core-10403-150 does not contain the context instance ID. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11490</td><td><p class="starttd"><b>FIXED:</b> <em>UM_DynamicRouting_6.16_Win2k-x86_64-install failed to install DRO on windows 11. Symptom: "Error opening file for writing:
\UMS_6.16\Win2k-x86_64\bin\tnwg.dll" </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11453</td><td><p class="starttd"><b>FIXED:</b> <em>Datagram max size cannot be made different between receiving and sending. This makes it difficult to change a network's datagram size. </em></p>
<p></p>
<p>Datagram max size can now be separately configured between sending and receiving. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/design.tag:../Design/" href="../Design/architecture.html#changingdatagrammaxsize">Changing Datagram Max Size</a>.</p>
<p class="endtd"><a class="anchor" id="bug11442"></a></p>
</td></tr>
<tr>
<td>11442, 10928</td><td><p class="starttd"><b>FIXED:</b> <em>If a host running an "lbmrd" unicast resolver daemon fails, and the UM components specify the "lbmrd" by DNS name, moving the "lbmrd" to a different host and updating the DNS name to the new IP address does not redirect the running UM components to the new IP address. The components must be restarted for UM to re-resolve the DNS name. </em></p>
<p></p>
<p>Starting with UM version 6.17, UM will re-resolve the DNS name for an "lbmrd" each time connection to it fails.</p>
<p class="endtd"><a class="anchor" id="bug11342"></a></p>
</td></tr>
<tr>
<td>11342</td><td><p class="starttd"><b>FIXED:</b> <em>If a host running an "SRS" TCP-based resolver service fails, and the UM components specify the "SRS" by DNS name, moving the "SRS" to a different host and updating the DNS name to the new IP address does not redirect the running UM components to the new IP address. The components must be restarted for UM to re-resolve the DNS name. </em></p>
<p></p>
<p>Starting with UM version 6.17, UM will re-resolve the DNS name for an "SRS" each time connection to it fails.</p>
<p class="endtd"><a class="anchor" id="bug11383"></a></p>
</td></tr>
<tr>
<td>11383</td><td><p class="starttd"><b>FIXED:</b> <em>If a host running a DRO with an "acceptor" peer portal fails, and the DRO "initiator" portal specifies the "acceptor" by DNS name, moving the "acceptor" to a different host and updating the DNS name to the new IP address does not redirect the running "initiator" DRO to the new IP address. The "initiator" DRO must be restarted for it to re-resolve the DNS name. </em></p>
<p></p>
<p>Starting with UM version 6.17, the initiator DRO will re-resolve the DNS name for the "acceptor" DRO each time connection to it fails.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11411, 11494</td><td><p class="starttd"><b>FIXED:</b> <em>An application can register its own file descriptor (fd) with UM and associate it with a UM event queue. When <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#a55bed50f2627d24371ab9acae1f27f33">lbm_cancel_fd_ex()</a> is called to de-register the fd, the user's cancel callback is invoked too soon, before UM has finished with the fd. So if the user closes the fd inside the cancel callback, UM will log the warning: <br />
<code>Core-5455-1: epoll_ctl: EPOLL_CTL_DEL returned: errno:9:Bad file descriptor</code> </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11433</td><td><p class="starttd"><b>FIXED:</b> <em>When a subscriber detects "EOS" (End Of Stream), the following warning assertion can be printed: <br />
<code>WARNING: failed assertion [new_duration!=0]</code> <br />
Note that no bad behavior results; the warning can be ignored. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11485</td><td><p class="starttd"><b>FIXED:</b> <em>The SRS (Stateful Resolution Service) does not publish connection and disconnection events in its monitoring statistics. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11395</td><td><p class="starttd"><b>FIXED:</b> <em>The SRS (Stateful Resolution Service) prints some "debug" lines in its log file. This clutters the log file with unnecessary lines. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11390</td><td><p class="starttd"><b>FIXED:</b> <em>The UM C API is missing the functions <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#aafc6d1e802f9ffed9d6e9293a5f1773d">lbm_xsp_dump()</a> and <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#ad530a6532200d0b8363a032243e64e39">lbm_xsp_attr_dump()</a>. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11124</td><td><p class="starttd"><b>FIXED:</b> <em>The DRO logging option "&lt;log type="syslog"/&gt; <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#aafc6d1e802f9ffed9d6e9293a5f1773d">lbm_xsp_dump()</a> and <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#ad530a6532200d0b8363a032243e64e39">lbm_xsp_attr_dump()</a>. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11305</td><td><p class="starttd"><b>FIXED:</b> <em>It is possible to delete an event queue that still has events on it. These events are purged, which can result in silent memory leakage. </em></p>
<p></p>
<p>Starting in UM version 6.17 a debug log can be enabled to warn of event purging.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11396</td><td><p class="starttd"><b>FIXED:</b> <em>The lbmmon.c example app does not print DRO statistics, like UDP peer link statistics. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11345, 11369, 11385</td><td><p class="starttd"><b>FIXED:</b> <em>The MCS and SRS services require that the user conform to the directory structure established by the UM package installer. However, users are not generally required to follow the UM installer conventions. </em></p>
<p></p>
<p>Starting with UM version 6.17, the MCS and SRS services can conform to the user's preferred directory structure. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/operations.tag:../Operations/" href="../Operations/manpagesformcs.html">Man Pages for MCS</a> and <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/design.tag:../Design/" href="../Design/manpagesforsrs.html">Man Pages for SRS</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11287</td><td><p class="starttd"><b>FIXED:</b> <em>The MCS service does not shut down cleanly, potentially leaving some recent statistics not saved in the database. </em></p>
<p></p>
<p>Starting with UM version 6.17, the MCS will gracefully cleanup itself when using the recommended methods of shutting it down. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/operations.tag:../Operations/" href="../Operations/manpagesformcs.html">Man Pages for MCS</a> ("Usage Notes").</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11449</td><td><p class="starttd"><b>FIXED:</b> <em>In the UM EBF 6.16.0.1, the startup scripts for SRS and MCS specified incorrect jar file paths. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11364</td><td><p class="starttd"><b>FIXED:</b> <em>The lbmmon.c example app normally does not exit its main loop. However, if a user program is based on lbmmon.c and does exit normally the cleanup code after the main loop is code incorrectly. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>10158</td><td><p class="starttd"><b>FIXED:</b> <em>The UM Java sample applications have unnecessary dependencies on <code>log4j-1.2.9.jar</code> and <code>openmdx-kernel.jar</code>, neither of which were included in the UM packaging. </em></p>
<p></p>
<p>Starting with UM version 6.17 the Java sample apps no longer depend on <code>log4j-1.2.9.jar</code> and <code>openmdx-kernel.jar</code>. However, we added a dependency to the GNU <code>java-getopt-1.0.13.jar</code>. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/java_example.tag:../java_example/" href="../java_example/index.html#runningjavaexamples">Running Java Examples</a>.</p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="persistencefixedlimitationsfor6_17"></a>
Persistence Fixed Problems and Limitations for 6.17&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_17">&lt;-</a></small></h2>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<td>11444</td><td><p class="starttd"><b>FIXED:</b> <em>When a non-persistent source is created for a topic that is also persisted, the Store initiates SRI request to the non-persistent sources. This produces log messages in the non-persisted source: "LOG Level 6: THROTTLED
MSG: Core-6361-126: received sri request for unknown source" </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11437</td><td><p class="starttd"><b>FIXED:</b> <em>When named Stores are being used, a publisher deleting the context can trigger the following fatal assertion: <br />
<code>FATAL: failed assertion [rctxinfo-&gt;rctx==NULL]</code> </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11377, 11382</td><td><p class="starttd"><b>FIXED:</b> <em>In a UM network containing DROs, if a persistent receiver uses <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/design.tag:../Design/" href="../Design/umfeatures.html#transportservicesproviderxsp">XSPs</a>, it can fail to successfully register with Stores. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11496</td><td><p class="starttd"><b>FIXED:</b> <em>With binary daemon stats enabled, the Store can log: "Tue Nov 26 16:14:00 2024 [CRITICAL]: Store-10184-73: failed to set dmon source option [monitor_interval] to [0]: CoreApi-5688-722: option monitor_interval unknownTue Nov 26 16:14:00 2024 [INFO]: Core-9571-16: Domain name address: ... resolved to ip: ... </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11432</td><td><p class="starttd"><b>FIXED:</b> <em>When at least one Store is "wiped" (state and cache files deleted), a starting receiver that needs to recover significant numbers of messages will recover very slowly. </em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>11462</td><td><p class="starttd"><b>FIXED:</b> <em>Windows-based Store with I/O Completion ports can crash shortly after the log message, "Sat Aug 17 17:49:02 2024 [CRITICAL]: Core-9950-1: Critical Windows Completion Port error (10054) (Connection reset by peer): the Receive I/O operation could not be started. No data will be received". </em></p>
<p class="endtd"><a class="anchor" id="bug11338"></a></p>
</td></tr>
<tr>
<td>11338, 11439, 11483</td><td><p class="starttd"><b>FIXED:</b> <em>The <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.17_RC3/doc/ChangeLog/design.tag:../Design/" href="../Design/fundamentalconcepts.html#leadingloss">Leading Loss</a> suppression behavior for streaming receivers is also applied to persistent receivers. But persistent receivers should not be subject to this suppression. </em></p>
<p></p>
<p>Starting in UM version 6.17, a persistent receiver will not suppress leading unrecoverable loss events.</p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="queuingfixedlimitationsfor6_17"></a>
Queuing Fixed Problems and Limitations for 6.17&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_17">&lt;-</a></small></h2>
<p>The following bug fixes apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="specialupgradeinstructionsfor6_17"></a>
Special Upgrade Instructions for 6.17&nbsp;&nbsp;<small><a href="#specialupgradeinstructionsfor6_17">&lt;-</a></small></h1>
<p>There are no upgrade instructions specific to 6.17. However, if you are upgrading from a version prior to 6.16, then you must examine the <a class="el" href="umversion6_16.html#specialupgradeinstructionsfor6_16">Special Upgrade Instructions for 6.16</a>.</p>
<p>Also see <a class="el" href="deprecations.html">Deprecations</a>.</p>
<p><br />
<br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
