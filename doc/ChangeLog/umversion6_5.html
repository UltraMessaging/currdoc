<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Release Notes: UM Version 6.5</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Release Notes
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('umversion6_5.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">UM Version 6.5 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The most significant update to UM version 6.5 is the introduction of the Ultra Messaging System Monitoring option.</p>
<dl class="section warning"><dt>Warning</dt><dd>UM version 6.5 does not interoperate reliably with versions of UM prior to 6.0 It was not until UM version 6.7 and beyond that interoperability was introduced between the 6.x version line and the 5.x version line.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>There are some special upgrade instructions for UM versions 6.5 and beyond that will affect a small percentage of users upgrading from pre-6.5 versions of UM. See <a class="el" href="umversion6_5.html#specialupgradeinstructionsfor6_5">Special Upgrade Instructions for 6.5</a>. For general upgrade instructions, see <a class="el" href="upgradeprocedure.html">Upgrade Procedure</a>. You are also advised to inspect the full list of <a class="el" href="deprecations.html">Deprecations</a>.</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="enhancementsfor6_5"></a>
Enhancements for 6.5&nbsp;&nbsp;<small><a href="#enhancementsfor6_5">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="streamingenhancementsfor6_5"></a>
Streaming Enhancements for 6.5&nbsp;&nbsp;<small><a href="#streamingenhancementsfor6_5">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>7911 </td><td><p class="starttd">You can now configure Ultra Messaging to use Solarflare Onload to select transport sockets for acceleration. Onload is a kernel-bypass technology that accelerates message traffic and operates with Solarflare 10GbE Ethernet NICs. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/config.tag:../Config/" href="../Config/grptransportacceleration.html#solarflareonload">Solarflare Onload</a> for more information.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7974 </td><td>The lbmrd daemon now includes command line option "-f" or "--lic-file" to let you specify the Ultra Messaging license file. </td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="persistenceenhancementsfor6_5"></a>
Persistence Enhancements for 6.5&nbsp;&nbsp;<small><a href="#persistenceenhancementsfor6_5">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>7478 </td><td>The Persistent Store Web Monitor now displays the Session ID on the Store page, Source page, and Receiver page. </td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="queuingenhancementsfor6_5"></a>
Queuing Enhancements for 6.5&nbsp;&nbsp;<small><a href="#queuingenhancementsfor6_5">&lt;-</a></small></h2>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionalty is retained.</dd></dl>
<p>The following new features and enhancements apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="dynamicrouterenhancementsfor6_5"></a>
Dynamic Router Enhancements for 6.5&nbsp;&nbsp;<small><a href="#dynamicrouterenhancementsfor6_5">&lt;-</a></small></h2>
<p>The following new features and enhancements apply to the Dynamic Routing Option (DRO).</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>7694 </td><td>You can now use the LBT-SMX transport to send ingress message traffic to a DRO. The DRO no longer ignores topic resolution traffic from a LBT-SMX source. You still cannot, however, use LBT-SMX to send egress traffic from a DRO. </td></tr>
</table>
<p><br />
 </p>
<h1><a class="anchor" id="ultramessagingsystemmonitoringoption"></a>
Ultra Messaging System Monitoring Option&nbsp;&nbsp;<small><a href="#ultramessagingsystemmonitoringoption">&lt;-</a></small></h1>
<p>In conjunction with the Ultra Messaging 6.5 release, Informatica has introduced the Ultra Messaging System Monitor Option (UMSM). Administrators can use UMSM to monitor components of an Ultra Messaging deployment. The UMSM dashboard displays the status of components, such as UM hosts, transports, topic resolution domains, and application instances, as well as UM statistics.</p>
<p>UMSM monitors the messaging traffic of Ultra Messaging versions 5.0 and later.</p>
<p>With the Ultra Messaging 6.5 release, Ultra Messaging Automatic Monitoring sends the following aggregated receiver statistics and subscription information to UMSM:</p>
<ul>
<li>
Aggregate number of topic-level sequence numbers received out of order. </li>
<li>
Aggregate number of topic-level sequence numbers declared unrecoverably lost by the delivery of either an <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#a88920e0a4188081f9a14fc8f76c18578">LBM_MSG_UNRECOVERABLE_LOSS</a> or <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#a6629139aaf902976c8df9de3f37d10db">LBM_MSG_UNRECOVERABLE_LOSS_BURST</a> event to the receiving application. </li>
<li>
Receiver callback service time statistics. Ultra Messaging tracks the mean time, maximum time, and minimum time to service receiver callbacks. </li>
</ul>
<p>As the collection of aggregated statistics can increase the latency of message delivery, Ultra Messaging does not collect them by default. You can enable UMSM to collect the aggregated message loss statistics with the UM configuration options, <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/config.tag:../Config/" href="../Config/grpautomaticmonitoring.html#monitorintervalreceiver">monitor_interval (receiver)</a> and <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/config.tag:../Config/" href="../Config/grpautomaticmonitoring.html#monitorintervalwildcardreceiver">monitor_interval (wildcard_receiver)</a>. You can access the aggregated receiver statistics with UMSM. The lbmmon API does not provide access to the aggregated receiver statistics.</p>
<p>The Ultra Messaging 6.5 release contains a third new UM configuration option, <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/config.tag:../Config/" href="../Config/grpmajoroptions.html#receivercallbackservicetimeenabledcontext">receiver_callback_service_time_enabled (context)</a>, which enables UMSM to maintain receiver callback service times. The lbmmon API does not provide access to the receiver callback service times.</p>
<p><br />
 </p>
<h1><a class="anchor" id="fixedlimitationsfor6_5"></a>
Fixed Problems and Limitations for 6.5&nbsp;&nbsp;<small><a href="#fixedlimitationsfor6_5">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="streamingfixedlimitationsfor6_5"></a>
Streaming Fixed Problems and Limitations for 6.5&nbsp;&nbsp;<small><a href="#streamingfixedlimitationsfor6_5">&lt;-</a></small></h2>
<p>The following bug fixes apply to UMS, UMP, and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>7103 </td><td><p class="starttd"><b>FIXED:</b> <em>The lbmsrc.java example application throws an exception if the application sent SDM messages or variable message lengths.</em></p>
<p>lbmsrc.java now correctly adjusts the message buffers as needed.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7125 </td><td><p class="starttd"><b>FIXED:</b> <em>The following two Java send methods that do not work properly when used with a callback object (cbArg):</em> </p><ul>
<li>
send(byte[] message, int messageLength, int flags, java.lang.Object cbArg) </li>
<li>
send(java.nio.ByteBuffer message, int startPosition, int messageLength, int flags,java.lang.Object cbArg) </li>
</ul>
<p>These methods are now deprecated. Use the send method that accepts an LBMSourceSendExInfo object instead.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7374 </td><td><p class="starttd"><b>FIXED:</b> <em>An internal synchronization issue can cause LBM_EWOULDBLOCK errors when messages are sent by sources or by MIM.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7602 </td><td><p class="starttd"><b>FIXED:</b> <em>A problem with the lbmmon transport option "wctopic" prevents lbmmon from collecting statistics for sources sending on topics that match the wildcard pattern.</em></p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="persistencefixedlimitationsfor6_5"></a>
Persistence Fixed Problems and Limitations for 6.5&nbsp;&nbsp;<small><a href="#persistencefixedlimitationsfor6_5">&lt;-</a></small></h2>
<p>The following bug fixes apply to UMP and UMQ products.</p>
<table class="doxtable">
<tr>
<th>Change Request </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>7401, 7527 </td><td><p class="starttd"><b>FIXED:</b> <em>A persistent source using adaptive batching can crash with a segmentation fault.</em></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>7627 </td><td><p class="starttd">Converted UM log messages "Core-5688-3110" and "Core-5688-31" to debug log messages. These messages are not essential to normal operation of the Store. If you want to see them, set the LBM_DEBUG_FLAG to LBM_DEBUG_UME.</p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br />
 </p>
<h2><a class="anchor" id="queuingfixedlimitationsfor6_5"></a>
Queuing Fixed Problems and Limitations for 6.5&nbsp;&nbsp;<small><a href="#queuingfixedlimitationsfor6_5">&lt;-</a></small></h2>
<dl class="section note"><dt>Note</dt><dd>The brokered queuing and UM JMS functionalities were replaced in version 6.8, so most of these notes do not apply to more-recent versions of UM. However, ULB functionalty is retained.</dd></dl>
<p>The following bug fixes apply to the UMQ product.</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="dynamicrouterfixedlimitationsfor6_5"></a>
Dynamic Router Fixed Problems and Limitations for 6.5&nbsp;&nbsp;<small><a href="#dynamicrouterfixedlimitationsfor6_5">&lt;-</a></small></h2>
<p>The following bug fixes apply to the Dynamic Routing Option (DRO).</p>
<ul>
<li>
None. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="specialupgradeinstructionsfor6_5"></a>
Special Upgrade Instructions for 6.5&nbsp;&nbsp;<small><a href="#specialupgradeinstructionsfor6_5">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="um65contextstatsexpansion"></a>
UM 6.5 Context Stats Expansion&nbsp;&nbsp;<small><a href="#um65contextstatsexpansion">&lt;-</a></small></h2>
<p>In UM version 6.5, the data structure <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#ab86e72a3f715d7c8ddc49c6431455839">lbm_context_stats_t</a> was expanded with the addition of five fields: </p><ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/api.tag:../API/" href="../API/structlbm__context__stats__t__stct.html#ad80f9f30910a7468de9863238cdf126d">lbm_context_stats_t::fragments_lost</a>, </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/api.tag:../API/" href="../API/structlbm__context__stats__t__stct.html#a368bb93a5038b98e6e59b62c34a3d5b4">lbm_context_stats_t::fragments_unrecoverably_lost</a>, </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/api.tag:../API/" href="../API/structlbm__context__stats__t__stct.html#ad6dc0c61916512a1d385501d8d635fe3">lbm_context_stats_t::rcv_cb_svc_time_min</a>, </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/api.tag:../API/" href="../API/structlbm__context__stats__t__stct.html#a6e7fd17516ad5bd894bd47b1c506d91f">lbm_context_stats_t::rcv_cb_svc_time_max</a>, and </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/api.tag:../API/" href="../API/structlbm__context__stats__t__stct.html#a7773f35c817502bbb33acac04a197715">lbm_context_stats_t::rcv_cb_svc_time_mean</a>. </li>
</ul>
<p>This broke ABI compatibility.</p>
<p>If your application uses the lbm_context_stats_t structure and was originally built with a UM version prior to 6.5, it will have to be recompiled to work with UM 6.5 and beyond. This is because the application allocates the smaller pre-6.5 size. But if that binary is executed with UM 6.5 or beyond, the <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.13.1_RC1/doc/ChangeLog/api.tag:../API/" href="../API/lbm_8h.html#aa8f2d2e5b28e2c97911117acb099c48e">lbm_context_retrieve_stats()</a> function will assume that it is the larger 6.5-and-beyond size, and will write past the end of the application's structure allocation. This can produce program crashes and corrupted data.</p>
<p>If your program does not use the lbm_context_stats_t structure, then recompiling is not necessary.</p>
<p><br />
<br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
