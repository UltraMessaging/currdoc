<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Guide for Persistence: &quot;&lt;option&gt;&quot; Element Details</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Guide for Persistence
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('optionsforastoresumeattributeselement.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">"&lt;option&gt;" Element Details </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <a class="el" href="configurationreferenceforumestored.html#umeelementoption">&lt;option&gt;</a> element is the primary construct for setting Store configuration options. It always appears inside a <a class="el" href="configurationreferenceforumestored.html#umeelementumeattributes">&lt;ume-attributes&gt;</a> block, which can appear in two places of your Store configuration file: the <a class="el" href="configurationreferenceforumestored.html#umeelementstore">&lt;store&gt;</a> element, or the <a class="el" href="configurationreferenceforumestored.html#umeelementtopic">&lt;topic&gt;</a> element.</p>
<p>The <a class="el" href="configurationreferenceforumestored.html#umeelementoption">&lt;option&gt;</a> element is used to set three kinds of Store configuration options </p><ul>
<li>
<a class="el" href="optionsforastoresumeattributeselement.html#optionsforum">Setting LBM Configuration Options</a>, for the underlying UM library. </li>
<li>
<a class="el" href="optionsforastoresumeattributeselement.html#optionsforatopicsume-attributeselement">Store Options in "&lt;store&gt;" Element</a>. </li>
<li>
<a class="el" href="optionsforastoresumeattributeselement.html#storeoptionsintopicelement">Store Options in "&lt;topic&gt;" Element</a>. </li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="optionsforum"></a>
Setting LBM Configuration Options&nbsp;&nbsp;<small><a href="#optionsforum">&lt;-</a></small></h1>
<p>The <a class="el" href="configurationreferenceforumestored.html#umeelementoption">&lt;option&gt;</a> element can be used to set LBM configuration options. I.e. options that control the UM library. Those options come in different scopes. For the purposes of the Store, only the "context", "receiver", and "source" scopes are used, as follows: </p><div class="fragment"><div class="line">&lt;option type=<span class="stringliteral">&quot;lbm-context&quot;</span> name=<span class="stringliteral">&quot;context_option_name&quot;</span> value=<span class="stringliteral">&quot;desired_value&quot;</span>/&gt;</div><div class="line">&lt;option type=<span class="stringliteral">&quot;lbm-receiver&quot;</span> name=<span class="stringliteral">&quot;receiver_option_name&quot;</span> value=<span class="stringliteral">&quot;desired_value&quot;</span>/&gt;</div><div class="line">&lt;option type=<span class="stringliteral">&quot;lbm-source&quot;</span> name=<span class="stringliteral">&quot;source_option_name&quot;</span> value=<span class="stringliteral">&quot;desired_value&quot;</span>/&gt;</div></div><!-- fragment --><p>But the valid LBM scopes depend on the "&lt;option&gt;" element's ancestor: </p><table class="doxtable">
<tr>
<th>Ancestor </th><th>Valid LBM <code>type</code> Attributes </th></tr>
<tr>
<td><a class="el" href="configurationreferenceforumestored.html#umeelementstore">&lt;store&gt;</a> </td><td>type="lbm-context" </td></tr>
<tr>
<td><a class="el" href="configurationreferenceforumestored.html#umeelementtopic">&lt;topic&gt;</a> </td><td>type="lbm-receiver"<br />
type="lbm-source" </td></tr>
</table>
<p>See the <a href="../Config/index.html">UM Configuration Guide</a> for the full list of LBM configuration options.</p>
<dl class="section note"><dt>Note</dt><dd>Some UM options specify interfaces, which can be done by supplying the device name of the interface. Special care must be taken when supplying device names in an XML file. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/generalconfigurationguidelines.html#interfacedevicenamesandxml">Interface Device Names and XML</a> for details.</dd></dl>
<p>Most Store deployments do not make heavy use of the <a class="el" href="configurationreferenceforumestored.html#umeelementoption">&lt;option&gt;</a> element to set LBM configuration parameters. Instead they use an LBM configuration file (via the <a class="el" href="configurationreferenceforumestored.html#umeelementlbmconfig">&lt;lbm-config&gt;</a> or the <a class="el" href="configurationreferenceforumestored.html#umeelementxmlconfig">UMP Element "&lt;xml-config&gt;"</a> element) for setting most of the desired LBM configuration options. However, it is often desired to override one or more of those settings based on an individual Store, or an individual topic within a Store.</p>
<p><b>Example</b></p>
<p>In this hypothetical example, the Store loads a generic project-specific flat LBM configuration file: </p><div class="fragment"><div class="line">...</div><div class="line">&lt;daemon&gt;</div><div class="line">  &lt;lbm-config&gt;/etc/ump/<span class="keyword">generic</span>.cfg&lt;/lbm-config&gt;</div><div class="line">&lt;/daemon&gt;</div><div class="line">...</div></div><!-- fragment --><p>The file "generic.cfg" sets the <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grptransportlbtrmreliability.html#transportlbtrmreceiversocketbuffercontext">receiver-side LBT-RM socket buffer size</a> to 4 MB using: </p><div class="fragment"><div class="line">context transport_lbtrm_receiver_socket_buffer 4194304</div></div><!-- fragment --><p>Since we want the Stores to avoid loss as much as possible, the receive socket buffers should be made large (32 MB): </p><div class="fragment"><div class="line">...</div><div class="line">&lt;daemon&gt;</div><div class="line">  &lt;lbm-config&gt;/etc/ump/<span class="keyword">generic</span>.cfg&lt;/lbm-config&gt;</div><div class="line">&lt;/daemon&gt;</div><div class="line">&lt;store name=<span class="stringliteral">&quot;MyStore1&quot;</span> interface=<span class="stringliteral">&quot;10.1.2.3&quot;</span> port=<span class="stringliteral">&quot;12000&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;lbm-context&quot;</span> name=<span class="stringliteral">&quot;transport_lbtrm_receiver_socket_buffer&quot;</span> value=<span class="stringliteral">&quot;33554432&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">  ...</div><div class="line">&lt;/store&gt;</div></div><!-- fragment --><p>Finally, for the specific topic "EventStream", one might want the initial NAK backoff interval to be longer than for application receivers. </p><div class="fragment"><div class="line">...</div><div class="line">&lt;daemon&gt;</div><div class="line">  &lt;lbm-config&gt;/etc/ump/<span class="keyword">generic</span>.cfg&lt;/lbm-config&gt;</div><div class="line">&lt;/daemon&gt;</div><div class="line">&lt;store name=<span class="stringliteral">&quot;MyStore1&quot;</span> interface=<span class="stringliteral">&quot;10.1.2.3&quot;</span> port=<span class="stringliteral">&quot;12000&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;lbm-context&quot;</span> name=<span class="stringliteral">&quot;transport_lbtrm_receiver_socket_buffer&quot;</span> value=<span class="stringliteral">&quot;33554432&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">  &lt;topics&gt;</div><div class="line">    &lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">      &lt;ume-attributes&gt;</div><div class="line">        &lt;option type=<span class="stringliteral">&quot;lbm-receiver&quot;</span> name=<span class="stringliteral">&quot;transport_lbtrm_nak_initial_backoff_interval&quot;</span> value=<span class="stringliteral">&quot;500&quot;</span>/&gt;</div><div class="line">        ...</div><div class="line">      &lt;/ume-attributes&gt;</div><div class="line">      ...</div><div class="line">    &lt;/topic&gt;</div><div class="line">  &lt;/topics&gt;</div><div class="line">  ...</div><div class="line">&lt;/store&gt;</div></div><!-- fragment --><p><a class="anchor" id="storeoptions"></a><br />
 </p>
<h1><a class="anchor" id="optionsforatopicsume-attributeselement"></a>
Store Options in "&lt;store&gt;" Element&nbsp;&nbsp;<small><a href="#optionsforatopicsume-attributeselement">&lt;-</a></small></h1>
<p>For Store configuration options, the <a class="el" href="configurationreferenceforumestored.html#umeelementoption">&lt;option&gt;</a> element must appear inside the <a class="el" href="configurationreferenceforumestored.html#umeelementstore">&lt;store&gt;</a> element, as follows:</p>
<div class="fragment"><div class="line">&lt;store ...&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;store_option_name&quot;</span> value=<span class="stringliteral">&quot;desired_value&quot;</span>/&gt;</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/store&gt;</div></div><!-- fragment --><p>For example: </p><div class="fragment"><div class="line">&lt;store name=<span class="stringliteral">&quot;MyStore1&quot;</span> interface=<span class="stringliteral">&quot;10.1.2.3&quot;</span> port=<span class="stringliteral">&quot;12000&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;disk-cache-directory&quot;</span> value=<span class="stringliteral">&quot;/cache&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/store&gt;</div></div><!-- fragment --><p>These options apply to all repositories in this Store Instance.</p>
<p><br />
 </p>
<h2><a class="anchor" id="umecfgdiskcachedirectory"></a>
Store Option "disk-cache-directory"&nbsp;&nbsp;<small><a href="#umecfgdiskcachedirectory">&lt;-</a></small></h2>
<p>Pathname for disk Store message cache directory. Must be between 1 and 230 characters long. It is the user's responsibility to create this directory; the Store will not do so.</p>
<p><b>Default:</b> </p><pre class="fragment">umestored-cache
</pre><p> The Store looks for a sub-directory by that name in the current working directory of the stored process.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;store name=<span class="stringliteral">&quot;MyStore1&quot;</span> interface=<span class="stringliteral">&quot;10.1.2.3&quot;</span> port=<span class="stringliteral">&quot;12000&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;disk-cache-directory&quot;</span> value=<span class="stringliteral">&quot;/var/ump/cache&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/store&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgdiskstatedirectory"></a>
Store Option "disk-state-directory"&nbsp;&nbsp;<small><a href="#umecfgdiskstatedirectory">&lt;-</a></small></h2>
<p>Pathname for disk Store state directory. Must be between 1 and 230 characters long. It is the user's responsibility to create this directory; the Store will not do so.</p>
<p><b>Default</b> </p><pre class="fragment">umestored-state
</pre><p> The Store looks for a sub-directory by that name in the current working directory of the Store Process.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;store name=<span class="stringliteral">&quot;MyStore1&quot;</span> interface=<span class="stringliteral">&quot;10.1.2.3&quot;</span> port=<span class="stringliteral">&quot;12000&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;disk-state-directory&quot;</span> value=<span class="stringliteral">&quot;/var/ump/state&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/store&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgallowproxysource"></a>
Store Option "allow-proxy-source"&nbsp;&nbsp;<small><a href="#umecfgallowproxysource">&lt;-</a></small></h2>
<p>Allows the Store to act as a proxy source in case a registered source terminates.</p>
<p><b>Default:</b> </p><pre class="fragment">0 (Disable)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;store name=<span class="stringliteral">&quot;MyStore1&quot;</span> interface=<span class="stringliteral">&quot;10.1.2.3&quot;</span> port=<span class="stringliteral">&quot;12000&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;allow-proxy-source&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/store&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgcontextname"></a>
Store Option "context-name"&nbsp;&nbsp;<small><a href="#umecfgcontextname">&lt;-</a></small></h2>
<p>Name of the Store that can be used by sources to refer to the Store instead of the address:port. Restricted to 128 characters in length, and may contain only alphanumeric characters, hyphens, and underscores.</p>
<p>A Store runs in its own context, so the Store's context name can be used to identify the Store. UM automatically resolves Store context names, which can facilitate persistent operation across the <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/design.tag:../Design/" href="../Design/fundamentalconcepts.html#umrouter">DRO</a>. Store context names must be unique across the entire network.</p>
<p>See also <a class="el" href="persistencearchitecture.html#identifyingpersistentstores">Identifying Persistent Stores</a></p>
<p><b>Default:</b></p>
<p>None (Store must be referenced by address:port).</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;store name=<span class="stringliteral">&quot;MyStore1&quot;</span> interface=<span class="stringliteral">&quot;10.1.2.3&quot;</span> port=<span class="stringliteral">&quot;12000&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;context-name&quot;</span> value=<span class="stringliteral">&quot;NEWYORK-1&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/store&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgretransmissionrequestprocessingrate"></a>
Store Option "retransmission-request-processing-rate"&nbsp;&nbsp;<small><a href="#umecfgretransmissionrequestprocessingrate">&lt;-</a></small></h2>
<p>Specifies the number of retransmission requests processed by a Store per second across all topics. The Store drops all retransmission requests that exceed this value.</p>
<p><b>Default:</b> </p><pre class="fragment">262144
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;store name=<span class="stringliteral">&quot;MyStore1&quot;</span> interface=<span class="stringliteral">&quot;10.1.2.3&quot;</span> port=<span class="stringliteral">&quot;12000&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;retransmission-request-processing-rate&quot;</span></div><div class="line">                         value=<span class="stringliteral">&quot;524288&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/store&gt;</div></div><!-- fragment --><p><br />
 </p>
<h1><a class="anchor" id="storeoptionsintopicelement"></a>
Store Options in "&lt;topic&gt;" Element&nbsp;&nbsp;<small><a href="#storeoptionsintopicelement">&lt;-</a></small></h1>
<p>For Store repository configuration options, the <a class="el" href="configurationreferenceforumestored.html#umeelementoption">&lt;option&gt;</a> element must appear inside the <a class="el" href="configurationreferenceforumestored.html#umeelementtopic">&lt;topic&gt;</a> element, as follows:</p>
<div class="fragment"><div class="line">&lt;topic ...&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;store_option_name&quot;</span> value=<span class="stringliteral">&quot;desired_value&quot;</span>/&gt;</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p>For example: </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-type&quot;</span> value=<span class="stringliteral">&quot;disk&quot;</span>/&gt;</div><div class="line">    ...</div></div><!-- fragment --><p>These options apply all repositories for sources that match the specified topic(s).</p>
<p><br />
 </p>
<h2><a class="anchor" id="umecfgretransmissionrequestforwarding"></a>
Topic Option "retransmission-request-forwarding"&nbsp;&nbsp;<small><a href="#umecfgretransmissionrequestforwarding">&lt;-</a></small></h2>
<p>If enabled (value="1"), the Store forwards retransmission requests to sources if and only if the Store does not have the data. If disabled (value="0"), the Store services retransmission requests for data it has, and does not forward requests to sources for data it does not have. (This option should not be enabled if you anticipate using the <a class="el" href="storedaemonstatistics.html#requestmarkstoredmessageinvalid">Request: Mark Stored Message Invalid</a> feature.)</p>
<p><b>Default:</b> </p><pre class="fragment">0 (Store services retransmission requests and does not forward requests)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;retransmission-request-forwarding&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositorytype"></a>
Topic Option "repository-type"&nbsp;&nbsp;<small><a href="#umecfgrepositorytype">&lt;-</a></small></h2>
<p>Specifies how messages should be retained by the Store.</p>
<p><b>Possible Values</b> </p><ul>
<li>
<b>"memory"</b> retains messages only in the (presumably volatile) main memory of the Store. </li>
<li>
<b>"disk"</b> retains messages to disk storage. In addition, messages are cached in main memory for a time as well. </li>
<li>
<b>"reduced-fd"</b> DEPRECATED, do not use. Retains messages to disk storage in a lower-performing way (compared to <b>"disk"</b>) that uses fewer OS File Descriptors. This type should not be used, as it will be removed in a future UM version. Contact Informatica Support to devise a plan to migrate away from its use. </li>
<li>
<b>"no-cache"</b> DEPRECATED, do not use. Does not retain messages, only state information. This type should not be used, as it will be removed in a future UM version. Contact Informatica Support to devise a plan to migrate away from its use. </li>
</ul>
<p><b>Default:</b> </p><pre class="fragment">memory
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-type&quot;</span> value=<span class="stringliteral">&quot;disk&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositorysizethreshold"></a>
Topic Option "repository-size-threshold"&nbsp;&nbsp;<small><a href="#umecfgrepositorysizethreshold">&lt;-</a></small></h2>
<p>Specifies the minimum number of message bytes retained in the Store's memory cache. The purpose of this option is for disk Stores to keep some messages in memory even after they have been written to disk. This allows for rapid recovery of recent messages.</p>
<p>For SPP Stores, includes message payload, headers, and Store structure overhead. For RPP Stores, only includes message payload.</p>
<p>Note that the Store's memory cache size can fall below this threshold. With RPP Stores, if all required receivers have acknowledged consumption of all messages, all messages will be deleted.</p>
<p>Also for RPP, the source LBM configuration may override this option with <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umerepositorysizethresholdsource">ume_repository_size_threshold (source)</a>. In that case, the Store's repository-size-threshold value is used as the maximum allowed value for ume_repository_size_threshold. If the source exceeds this value, its registration is rejected.</p>
<p>For RPP, see <a class="el" href="specialconfigurationtopics.html#rppconfigurationspecifics">RPP Configuration Specifics</a> for interactions between this and other configuration options. See <a class="el" href="operationalview.html#receiverpacedpersistenceoperations">RPP: Receiver-Paced Persistence</a> for general information on RPP.</p>
<p><b>Default:</b> </p><pre class="fragment">1024
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-size-threshold&quot;</span> value=<span class="stringliteral">&quot;2048&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositorysizelimit"></a>
Topic Option "repository-size-limit"&nbsp;&nbsp;<small><a href="#umecfgrepositorysizelimit">&lt;-</a></small></h2>
<p>Specifies the maximum number of message bytes retained in the Store's memory cache. For <a class="el" href="optionsforastoresumeattributeselement.html#umecfgrepositorytype">repository-type</a> <b>"memory"</b>, this represents the maximum size for the entire repository. For <a class="el" href="optionsforastoresumeattributeselement.html#umecfgrepositorytype">repository-type</a> <b>"disk"</b>, the total repository size is limited by <a class="el" href="optionsforastoresumeattributeselement.html#umecfgrepositorydiskfilesizelimit">Topic Option "repository-disk-file-size-limit"</a>.</p>
<p>For SPP Stores, includes message payload, headers, and Store structure overhead. For RPP Stores, only includes message payload.</p>
<p>Also for RPP, the source LBM configuration may override this option with <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umerepositorysizelimitsource">ume_repository_size_limit (source)</a>. In that case, the Store's repository-size-limit value is used the maximum allowed value for ume_repository_size_limit. If the source exceeds this value, its registration is rejected.</p>
<p>For RPP, see <a class="el" href="specialconfigurationtopics.html#rppconfigurationspecifics">RPP Configuration Specifics</a> for interactions between this and other configuration options. See <a class="el" href="operationalview.html#receiverpacedpersistenceoperations">RPP: Receiver-Paced Persistence</a> for general information on RPP.</p>
<p><b>Default:</b> </p><pre class="fragment">50331648 (48 MB)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-size-limit&quot;</span> value=<span class="stringliteral">&quot;67108864&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositoryagethreshold"></a>
Topic Option "repository-age-threshold"&nbsp;&nbsp;<small><a href="#umecfgrepositoryagethreshold">&lt;-</a></small></h2>
<p>Specifies how long in seconds the repository keeps a message available. Pertains to a memory Store or the memory cache of a disk Store. The repository reclaims space used to store messages that exceed this threshold. Note that if these deleted messages have been persisted to disk, they are available to receivers for recovery.</p>
<p>This is a rarely-used option, typically only useful on a memory-only Store.</p>
<p>A value of 0 means message age is not considered in retention decisions.</p>
<p><b>Default:</b> </p><pre class="fragment">0 (disabled)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-age-threshold&quot;</span> value=<span class="stringliteral">&quot;120&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositorydiskmaxasynccbs"></a>
Topic Option "repository-disk-max-async-cbs"&nbsp;&nbsp;<small><a href="#umecfgrepositorydiskmaxasynccbs">&lt;-</a></small></h2>
<p>For topics with a <a class="el" href="optionsforastoresumeattributeselement.html#umecfgrepositorytype">repository-type</a> <b>"disk"</b>, specifies the maximum number of outstanding async I/O callbacks for reading messages from disk.</p>
<p><b>Default:</b> </p><pre class="fragment">16 (callbacks)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-disk-max-async-cbs&quot;</span> value=<span class="stringliteral">&quot;24&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositorydiskmaxwriteasynccbs"></a>
Topic Option "repository-disk-max-write-async-cbs"&nbsp;&nbsp;<small><a href="#umecfgrepositorydiskmaxwriteasynccbs">&lt;-</a></small></h2>
<p>For topics with a <a class="el" href="optionsforastoresumeattributeselement.html#umecfgrepositorytype">repository-type</a> <b>"disk"</b>, specifies the maximum number of outstanding async I/O callbacks for writing messages to disk. This option is deprecated, and if supplied, must be set equal to 1.</p>
<p><b>Default:</b> </p><pre class="fragment">1 (callback)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-disk-max-write-async-cbs&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositorydiskmaxreadasynccbs"></a>
Topic Option "repository-disk-max-read-async-cbs"&nbsp;&nbsp;<small><a href="#umecfgrepositorydiskmaxreadasynccbs">&lt;-</a></small></h2>
<p>For topics with a <a class="el" href="optionsforastoresumeattributeselement.html#umecfgrepositorytype">repository-type</a> <b>"disk"</b>, specifies the maximum number of outstanding async I/O callbacks for reading messages from disk. A low value can lead to severely slower message recovery rates by receivers.</p>
<p><b>Default:</b> </p><pre class="fragment">10,000 (callbacks)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-disk-max-read-async-cbs&quot;</span> value=<span class="stringliteral">&quot;15000&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositorydiskfilesizelimit"></a>
Topic Option "repository-disk-file-size-limit"&nbsp;&nbsp;<small><a href="#umecfgrepositorydiskfilesizelimit">&lt;-</a></small></h2>
<p>Specifies the maximum amount of disk space, in bytes, that will be used to store retained messages. A minimum value of 196992 is enforced.</p>
<p>This option only applies for <a class="el" href="optionsforastoresumeattributeselement.html#umecfgrepositorytype">repository-type</a> <b>"disk"</b>.</p>
<p>Also for RPP, the source LBM configuration may override this option with <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umerepositorydiskfilesizelimitsource">ume_repository_disk_file_size_limit (source)</a>. In that case, the Store's repository-disk-file-size-limit value is used as the maximum allowed value for ume_repository_disk_file_size_limit. If the source exceeds this value, its registration is rejected.</p>
<p>For RPP, see <a class="el" href="specialconfigurationtopics.html#rppconfigurationspecifics">RPP Configuration Specifics</a> for interactions between this and other configuration options. See <a class="el" href="operationalview.html#receiverpacedpersistenceoperations">RPP: Receiver-Paced Persistence</a> for general information on RPP.</p>
<p><b>Default:</b> </p><pre class="fragment">104857600 (100 MB)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-disk-file-size-limit&quot;</span> value=<span class="stringliteral">&quot;209715200&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositorydiskfilepreallocate"></a>
Topic Option "repository-disk-file-preallocate"&nbsp;&nbsp;<small><a href="#umecfgrepositorydiskfilepreallocate">&lt;-</a></small></h2>
<p>For topics with a <a class="el" href="optionsforastoresumeattributeselement.html#umecfgrepositorytype">repository-type</a> <b>"disk"</b>, if set to 1, UM pre-allocates a Store's cache files to match their maximum size on disk (as configured by repository-disk-file-size-limit) upon creation, as opposed to growing to that size as the Store receives new messages. For ext3/4 and NTFS file systems, this options creates a sparse file, which does not allocate all of the underlying data blocks. Advantages of pre-allocation include better performance on rotating disks due to less file fragmentation, and knowing that enough disk space exists for any new source that registers. Disadvantage is the time to create the cache files, especially if many sources register at once.</p>
<p><b>Default:</b> </p><pre class="fragment">0 (do not pre-allocate)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-disk-file-preallocate&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositorydiskasyncbufferlength"></a>
Topic Option "repository-disk-async-buffer-length"&nbsp;&nbsp;<small><a href="#umecfgrepositorydiskasyncbufferlength">&lt;-</a></small></h2>
<p>For topics with a <a class="el" href="optionsforastoresumeattributeselement.html#umecfgrepositorytype">repository-type</a> <b>"disk"</b>, specifies the size of the buffers that will be used in async I/O operations for reading and writing messages to disk. A minimum value of 65664 is enforced.</p>
<p><b>Default:</b> </p><pre class="fragment">1024000 (bytes)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-disk-async-buffer-length&quot;</span> value=<span class="stringliteral">&quot;2097152&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositorydiskmessagechecksum"></a>
Topic Option "repository-disk-message-checksum"&nbsp;&nbsp;<small><a href="#umecfgrepositorydiskmessagechecksum">&lt;-</a></small></h2>
<p>For topics with a <a class="el" href="optionsforastoresumeattributeselement.html#umecfgrepositorytype">repository-type</a> <b>"disk"</b>, specifies whether the messages saved to disk should include a checksum field for validation if the Store is restarted.</p>
<p><b>Default:</b> </p><pre class="fragment">0 (disabled)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-disk-message-checksum&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgsourceactivitytimeout"></a>
Topic Option "source-activity-timeout"&nbsp;&nbsp;<small><a href="#umecfgsourceactivitytimeout">&lt;-</a></small></h2>
<p>Establishes the period of time in milliseconds from a source's last activity to the release of the source's RegID. Stores return an error to any new source requesting the source's RegID during this period. If proxy sources are enabled (<a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umeproxysourcesource">ume_proxy_source (source)</a>) the Store does not release the source's RegID and UM elects a proxy source. If neither proxy sources nor <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umestatelifetimesource">ume_state_lifetime (source)</a> are configured, the Store also deletes the source's state and cache. Can be overridden by <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umeactivitytimeoutsource">ume_activity_timeout (source)</a>. See also <a class="el" href="persistencefaulttolerance.html#persistenceproxysources">Persistence Proxy Sources</a>.</p>
<p><b>Default:</b> </p><pre class="fragment">30000 (30 seconds)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;source-activity-timeout&quot;</span> value=<span class="stringliteral">&quot;60000&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgsourcestatelifetime"></a>
Topic Option "source-state-lifetime"&nbsp;&nbsp;<small><a href="#umecfgsourcestatelifetime">&lt;-</a></small></h2>
<p>Establishes the period of time in milliseconds from a source's last activity to the deletion of the source's state and cache by the Store, regardless of whether a proxy source has been created or not. You can also configure <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umestatelifetimesource">ume_state_lifetime (source)</a> for the source. The Store uses whichever is shorter. See also <a class="el" href="persistencefaulttolerance.html#persistenceproxysources">Persistence Proxy Sources</a>.</p>
<p><b>Default:</b> </p><pre class="fragment">0 (disabled)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;source-state-lifetime&quot;</span> value=<span class="stringliteral">&quot;0&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgreceiveractivitytimeout"></a>
Topic Option "receiver-activity-timeout"&nbsp;&nbsp;<small><a href="#umecfgreceiveractivitytimeout">&lt;-</a></small></h2>
<p>Establishes the period of time in milliseconds from a receiver's last activity to the release of the receiver's RegID. Stores return an error to any new request for the receiver's RegID during this period. Can be overridden by <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umeactivitytimeoutreceiver">ume_activity_timeout (receiver)</a>. See also <a class="el" href="persistencefaulttolerance.html#persistenceproxysources">Persistence Proxy Sources</a>.</p>
<p><b>Default:</b> </p><pre class="fragment">30000 (30 seconds)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;receiver-activity-timeout&quot;</span> value=<span class="stringliteral">&quot;45000&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgreceiverstatelifetime"></a>
Topic Option "receiver-state-lifetime"&nbsp;&nbsp;<small><a href="#umecfgreceiverstatelifetime">&lt;-</a></small></h2>
<p>Establishes the period of time in milliseconds from a receiver's last activity to the deletion of the receiver's state and cache by the Store. You can also configure <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umestatelifetimereceiver">ume_state_lifetime (receiver)</a> for the receiver. The Store uses whichever is shorter. See also <a class="el" href="persistencefaulttolerance.html#persistenceproxysources">Persistence Proxy Sources</a>.</p>
<p><b>Default:</b> </p><pre class="fragment">0 (disabled)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;receiver-state-lifetime&quot;</span> value=<span class="stringliteral">&quot;0&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgsourcecheckinterval"></a>
Topic Option "source-check-interval"&nbsp;&nbsp;<small><a href="#umecfgsourcecheckinterval">&lt;-</a></small></h2>
<p>Specifies the period in milliseconds a Store will check for activity of sources and receivers.</p>
<p><b>Default:</b> </p><pre class="fragment">750 (milliseconds)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;source-check-interval&quot;</span> value=<span class="stringliteral">&quot;900&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgkeepaliveinterval"></a>
Topic Option "keepalive-interval"&nbsp;&nbsp;<small><a href="#umecfgkeepaliveinterval">&lt;-</a></small></h2>
<p>Specifies the period in milliseconds a Store will generate keepalive traffic to sources and receivers if there has been no traffic required in the normal course of operation.</p>
<p><b>Default:</b> </p><pre class="fragment">3000 (3 seconds)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;keepalive-interval&quot;</span> value=<span class="stringliteral">&quot;5000&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgreceivernewregistrationrollback"></a>
Topic Option "receiver-new-registration-rollback"&nbsp;&nbsp;<small><a href="#umecfgreceivernewregistrationrollback">&lt;-</a></small></h2>
<p>Specifies the number of stabilized messages that a newly registered receiver should consume. For example, setting this to 10 "rolls back" the new receiver's starting message to the 10th most recent message. This value must be positive and less than 2147483648. The recommended value of 2147483647 indicates that the rollback should begin at the start of the stream. A value of 0 indicates the Store should instruct the receivers to start with the next new message from the source known by the Store.</p>
<p><b>Default:</b> </p><pre class="fragment">2147483647 (rollback starts at beginning of stream)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;receiver-new-registration-rollback&quot;</span> value=<span class="stringliteral">&quot;2147483647&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgproxyelectioninterval"></a>
Topic Option "proxy-election-interval"&nbsp;&nbsp;<small><a href="#umecfgproxyelectioninterval">&lt;-</a></small></h2>
<p>Specifies the interval, in milliseconds, used when electing a proxy source. When a source, which requested that a proxy source be provided for it, has been detected as no longer active, each Store eligible to provide a proxy source for it waits for an amount of time which is randomized in the range [0.5*proxy-election-interval .. 1.5*proxy-election-interval]. If no other Store has been elected to serve as the proxy source, the Store declares itself as the proxy source.</p>
<p><b>Default:</b> </p><pre class="fragment">60,000 (60 seconds)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;proxy-election-interval&quot;</span> value=<span class="stringliteral">&quot;80000&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgstabilityackinterval"></a>
Topic Option "stability-ack-interval"&nbsp;&nbsp;<small><a href="#umecfgstabilityackinterval">&lt;-</a></small></h2>
<p>Specifies the maximum amount of time in milliseconds that stability acknowledgments will be batched before being sent to a source. This batching is only enabled if <a class="el" href="optionsforastoresumeattributeselement.html#umecfgstabilityackminimumnumber">Topic Option "stability-ack-minimum-number"</a> is set to greater than 1.</p>
<p>Batching stability ACKs can increase throughput of Stores (especially memory Stores) significantly, but introduces a delay between when a message is actually stable in the Store and when the source is notified of message stability.</p>
<p>At high message rates, the stability ACKs will normally be triggered by the received messages exceeding <a class="el" href="optionsforastoresumeattributeselement.html#umecfgstabilityackminimumnumber">stability-ack-minimum-number</a>. However, if the source publishing rate drops significantly, the stability-ack-interval ensures an upper bound to the time required for stability ACKs.</p>
<p><b>Default:</b> </p><pre class="fragment">200 (200 milliseconds)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;stability-ack-interval&quot;</span> value=<span class="stringliteral">&quot;50&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgstabilityackminimumnumber"></a>
Topic Option "stability-ack-minimum-number"&nbsp;&nbsp;<small><a href="#umecfgstabilityackminimumnumber">&lt;-</a></small></h2>
<p>Specifies the minimum number of message fragment stability acknowledgments that must accumulate before a stability ACK is sent to a source. With the default value of 1, stability ACKs are sent immediately as soon as messages are stable. Increasing this value causes stability ACKs to be batched, which can increase throughput of Stores (especially memory Stores) significantly, but introduces a delay between when a message is actually stable in the Store and when the source is notified of message stability.</p>
<p>If using a stability ACK-based flight size on a persistent source in combination with this option, it is advisable to make sure stability-ack-minimum-number is set less than the source's flight size. Otherwise, stability ACKs will only be sent upon expiration of the <a class="el" href="optionsforastoresumeattributeselement.html#umecfgstabilityackinterval">stability-ack-interval</a> timer, resulting in bursty stop-and-go sending.</p>
<p>For RPP, see <a class="el" href="specialconfigurationtopics.html#rppconfigurationspecifics">RPP Configuration Specifics</a> for interactions between this and other configuration options. See <a class="el" href="operationalview.html#receiverpacedpersistenceoperations">RPP: Receiver-Paced Persistence</a> for general information on RPP.</p>
<p><b>Default:</b> </p><pre class="fragment">1 (fragment; no batching)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;stability-ack-minimum-number&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositoryallowreceiverpacedpersistence"></a>
Topic Option "repository-allow-receiver-paced-persistence"&nbsp;&nbsp;<small><a href="#umecfgrepositoryallowreceiverpacedpersistence">&lt;-</a></small></h2>
<p>Specifies if the repository allows receiver-paced persistence (RPP). If allowed (value 1), the source may request RPP with <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umereceiverpacedpersistencesource">ume_receiver_paced_persistence (source)</a>.</p>
<p>Note that the Store cannot be directly configured to enable RPP; the source <em>must</em> be configured to request it. Otherwise, the repository defaults to SPP. This option only <em>allows</em> the source to request it.</p>
<p>See <a class="el" href="operationalview.html#receiverpacedpersistenceoperations">RPP: Receiver-Paced Persistence</a> for general information on RPP.</p>
<p><b>Default:</b> </p><pre class="fragment">0 (Store does not allow the source to specify RPP)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-allow-receiver-paced-persistence&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositoryallowackonreception"></a>
Topic Option "repository-allow-ack-on-reception"&nbsp;&nbsp;<small><a href="#umecfgrepositoryallowackonreception">&lt;-</a></small></h2>
<p>For RPP, specifies if the repository allows "ack on reception" behavior. If allowed (value 1), the source may request "ack on reception" with <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umerepositoryackonreceptionsource">ume_repository_ack_on_reception (source)</a>. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umerepositoryackonreceptionsource">ume_repository_ack_on_reception (source)</a> for more information about "ack on reception" behavior.</p>
<p>Note that the Store cannot be directly configured to enable "ack on reception"; the source <em>must</em> be configured to request it. Otherwise, the repository defaults to acknowledging when messages are written to disk. This option only <em>allows</em> the source to request it.</p>
<p>Also note that for SPP Stores, this option is ignored.</p>
<p>For RPP, see <a class="el" href="specialconfigurationtopics.html#rppconfigurationspecifics">RPP Configuration Specifics</a> for interactions between this and other configuration options. See <a class="el" href="operationalview.html#receiverpacedpersistenceoperations">RPP: Receiver-Paced Persistence</a> for general information on RPP.</p>
<p><b>Default:</b> </p><pre class="fragment">0 (Store does not allow the source to specify ack on reception behavior)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-allow-ack-on-reception&quot;</span> value=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgrepositorydiskwritedelay"></a>
Topic Option "repository-disk-write-delay"&nbsp;&nbsp;<small><a href="#umecfgrepositorydiskwritedelay">&lt;-</a></small></h2>
<p>Specifies a delay in milliseconds after a message is received before the message is written to disk. This option is for use with RPP, and is intended to allow all required receivers to acknowledge consumption of messages within the write delay time. This deletes the messages from the memory cache before they are written to disk. If all required receivers acknowledge consumption within the delay time, the Store never needs to write messages to disk.</p>
<p>This option only applies for <a class="el" href="optionsforastoresumeattributeselement.html#umecfgrepositorytype">repository-type</a> <b>"disk"</b>.</p>
<p>For RPP, the source LBM configuration may override this option with <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umewritedelaysource">ume_write_delay (source)</a>. In that case, the Store's repository-disk-write-delay value is used as the maximum allowed value for ume_write_delay. If the source exceeds this value, its registration is rejected.</p>
<p>For RPP, see <a class="el" href="specialconfigurationtopics.html#rppconfigurationspecifics">RPP Configuration Specifics</a> for interactions between this and other configuration options. See <a class="el" href="operationalview.html#receiverpacedpersistenceoperations">RPP: Receiver-Paced Persistence</a> for general information on RPP.</p>
<p><b>Default:</b> </p><pre class="fragment">0 (milliseconds, no delay)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;repository-disk-write-delay&quot;</span> value=<span class="stringliteral">&quot;5000&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umecfgsourceflightsizebytesmaximum"></a>
Topic Option "source-flight-size-bytes-maximum"&nbsp;&nbsp;<small><a href="#umecfgsourceflightsizebytesmaximum">&lt;-</a></small></h2>
<p>For RPP, specifies the maximum number of in-flight payload bytes that the source is allowed to configure with <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/config.tag:../Config/" href="../Config/grpultramessagingpersistence.html#umeflightsizebytessource">ume_flight_size_bytes (source)</a>. If the source exceeds this value, its registration is rejected.</p>
<p>See <a class="el" href="operationalview.html#persistenceflightsize">Persistence Flight Size</a> for more information.</p>
<p><b>Default:</b> </p><pre class="fragment">4194304 (4 MB)
</pre><p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;topic pattern=<span class="stringliteral">&quot;EventStream&quot;</span> type=<span class="stringliteral">&quot;direct&quot;</span>&gt;</div><div class="line">  &lt;ume-attributes&gt;</div><div class="line">    &lt;option type=<span class="stringliteral">&quot;store&quot;</span> name=<span class="stringliteral">&quot;source-flight-size-bytes-maximum&quot;</span> value=<span class="stringliteral">&quot;8388608&quot;</span>/&gt;</div><div class="line">    ...</div><div class="line">  &lt;/ume-attributes&gt;</div><div class="line">&lt;/topic&gt;</div></div><!-- fragment --><p><br />
<br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
