<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Guide for Persistence: Callable Store</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Guide for Persistence
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('callablestore.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Callable Store </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>It is possible for an application to start an instance of the Store to run as an independent set of threads within the application process. However, there are several restrictions:</p>
<ol>
<li>
<p class="startli">The application may not make use of messaging. I.e. an application which intends to start a Store Instance must not create contexts, sources, or receivers, or make any use of UM except starting (and optionally stopping) the Store. For applications that need to use messaging, it is suggested that the application create a child process from which to invoke the Store. The parent process can then use messaging freely.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Only a C API is provided at this time. Two API functions are available: <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/api.tag:../API/" href="../API/umestored__main_8h.html#ae0f0d211a889aee9ea3f4f57d4c75e3a">umestored_main()</a> to start the Store threads running, and <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/api.tag:../API/" href="../API/umestored__main_8h.html#a974d80bb5206243675c3e0646cbd88d4">umestored_main_shutdown()</a> to request the Store threads to stop gracefully.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/api.tag:../API/" href="../API/umestored__main_8h.html#ae0f0d211a889aee9ea3f4f57d4c75e3a">umestored_main()</a> API will not return until the Store exits, either by processing a signal, or by the application calling <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/api.tag:../API/" href="../API/umestored__main_8h.html#a974d80bb5206243675c3e0646cbd88d4">umestored_main_shutdown()</a>. When <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/api.tag:../API/" href="../API/umestored__main_8h.html#ae0f0d211a889aee9ea3f4f57d4c75e3a">umestored_main()</a> does return, the Store is in a safe state for the application to exit.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Only a single instance of the Store may be started. This means that an application may not have two Stores running concurrently, and it also means that an application may not start a Store, shut it down, and then start it again. The Store API is "single use".</p>
<p class="endli"></p>
</li>
<li>
The application may not set signal handlers for SIGPIPE, SIGUSR1, SIGINT, or SIGTERM. The Store uses those signals. For applications that need to handle those signals, it is suggested that the application create a child process, as mentioned above (#1). </li>
</ol>
<p>See <a href="../API/umestored__main_8h.html">umestored_main.h File Reference</a> for API details.</p>
<p>The API code is <em>not</em> contained within the normal "lbm" library. On Linux, it is in "libumestorelib.a", a static library. On Windows, it is in "umestore.dll", a dynamic library.</p>
<p>For an example of how to use the <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/api.tag:../API/" href="../API/umestored__main_8h.html#ae0f0d211a889aee9ea3f4f57d4c75e3a">umestored_main()</a> API, see the example program <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.14_RC6/doc/UME/example.tag:../example/" href="../example/index.html#exampleumestored_example_c">Example umestored_example.c</a>. Note that while the callable Store APIs are usable on all supported platforms, this example program is restricted to Linux due to its use of <code>prctl()</code>, a Linux-only function.</p>
<p><br />
<br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
