<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Configuration Guide: Transport LBT-RU Network Options</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Configuration Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('grptransportlbtrunetwork.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Transport LBT-RU Network Options </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><br />
 </p>
<h1><a class="anchor" id="lbtrutransportsessionmanagement"></a>
LBT-RU Transport Session Management&nbsp;&nbsp;<small><a href="#lbtrutransportsessionmanagement">&lt;-</a></small></h1>
<p>The image below illustrates the relationship between the primary LBT-RU network options.</p>
<div class="image">
<img src="LBTRU-Net.png" alt="LBTRU-Net.png"/>
</div>
 <p>When a source is created, the application can explicitly map it to a transport session by setting the <a class="el" href="grptransportlbtrunetwork.html#transportlbtruportsource">transport_lbtru_port (source)</a> option. If a previous source was created on the same context with the same port, this new source will be mapped to the same transport session. However, two different contexts on the same host may not share the same port number. If a source is created with a port number that is already in use, UM will return an error.</p>
<p>Alternatively, if the application does not explicitly specify a source port, UM will implicitly assign the new source to a pool of transport sessions defined when the context was created. The pool is defined as a range of port numbers specified by the options <a class="el" href="grptransportlbtrunetwork.html#transportlbtruportlowcontext">transport_lbtru_port_low (context)</a> and <a class="el" href="grptransportlbtrunetwork.html#transportlbtruporthighcontext">transport_lbtru_port_high (context)</a>. In addition, the option <a class="el" href="grptransportlbtrunetwork.html#transportlbtrumaximumportscontext">transport_lbtru_maximum_ports (context)</a> defines the number of transport sessions in the pool.</p>
<p>When a new source is created and the source port is not explicitly defined, UM will check to see how many transport sessions are currently active from the pool within the context. If it is less than the number in the pool, then UM will activate the next transport session in the range. However, if the context already has activated all transport sessions in the pool, then the new topic is mapped to one of the existing transport sessions, in round-robin fashion.</p>
<p>Note that if you intend to do both explicit mapping and implicit mapping to the default pool of transport sessions, the LBT-RU transport behaves differently than some of the other transport types (e.g. LBT-RM). Any explicitly given port will be added to the default pool. This means that subsequent implicit mappings to the default pool can include this newly added port.</p>
<p>Notice that the default range of ports, 14380 to 14389, is 10 ports. But the default number of transport sessions in the pool is 5. This allows two contexts to be created on the same host and use the same configuration. If more than 2 contexts are intended to co-exist on the same host, the port range and number of transport session per context must be managed to give a unique port number to every transport session.</p>
<p>The option <a class="el" href="grptransportlbtrunetwork.html#transportlbtruinterfacesource">transport_lbtru_interface (source)</a> may be used on LBT-RU sources to choose particular interface, overriding the default INADDR_ANY which accepts connections on all interfaces. Similarly, <a class="el" href="grptransportlbtrunetwork.html#transportlbtruinterfacereceiver">transport_lbtru_interface (receiver)</a> may be used on receivers to choose a particular interface for outgoing connections.</p>
<p><br />
 </p>
<h1><a class="anchor" id="transportlbtrunetworkref"></a>
Reference&nbsp;&nbsp;<small><a href="#transportlbtrunetworkref">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="transportlbtruinterfacereceiver"></a>
transport_lbtru_interface (receiver)&nbsp;&nbsp;<small><a href="#transportlbtruinterfacereceiver">&lt;-</a></small></h2>
<dl class="section user"><dt></dt><dd>Specifies the network interface over which UM LBT-RU receivers read application data messages. </dd></dl>
<dl class="section user"><dt></dt><dd>Can specify full IP address of interface, or just network part (see <a class="el" href="generalconfigurationguidelines.html#specifyinginterfaces">Specifying Interfaces</a> for details). </dd></dl>
<dl class="section user"><dt></dt><dd>Default is set to <a class="el" href="grpmajoroptions.html#defaultinterfacecontext">default_interface (context)</a>, if specified. Otherwise, it is set to INADDR_ANY, meaning that it will accept incoming connection requests from any interface. </dd></dl>
<dl class="section user"><dt></dt><dd>Note: if specifying an interface name in an XML-format file, see <a class="el" href="generalconfigurationguidelines.html#interfacedevicenamesandxml">Interface Device Names and XML</a>.</dd></dl>
<dl class="section user"><dt></dt><dd><table class="doxtable">
<tr>
<td><em>Scope:</em> </td><td>receiver </td></tr>
<tr>
<td><em>Type:</em> </td><td><b><a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a0b66a5b33839617b2a822e4a20a8d535">lbm_ipv4_address_mask_t</a></b> </td></tr>
<tr>
<td><em>Default value:</em> </td><td>0.0.0.0 (INADDR_ANY) </td></tr>
<tr>
<td><em>When to Set:</em> </td><td>Can only be set during object initialization.</td></tr>
</table>
</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="transportlbtruinterfacesource"></a>
transport_lbtru_interface (source)&nbsp;&nbsp;<small><a href="#transportlbtruinterfacesource">&lt;-</a></small></h2>
<dl class="section user"><dt></dt><dd>Specifies the network interface over which UM LBT-RU sources receive connection requests from topic receivers. </dd></dl>
<dl class="section user"><dt></dt><dd>Can specify full IP address of interface, or just network part (see <a class="el" href="generalconfigurationguidelines.html#specifyinginterfaces">Specifying Interfaces</a> for details). </dd></dl>
<dl class="section user"><dt></dt><dd>Be aware that this option is applied to the transport session when the first topic is created on that session. Thus, setting a different interface for a subsequent topic that maps onto the same transport session will have no effect. </dd></dl>
<dl class="section user"><dt></dt><dd>Default is set to <a class="el" href="grpmajoroptions.html#defaultinterfacecontext">default_interface (context)</a>, if specified. Otherwise, it is set to INADDR_ANY, meaning that it will accept incoming connection requests from any interface. </dd></dl>
<dl class="section user"><dt></dt><dd>Note: if specifying an interface name in an XML-format file, see <a class="el" href="generalconfigurationguidelines.html#interfacedevicenamesandxml">Interface Device Names and XML</a>.</dd></dl>
<dl class="section user"><dt></dt><dd><table class="doxtable">
<tr>
<td><em>Scope:</em> </td><td>source </td></tr>
<tr>
<td><em>Type:</em> </td><td><b><a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a0b66a5b33839617b2a822e4a20a8d535">lbm_ipv4_address_mask_t</a></b> </td></tr>
<tr>
<td><em>Default value:</em> </td><td>0.0.0.0 (INADDR_ANY) </td></tr>
<tr>
<td><em>When to Set:</em> </td><td>Can only be set during object initialization.</td></tr>
</table>
</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="transportlbtrumaximumportscontext"></a>
transport_lbtru_maximum_ports (context)&nbsp;&nbsp;<small><a href="#transportlbtrumaximumportscontext">&lt;-</a></small></h2>
<dl class="section user"><dt></dt><dd>Maximum size of LBT-RU source transport session default pool. </dd></dl>
<dl class="section user"><dt></dt><dd>See <a class="el" href="grptransportlbtrunetwork.html#lbtrutransportsessionmanagement">LBT-RU Transport Session Management</a> for how LBT-RU source transport sessions are managed.</dd></dl>
<dl class="section user"><dt></dt><dd><table class="doxtable">
<tr>
<td><em>Scope:</em> </td><td>context </td></tr>
<tr>
<td><em>Type:</em> </td><td><b><a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a86897f2fdd66aa7021683a4e72a4537b">lbm_uint16_t</a></b> </td></tr>
<tr>
<td><em>Units:</em> </td><td>number of ports </td></tr>
<tr>
<td><em>Default value:</em> </td><td>5 </td></tr>
<tr>
<td><em>When to Set:</em> </td><td>Can only be set during object initialization.</td></tr>
</table>
</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="transportlbtruportsource"></a>
transport_lbtru_port (source)&nbsp;&nbsp;<small><a href="#transportlbtruportsource">&lt;-</a></small></h2>
<dl class="section user"><dt></dt><dd>The UDP port to be used for the source transport session. </dd></dl>
<dl class="section user"><dt></dt><dd>This is the source-side option. For receive-side ports, see <a class="el" href="grptransportlbtrunetwork.html#transportlbtruportlowreceiver">transport_lbtru_port_low (receiver)</a>. </dd></dl>
<dl class="section user"><dt></dt><dd>Setting this option to non-zero overrides the use of the default pool of LBT-RU source transport sessions. </dd></dl>
<dl class="section user"><dt></dt><dd>See <a class="el" href="grptransportlbtrunetwork.html#lbtrutransportsessionmanagement">LBT-RU Transport Session Management</a> for how LBT-RU source transport sessions are managed. </dd></dl>
<dl class="section user"><dt></dt><dd>See <a class="el" href="generalconfigurationguidelines.html#portassignments">Port Assignments</a> for more information about configuring ports. </dd></dl>
<dl class="section user"><dt></dt><dd>Note that this port is only used by LBT-RU sources, not receivers. </dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>If a source is configured for a port that is not currently part of the transport session default pool, UM will create a new transport session for this port and add it to the default pool. See <a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16/doc/Config/design.tag:../Design/" href="../Design/fundamentalconcepts.html#transportsessiondifferences">Transport Session Differences</a>.</dd></dl>
<dl class="section user"><dt></dt><dd><table class="doxtable">
<tr>
<td><em>Scope:</em> </td><td>source </td></tr>
<tr>
<td><em>Type:</em> </td><td><b><a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a86897f2fdd66aa7021683a4e72a4537b">lbm_uint16_t</a></b> </td></tr>
<tr>
<td><em>Default value:</em> </td><td>0 (use open port) </td></tr>
<tr>
<td><em>Byte order:</em> </td><td>Network </td></tr>
<tr>
<td><em>When to Set:</em> </td><td>Can only be set during object initialization.</td></tr>
</table>
</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="transportlbtruporthighcontext"></a>
transport_lbtru_port_high (context)&nbsp;&nbsp;<small><a href="#transportlbtruporthighcontext">&lt;-</a></small></h2>
<dl class="section user"><dt></dt><dd>High UDP port number of range for default pool of LBT-RU source transport sessions. </dd></dl>
<dl class="section user"><dt></dt><dd>When <a class="el" href="grptransportlbtrunetwork.html#transportlbtruportsource">transport_lbtru_port (source)</a> is not specified, a newly-created transport session will use an unused port from this range. Receivers that join the source's transport session send connection requests, acknowledgements, and NAKs to the source port. </dd></dl>
<dl class="section user"><dt></dt><dd>See also <a class="el" href="grptransportlbtrunetwork.html#transportlbtruporthighcontext">transport_lbtru_port_high (context)</a>. </dd></dl>
<dl class="section user"><dt></dt><dd>This is the source-side option. For the corresponding receiver option, see <a class="el" href="grptransportlbtrunetwork.html#transportlbtruporthighreceiver">transport_lbtru_port_high (receiver)</a>. </dd></dl>
<dl class="section user"><dt></dt><dd>See <a class="el" href="grptransportlbtrunetwork.html#lbtrutransportsessionmanagement">LBT-RU Transport Session Management</a> for how LBT-RU source transport sessions are managed. </dd></dl>
<dl class="section user"><dt></dt><dd>See <a class="el" href="generalconfigurationguidelines.html#portassignments">Port Assignments</a> for more information about configuring ports.</dd></dl>
<dl class="section user"><dt></dt><dd><table class="doxtable">
<tr>
<td><em>Scope:</em> </td><td>context </td></tr>
<tr>
<td><em>Type:</em> </td><td><b><a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a86897f2fdd66aa7021683a4e72a4537b">lbm_uint16_t</a></b> </td></tr>
<tr>
<td><em>Default value:</em> </td><td>14389 </td></tr>
<tr>
<td><em>Byte order:</em> </td><td>Host </td></tr>
<tr>
<td><em>When to Set:</em> </td><td>Can only be set during object initialization.</td></tr>
</table>
</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="transportlbtruporthighreceiver"></a>
transport_lbtru_port_high (receiver)&nbsp;&nbsp;<small><a href="#transportlbtruporthighreceiver">&lt;-</a></small></h2>
<dl class="section user"><dt></dt><dd>High port number to use for receiving LBT-RU data. </dd></dl>
<dl class="section user"><dt></dt><dd>This is the receive-side option. For the corresponding source option, see <a class="el" href="grptransportlbtrunetwork.html#transportlbtruporthighcontext">transport_lbtru_port_high (context)</a>. </dd></dl>
<dl class="section user"><dt></dt><dd>When a newly-created receiver joins a source's transport session, it finds a free port from this range, binds to it, and informs the source of the receiver's IP and port. The UM source will send message data to that IP and port. </dd></dl>
<dl class="section user"><dt></dt><dd>Unlike most UM port ranges, if the library is not able to find an unused port in this range, it will log a warning (Core-5688-3300), but instead of failing the receiver creation, it will allocate a port from the host's ephemeral pool and operate normally. Thus, it is possible for a receiver to get messages on a port outside of the configured range. </dd></dl>
<dl class="section user"><dt></dt><dd>See <a class="el" href="generalconfigurationguidelines.html#portassignments">Port Assignments</a> for more information about configuring ports.</dd></dl>
<dl class="section user"><dt></dt><dd><table class="doxtable">
<tr>
<td><em>Scope:</em> </td><td>receiver </td></tr>
<tr>
<td><em>Type:</em> </td><td><b><a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a86897f2fdd66aa7021683a4e72a4537b">lbm_uint16_t</a></b> </td></tr>
<tr>
<td><em>Default value:</em> </td><td>14379 </td></tr>
<tr>
<td><em>Byte order:</em> </td><td>Host </td></tr>
<tr>
<td><em>When to Set:</em> </td><td>Can only be set during object initialization.</td></tr>
</table>
</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="transportlbtruportlowcontext"></a>
transport_lbtru_port_low (context)&nbsp;&nbsp;<small><a href="#transportlbtruportlowcontext">&lt;-</a></small></h2>
<dl class="section user"><dt></dt><dd>Low UDP port number of range for default pool of LBT-RU source transport sessions. </dd></dl>
<dl class="section user"><dt></dt><dd>When <a class="el" href="grptransportlbtrunetwork.html#transportlbtruportsource">transport_lbtru_port (source)</a> is not specified, a newly-created transport session will use an unused port from this range. Receivers that join the source's transport session send connection requests, acknowledgements, and NAKs to the source port. </dd></dl>
<dl class="section user"><dt></dt><dd>See also <a class="el" href="grptransportlbtrunetwork.html#transportlbtruporthighcontext">transport_lbtru_port_high (context)</a>. </dd></dl>
<dl class="section user"><dt></dt><dd>This is the source-side option. For the corresponding receiver option, see <a class="el" href="grptransportlbtrunetwork.html#transportlbtruportlowreceiver">transport_lbtru_port_low (receiver)</a>. </dd></dl>
<dl class="section user"><dt></dt><dd>See <a class="el" href="grptransportlbtrunetwork.html#lbtrutransportsessionmanagement">LBT-RU Transport Session Management</a> for how LBT-RU source transport sessions are managed. </dd></dl>
<dl class="section user"><dt></dt><dd>See <a class="el" href="generalconfigurationguidelines.html#portassignments">Port Assignments</a> for more information about configuring ports.</dd></dl>
<dl class="section user"><dt></dt><dd><table class="doxtable">
<tr>
<td><em>Scope:</em> </td><td>context </td></tr>
<tr>
<td><em>Type:</em> </td><td><b><a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a86897f2fdd66aa7021683a4e72a4537b">lbm_uint16_t</a></b> </td></tr>
<tr>
<td><em>Default value:</em> </td><td>14380 </td></tr>
<tr>
<td><em>Byte order:</em> </td><td>Host </td></tr>
<tr>
<td><em>When to Set:</em> </td><td>Can only be set during object initialization.</td></tr>
</table>
</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="transportlbtruportlowreceiver"></a>
transport_lbtru_port_low (receiver)&nbsp;&nbsp;<small><a href="#transportlbtruportlowreceiver">&lt;-</a></small></h2>
<dl class="section user"><dt></dt><dd>Low port number to use for receiving LBT-RU data. </dd></dl>
<dl class="section user"><dt></dt><dd>This is the receive-side option. For the corresponding source option, see <a class="el" href="grptransportlbtrunetwork.html#transportlbtruportlowcontext">transport_lbtru_port_low (context)</a>. </dd></dl>
<dl class="section user"><dt></dt><dd>When a newly-created receiver joins a source's transport session, it finds a free port from this range, binds to it, and informs the source of the receiver's IP and port. The UM source will send message data to that IP and port. </dd></dl>
<dl class="section user"><dt></dt><dd>Unlike most UM port ranges, if the library is not able to find an unused port in this range, it will log a warning (Core-5688-3300), but instead of failing the receiver creation, it will allocate a port from the host's ephemeral pool and operate normally. Thus, it is possible for a receiver to get messages on a port outside of the configured range. </dd></dl>
<dl class="section user"><dt></dt><dd>See <a class="el" href="generalconfigurationguidelines.html#portassignments">Port Assignments</a> for more information about configuring ports.</dd></dl>
<dl class="section user"><dt></dt><dd><table class="doxtable">
<tr>
<td><em>Scope:</em> </td><td>receiver </td></tr>
<tr>
<td><em>Type:</em> </td><td><b><a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.areas/builds/UMQ_6.16/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a86897f2fdd66aa7021683a4e72a4537b">lbm_uint16_t</a></b> </td></tr>
<tr>
<td><em>Default value:</em> </td><td>14360 </td></tr>
<tr>
<td><em>Byte order:</em> </td><td>Host </td></tr>
<tr>
<td><em>When to Set:</em> </td><td>Can only be set during object initialization.</td></tr>
</table>
</dd></dl>
<p><br />
<br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
