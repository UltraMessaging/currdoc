<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Configuration Guide: XML Configuration Files</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Configuration Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('xmlconfigurationfiles.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">XML Configuration Files </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>XML configuration files let you address many different applications and operating requirements, removing the need to programmatically set and reset options for them. A single XML file can contain options for multiple applications. Moreover, for a single application, you can configure multiple named contexts, event queues, etc., with different values for the same options.</p>
<p>See <a class="el" href="exampleconfigurationscenarios.html">Example Configuration Scenarios</a> for example configuration files.</p>
<p><br />
 </p>
<h1><a class="anchor" id="xmlconfigurationconcepts"></a>
XML Configuration Concepts&nbsp;&nbsp;<small><a href="#xmlconfigurationconcepts">&lt;-</a></small></h1>
<p>The primary motivation for using XML-based configuration is to be able to configure different instances of the same object in different ways. For example, with a single XML configuration file, you can specify different options for different applications. Or, within a given application, you can specify different options for different context objects. Or within a given context, you can specify different options for different topic-based objects (sources and/or receivers). You can do this without the necessity of writing special application code to do it.</p>
<p>Users often have large sets of configuration options that apply to multiple applications or objects. Rather than having to reproduce the entire set for each application or object, <em>templates</em> can be used to give common sets a name that can be referenced in applications or objects in the XML file.</p>
<p>Applications may also override configuration options specified in an XML configuration file, either by using a plain text configuration file, or by using UM's API.</p>
<p>However, it is also possible for the XML configuration file to impose restrictions on the application's ability to override options. Using <a class="el" href="xmlconfigurationfiles.html#umelementallow">&lt;allow&gt;</a> and <a class="el" href="xmlconfigurationfiles.html#umelementdeny">&lt;deny&gt;</a> elements, and the <code>order</code> attribute, XML files can constrain application to using specific values for desired options.</p>
<p><br />
 </p>
<h1><a class="anchor" id="xmlreferencenames"></a>
XML Reference Names&nbsp;&nbsp;<small><a href="#xmlreferencenames">&lt;-</a></small></h1>
<p>Given that XML configuration files are intended to allow different objects to be configured differently, there needs to be a way to identify which object should have which configuration. This is done with application and object names, which the XML file references.</p>
<p>Context names are case-sensitive and can consist of only alpha-numeric ASCII characters, dash (-), and underscore (_). They must be 127 characters or less.</p>
<p>Template and application names are case-sensitive and can consist of any printable ASCII characters. They must be 99 characters or less.</p>
<p>Valid examples: </p><ul>
<li>
<b>abc</b> </li>
<li>
<b>123-abc</b> </li>
<li>
<b>XYZ_xyz</b> </li>
</ul>
<p>Invalid examples: </p><ul>
<li>
<b>abc xyz</b> <em>(no spaces allowed)</em> </li>
<li>
<b>123.abc</b> <em>(no period allowed)</em> </li>
<li>
<b>XYZ,xyz</b> <em>(no comma allowed)</em> </li>
</ul>
<p><br />
 </p>
<h2><a class="anchor" id="xmlobjectnames"></a>
XML Object Names&nbsp;&nbsp;<small><a href="#xmlobjectnames">&lt;-</a></small></h2>
<p>The simplest apps create UM objects without using attribute objects. For example: </p><pre class="fragment">  err = lbm_context_create(&amp;ctx, NULL, NULL, NULL);
</pre><p> Passing NULL for the context attribute object causes UM to simply use the defaults (as possibly modified by a configuration file).</p>
<p>However, if there is a chance that you will want to be able to configure the objects differently, you should create an attribute object using the appropriate "*_attr_create_from_xml()" API, giving it a descriptive name. For example: </p><pre class="fragment">  lbm_context_attr_t *ctx_attr;
  ...
  err = lbm_context_attr_create_from_xml(&amp;ctx_attr, "main_ctx");
  err = lbm_context_create(&amp;ctx, ctx_attr, NULL, NULL);
</pre><p> You can do this even if you do not yet make use of an XML file. If no XML file has been read, that <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a04d99cc97d32f359888c5befcc50512e">lbm_context_attr_create_from_xml()</a> does the same thing as <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a066c0eb289bf4afcefac86a1109fca1e">lbm_context_attr_create()</a>.</p>
<p>However, if an XML file <em>is</em> supplied and it specifies a configuration for a context named "main_ctx", the "*_attr_create_from_xml()" API will first load the attribute object with the default values and will then apply the proper XML defaults to the attribute object. Desired options can then be overridden using the appropriate "*_attr_setopt()" or "*_attr_str_setopt()" APIs.</p>
<p>The full set of XML-enabled attribute creation APIs are: <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a04d99cc97d32f359888c5befcc50512e">lbm_context_attr_create_from_xml()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#adc12814cac6280b5bd48bfde41d7c88a">lbm_src_topic_attr_create_from_xml()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a0427c06f6d62e7401d9a7d1f09c79a2c">lbm_rcv_topic_attr_create_from_xml()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#af85b737d29883af1e7be47a6e9057c6b">lbm_event_queue_attr_create_from_xml()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a12eccde60884c35ac72b772be2aea747">lbm_wildcard_rcv_attr_create_from_xml()</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#aabc739544b1a28481e9b4bc51bb49705">lbm_hfx_attr_create_from_xml()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>It is also possible to call <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a04d99cc97d32f359888c5befcc50512e">lbm_context_attr_create_from_xml()</a> passing NULL as the context name. This matches a XML <a class="el" href="xmlconfigurationfiles.html#umelementcontext">&lt;context&gt;</a> element that has no <code>name</code> attribute. An unnamed "&lt;context&gt;" element only matches unnamed contexts.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="xmlapplicationnames"></a>
XML Application Names&nbsp;&nbsp;<small><a href="#xmlapplicationnames">&lt;-</a></small></h2>
<p>An XML configuration file groups configurations into one or more <a class="el" href="xmlconfigurationfiles.html#umelementapplication">&lt;application&gt;</a> elements. Normally, each <code>&lt;application&gt;</code> is given a unique name, using the "name" attribute. It is also permissible to include an <code>&lt;application&gt;</code> element without a name attribute (the "unnamed" application element).</p>
<p>When an application starts and attempts to use an XML configuration file, the application normally gives UM its name, which UM will match to one of the XML file's <a class="el" href="xmlconfigurationfiles.html#umelementapplication">&lt;application&gt;</a> elements. It is also permissible that the application does not give itself a name, in which case UM will match the unnamed <code>&lt;application&gt;</code> element.</p>
<p>Unlike most XML elements, the <a class="el" href="xmlconfigurationfiles.html#umelementapplications">&lt;applications&gt;</a> element does not have a way to allow applications with names that have no matching application element. For example, let's say the XML file contains: </p><pre class="fragment">&lt;?xml version="1.0" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;applications&gt;
    &lt;application name="app1"&gt;
      ...
    &lt;/application&gt;
    &lt;application name="app2"&gt;
      ...
    &lt;/application&gt;
    &lt;application&gt;
      ...
    &lt;/application&gt;
  &lt;/applications&gt;
&lt;/um-configuration&gt;
</pre><p> If an application starts up and is named "app3", it will fail to initialize. The above file only allows applications named "app1", "app2", and applications that do not set a name. Note that if the unnamed application element is removed from that XML file, then an unnamed application will fail to initialize.</p>
<p>There are several ways to give an application the name that can be referenced by an XML configuration file: </p><ul>
<li>
Set the environment variable LBM_XML_CONFIG_APPNAME. (But be aware that it is ignored if the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#aecac05969bba0d6057589ca03dfe60a2">lbm_config()</a> API is used to read the XML configuration file.) </li>
<li>
Read the XML configuration file using the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#ab1dc9d6fa0a9af0399a61a8d6029cf73">lbm_config_xml_file()</a> API. </li>
<li>
Invoke the UMM feature using the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#aab029e3f210b40f3fded64fec2a27a02">lbm_set_umm_info()</a> API. See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/umm.tag:../UMM/" href="../UMM/index.html#ummanageroverview">UM Manager Overview</a> for more information on UMM. </li>
</ul>
<p>Note that the application name is <em>not</em> related to the executable file name of the program, or the operating system process name. The application name is assigned via one of the above methods only.</p>
<p><br />
 </p>
<h1><a class="anchor" id="orderandrulespecifications"></a>
Order and Rule Specifications&nbsp;&nbsp;<small><a href="#orderandrulespecifications">&lt;-</a></small></h1>
<p>An XML configuration file can constrain how an application may override the values supplied in the XML configuration file. It can also restrict which topics the application may publish and subscribe to. These two use cases are handled slightly differently.</p>
<p><br />
 </p>
<h2><a class="anchor" id="constrainingconfigurationvalues"></a>
Constraining Configuration Values&nbsp;&nbsp;<small><a href="#constrainingconfigurationvalues">&lt;-</a></small></h2>
<p>The way to think of the <code>order</code> attribute in the <a class="el" href="xmlconfigurationfiles.html#umelementoption">&lt;option&gt;</a> element is as follows: </p><ul>
<li>
For order <code>"allow,deny"</code> the XML should contain zero or more values that are allowed. If a user-supplied value doesn't match any of them, it is denied. </li>
<li>
For order <code>"deny,allow"</code> the XML should contain zero or more values that are denied. If a user-supplied value doesn't match any of them, it is allowed. </li>
</ul>
<p>Consider the following fragment of XML: </p><pre class="fragment">  &lt;receivers&gt;
    &lt;topic&gt;
      &lt;options type="receiver"&gt;
        &lt;option name="ordered_delivery" order="deny,allow"&gt;
          &lt;deny&gt;0&lt;/deny&gt;
        &lt;/option&gt;
      &lt;/options&gt;
    &lt;/topic&gt;
  &lt;/receivers&gt;
</pre><p> This prevents the user from setting <a class="el" href="grpmajoroptions.html#ordereddeliveryreceiver">ordered_delivery (receiver)</a> to 0, but allows values 1 and -1. But the values 1 and -1 are not explicitly allowed. The <code>order</code> attribute is set to <code>"deny,allow"</code>, has "allow" as the default behavior if the user-supplied value doesn't match one of "&lt;allow&gt;" or "&lt;deny&gt;" values.</p>
<p>Contrast with this fragment: </p><pre class="fragment">  &lt;receivers&gt;
    &lt;topic&gt;
      &lt;options type="receiver"&gt;
        &lt;option name="ordered_delivery" order="allow,deny"&gt;
          &lt;allow&gt;1&lt;/allow&gt;
        &lt;/option&gt;
      &lt;/options&gt;
    &lt;/topic&gt;
  &lt;/receivers&gt;
</pre><p> This allows the value 1 but denies all others. The <code>order</code> attribute is set to <code>"allow,deny"</code>, has "deny" as the default behavior if the user-supplied value doesn't match one of "&lt;allow&gt;" or "&lt;deny&gt;" values.</p>
<p><br />
 </p>
<h2><a class="anchor" id="restrictingtopics"></a>
Restricting Topics&nbsp;&nbsp;<small><a href="#restrictingtopics">&lt;-</a></small></h2>
<p>Consider the following fragment of XML: </p><pre class="fragment">  &lt;receivers order="allow,deny"&gt;
    &lt;topic topicname="general_info" rule="allow"/&gt;
    &lt;topic topicname="alerts" rule="allow"/&gt;
  &lt;/receivers&gt;
</pre><p> This allows the application to create receivers for topics "general_info" and "alerts" and disallows all others. The <code>order</code> attribute is set to <code>"allow,deny"</code>, has "deny" as the default behavior if the user-supplied topic doesn't match one of "&lt;allow&gt;" or "&lt;deny&gt;" values.</p>
<p>Contrast with this fragment: </p><pre class="fragment">  &lt;receivers order="deny,allow"&gt;
    &lt;topic topicname="authorize" rule="deny"/&gt;
  &lt;/receivers&gt;
</pre><p> This allows the application to subscribe to any topic except "authorize". The <code>order</code> attribute is set to <code>"deny,allow"</code>, has "allow" as the default behavior if the user-supplied value doesn't match one of "&lt;allow&gt;" or "&lt;deny&gt;" values.</p>
<dl class="section warning"><dt>Warning</dt><dd>With the above <code>&lt;topic&gt;</code> elements, an application can bypass the intended restrictions by using a wildcard receiver, perhaps with the pattern ".*". This allows the application to effectively subscribe to all topics. The <code>&lt;topic&gt;</code> elements do not restrict wildcard receivers.</dd></dl>
<p>Since wildcard patterns can be complex, users who wish to restrict applications should either disallow wildcard receivers, or carefully constrain them. For example: </p><pre class="fragment">  &lt;receivers order="deny,allow"&gt;
    &lt;topic topicname="authorize" rule="deny"/&gt;
  &lt;/receivers&gt;
  &lt;wildcard-receivers order="allow,deny"&gt;
    &lt;wildcard-receiver pattern="^abc.*$" rule="allow"/&gt;
    &lt;wildcard-receiver pattern="^xyz.*$" rule="allow"/&gt;
  &lt;/wildcard-receivers&gt;
</pre><p> This allows the application to create any single-topic receiver except for the topic "authorize", and it allows two patterns for wildcard receivers (neither of which will match the topic "authorize").</p>
<p>Another, more-restrictive example: </p><pre class="fragment">  &lt;receivers order="allow,deny"&gt;
    &lt;topic topicname="general_info" rule="allow"/&gt;
    &lt;topic topicname="alerts" rule="allow"/&gt;
  &lt;/receivers&gt;
  &lt;wildcard-receivers order="allow,deny"/&gt;
</pre><p> This only allows the application to subscribe to the two topics "general_info" and "alerts", and it completely disallows any wildcard receivers.</p>
<p><br />
 </p>
<h2><a class="anchor" id="overlappingtopics"></a>
Overlapping Topics&nbsp;&nbsp;<small><a href="#overlappingtopics">&lt;-</a></small></h2>
<p>There are some use cases where a special property of the <code>order</code> attribute is useful: the order in which <code>allow</code> and <code>deny</code> rules are applied. When multiple <a class="el" href="xmlconfigurationfiles.html#umelementtopic">&lt;topic&gt;</a> elements match a given topic name due to overlapping wildcard patterns, the order of applying the rules can be important to obtain the desired behavior.</p>
<p>Consider this example: </p><pre class="fragment">  &lt;receivers order="deny,allow"&gt;
    &lt;topic pattern="^trade" rule="deny"/&gt;
    &lt;topic pattern="^trade\.NASD" rule="allow"/&gt;
  &lt;/receivers&gt;
</pre><p> Let's assume that the application subscribes to "trade.NASD.xyz". This matches both patterns. By ordering the patterns as deny first, followed by allow, the <em>last</em> match is allow, which allows the topic to be created. The last rule to match determines the permission.</p>
<p>Whereas subscribing to "trade.abc.xyz" will only match the deny, and will be prevented.</p>
<p>Also note that subscribing to "quote", which does not match either topic, follows the default rule, which is allow.</p>
<p>So the above XML allows all non-trade subscriptions, but only allows NASD trade subscriptions.</p>
<p>Contrast with this example: </p><pre class="fragment">  &lt;receivers order="allow,deny"&gt;
    &lt;topic pattern="^trade" rule="allow"/&gt;
    &lt;topic pattern="^trade\.NASD" rule="deny"/&gt;
  &lt;/receivers&gt;
</pre><p> Let's again assume that the application subscribes to "trade.NASD.xyz". This also matches both patterns, but in this case the allows are first and the denies are last. Thus, "trade.NASD.xyz" is prevented.</p>
<p>So while the previous example only allowed NASD trades, this example allows any trades <em>except</em> NASD.</p>
<p>Also note that subscribing to "quote", which does not match either topic, follows the default rule, which is deny.</p>
<p><br />
 </p>
<h1><a class="anchor" id="umdefaultvalues"></a>
UM Default Values&nbsp;&nbsp;<small><a href="#umdefaultvalues">&lt;-</a></small></h1>
<p>The following examples will help to illustrate how UM defaults work. In the code fragments shown, the UM API calls shown are assumed to be the first UM API calls made since the process started.</p>
<p><b>No Attribute Object, No Config File</b></p>
<p>test.c: </p><pre class="fragment">  err = lbm_context_create(&amp;ctx, NULL, NULL, NULL);
  /* The context has request_tcp_port_low = 14393 (factory default) */
</pre><ol>
<li>
When UM initializes, the "factory defaults" are copied to the process-global internal attribute objects. </li>
<li>
In the call to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a8058947690bd0995bc2c59d4a61b462f">lbm_context_create()</a>, setting the <code>"attr"</code> parameter to NULL causes UM to use the process-global internal context attribute object to create the context. </li>
</ol>
<p><b>No Attribute Object, Plain Text Configuration File</b></p>
<p>test.cfg: </p><pre class="fragment">context request_tcp_port_low 12000
</pre><p>test.c: </p><pre class="fragment">  err = lbm_config("test.cfg");
  err = lbm_context_create(&amp;ctx, NULL, NULL, NULL);
  /* The context has request_tcp_port_low = 12000 */
</pre><ol>
<li>
When UM initializes, the "factory defaults" are copied to the process-global internal attribute objects. </li>
<li>
The call to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#aecac05969bba0d6057589ca03dfe60a2">lbm_config()</a> reads the options in the file "test.cfg" and applies them to the process-global internal attribute objects. This overrides the factory default for <a class="el" href="grpunicastimmediatemessagingnetwork.html#requesttcpportlowcontext">request_tcp_port_low (context)</a>. </li>
<li>
In the call to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a8058947690bd0995bc2c59d4a61b462f">lbm_context_create()</a>, setting the <code>"attr"</code> parameter to NULL causes UM to use the process-global internal context attribute object to create the context. </li>
</ol>
<p><b>Attribute Object, Plain Text Configuration File</b></p>
<p>test.cfg: </p><pre class="fragment">context request_tcp_port_low 12000
</pre><p>test.c: </p><pre class="fragment">  err = lbm_config("test.cfg");
  err = lbm_context_attr_create(&amp;ctx_attr);
  err = lbm_context_create(&amp;ctx, ctx_attr, NULL, NULL);
  /* The context has request_tcp_port_low = 12000 */
</pre><ol>
<li>
When UM initializes, the "factory defaults" are copied to the process-global internal attribute objects. </li>
<li>
The call to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#aecac05969bba0d6057589ca03dfe60a2">lbm_config()</a> reads the options in the file "test.cfg" and applies them to the process-global internal attribute objects. This overrides the factory default for <a class="el" href="grpunicastimmediatemessagingnetwork.html#requesttcpportlowcontext">request_tcp_port_low (context)</a>. </li>
<li>
The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a066c0eb289bf4afcefac86a1109fca1e">lbm_context_attr_create()</a> API copies the process-global internal context attribute object, with the overridden <a class="el" href="grpunicastimmediatemessagingnetwork.html#requesttcpportlowcontext">request_tcp_port_low (context)</a>. </li>
<li>
The call to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a8058947690bd0995bc2c59d4a61b462f">lbm_context_create()</a> passes the attribute object with the overridden <a class="el" href="grpunicastimmediatemessagingnetwork.html#requesttcpportlowcontext">request_tcp_port_low (context)</a>. </li>
</ol>
<dl class="section note"><dt>Note</dt><dd>The use of <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a066c0eb289bf4afcefac86a1109fca1e">lbm_context_attr_create()</a> is not recommended. See next example.</dd></dl>
<p><b>Attribute Object, Plain Text and XML Configuration Files</b></p>
<p>In this example, the user intends the default for <a class="el" href="grpunicastimmediatemessagingnetwork.html#requesttcpportlowcontext">request_tcp_port_low (context)</a> to be overridden to 13000, but there's a problem.</p>
<p>test.xml: </p><pre class="fragment">&lt;?xml version="1.0" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;applications&gt;
    &lt;application&gt;
      &lt;contexts&gt;
        &lt;context&gt;
          &lt;options type="context"&gt;
            &lt;option name="request_tcp_port_low" default-value="13000"&gt;
            &lt;/option&gt;
          &lt;/options&gt;
        &lt;/context&gt;
      &lt;/contexts&gt;
    &lt;/application&gt;
  &lt;/applications&gt;
&lt;/um-configuration&gt;
</pre><p>test.cfg: </p><pre class="fragment">  context request_tcp_port_low 12000
</pre><p>test.c: </p><pre class="fragment">  err = lbm_config_xml_file("test.xml", NULL);
  err = lbm_config("test.cfg");
  err = lbm_context_attr_create(&amp;ctx_attr);
  err = lbm_context_create(&amp;ctx, ctx_attr, NULL, NULL);
  /* The context has request_tcp_port_low = 12000!! */
</pre><ol>
<li>
When UM initializes, the "factory defaults" are copied to the process-global internal attribute objects. </li>
<li>
The call to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#ab1dc9d6fa0a9af0399a61a8d6029cf73">lbm_config_xml_file()</a> reads the elements in the file "test.xml" and stores them internally. Note that <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#ab1dc9d6fa0a9af0399a61a8d6029cf73">lbm_config_xml_file()</a> <em>does not modify</em> the process-global internal attribute objects. </li>
<li>
The call to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#aecac05969bba0d6057589ca03dfe60a2">lbm_config()</a> reads the options in the file "test.cfg" and applies them to the process-global internal attribute objects. This overrides the factory default for <a class="el" href="grpunicastimmediatemessagingnetwork.html#requesttcpportlowcontext">request_tcp_port_low (context)</a> with 12000. </li>
<li>
The <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a066c0eb289bf4afcefac86a1109fca1e">lbm_context_attr_create()</a> API copies the process-global internal context attribute object, with the overridden <a class="el" href="grpunicastimmediatemessagingnetwork.html#requesttcpportlowcontext">request_tcp_port_low (context)</a>. Note that the XML default is <em>not applied</em> when the attribute object is created using <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a066c0eb289bf4afcefac86a1109fca1e">lbm_context_attr_create()</a>. </li>
<li>
The call to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a8058947690bd0995bc2c59d4a61b462f">lbm_context_create()</a> passes the attribute object with the overridden <a class="el" href="grpunicastimmediatemessagingnetwork.html#requesttcpportlowcontext">request_tcp_port_low (context)</a> of 12000. </li>
</ol>
<p>In this example, the use of <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a066c0eb289bf4afcefac86a1109fca1e">lbm_context_attr_create()</a> resulted in the <em>XML file's default being ignored</em>. However, see the next example.</p>
<p><b>Attribute Object, Plain Text and XML Configuration Files, Plus Restriction</b></p>
<p>In this example, the application is constrained to only allow 12000.</p>
<p>test.xml: </p><pre class="fragment">&lt;?xml version="1.0" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;applications&gt;
    &lt;application&gt;
      &lt;contexts&gt;
        &lt;context&gt;
          &lt;options type="context"&gt;
            &lt;option name="request_tcp_port_low" default-value="13000"
                    order="allow,deny"&gt;
              &lt;allow&gt;13000&lt;/allow&gt;
            &lt;/option&gt;
          &lt;/options&gt;
        &lt;/context&gt;
      &lt;/contexts&gt;
    &lt;/application&gt;
  &lt;/applications&gt;
&lt;/um-configuration&gt;
</pre><p>test.cfg: </p><pre class="fragment">  context request_tcp_port_low 12000
</pre><p>test.c: </p><pre class="fragment">  err = lbm_config_xml_file("test.xml", NULL);
  err = lbm_config("test.cfg");
  err = lbm_context_attr_create(&amp;ctx_attr);
  err = lbm_context_create(&amp;ctx, ctx_attr, NULL, NULL);
  /* ERROR RETURNED! */
</pre><p>As with the previous example, the default value supplied in the XML configuration file is ignored due to the use of <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a066c0eb289bf4afcefac86a1109fca1e">lbm_context_attr_create()</a>. However, the XML file's restrictions applied by <code>order="allow,deny"</code> and <code>&lt;allow&gt;13000&lt;/allow&gt;</code> <em>are</em> applied at object creation time. Since only 13000 is allowed, but 12000 was attempted, the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a8058947690bd0995bc2c59d4a61b462f">lbm_context_create()</a> API fails.</p>
<p><b>Attribute Object From XML, Plain Text and XML Configuration Files, Plus Restriction</b></p>
<p>test.xml: </p><pre class="fragment">&lt;?xml version="1.0" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;applications&gt;
    &lt;application&gt;
      &lt;contexts&gt;
        &lt;context&gt;
          &lt;options type="context"&gt;
            &lt;option name="request_tcp_port_low" default-value="13000"
                    order="allow,deny"&gt;
              &lt;allow&gt;13000&lt;/allow&gt;
            &lt;/option&gt;
          &lt;/options&gt;
        &lt;/context&gt;
      &lt;/contexts&gt;
    &lt;/application&gt;
  &lt;/applications&gt;
&lt;/um-configuration&gt;
</pre><p>test.cfg: </p><pre class="fragment">  context request_tcp_port_low 12000
</pre><p>test.c: </p><pre class="fragment">  err = lbm_config_xml_file("test.xml", NULL);
  err = lbm_config("test.cfg");
  err = lbm_context_attr_create_from_xml(&amp;ctx_attr, NULL);
  err = lbm_context_create(&amp;ctx, ctx_attr, NULL, NULL);
  /* The context has request_tcp_port_low = 13000 */
</pre><p>In this example, the attribute object is created using the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a04d99cc97d32f359888c5befcc50512e">lbm_context_attr_create_from_xml()</a> API. It is created without a name, and therefore matches the "&lt;context&gt;" option that has no <code>name</code> attribute. This allows the <code>default-value</code> attribute to override the default present in the internal process-global context attribute object. So the call to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a8058947690bd0995bc2c59d4a61b462f">lbm_context_create()</a> succeeds.</p>
<p>Note that if the plain text configuration file "test.cfg" had other UM options set, those overridden defaults would have appeared in the attribute object created by <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a04d99cc97d32f359888c5befcc50512e">lbm_context_attr_create_from_xml()</a>.</p>
<p><b>Named Attribute Object, XML Configuration File</b></p>
<p>In this example, the context is named.</p>
<p>test.xml: </p><pre class="fragment">&lt;?xml version="1.0" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;applications&gt;
    &lt;application name="App1"&gt;
      &lt;contexts&gt;
        &lt;context name="MainCtx"&gt;
          &lt;options type="context"&gt;
            &lt;option name="request_tcp_port_low" default-value="13000"
                    order="allow,deny"&gt;
              &lt;allow&gt;13000&lt;/allow&gt;
            &lt;/option&gt;
          &lt;/options&gt;
        &lt;/context&gt;
      &lt;/contexts&gt;
    &lt;/application&gt;
  &lt;/applications&gt;
&lt;/um-configuration&gt;
</pre><p>test.c: </p><pre class="fragment">  err = lbm_config_xml_file("test.xml", "App1");
  err = lbm_context_attr_create_from_xml(&amp;ctx_attr, "MainCtx");
  err = lbm_context_create(&amp;ctx, ctx_attr, NULL, NULL);
</pre><p>In this example, the application and context names are specified and matched in the XML file. This is the recommended way of using UM. In fact, even if no XML file is used at all, the <code>*_attr_create_from_xml()</code> APIs are recommended to be used, and descriptive names supplied. This "future-proofs" your code so that flexible XML configurations can be added later on without needing to change your source code.</p>
<p><br />
 </p>
<h1><a class="anchor" id="readingxmlconfigurationfiles"></a>
Reading XML Configuration Files&nbsp;&nbsp;<small><a href="#readingxmlconfigurationfiles">&lt;-</a></small></h1>
<p>There are multiple ways to read an XML configuration file to assign values while creating a primitive object.</p>
<dl class="section user"><dt><b>API</b> <b>function</b> <b>lbm_config_xml_file</b>()</dt><dd>Reads an XML configuration file into XML config table. Call this before the primitive create API. This does not change the current default attributes. Use a file path, or a URL beginning with <a href="http://">http://</a> or <a href="ftp://">ftp://</a>.</dd></dl>
<dl class="section user"><dt><b>API</b> <b>function</b> <b>lbm_config_xml_string</b>()</dt><dd>Populates the XML config table directly from your application. Call this before the primitive create API. This does not change the current default attributes.</dd></dl>
<dl class="section user"><dt><b>API</b> <b>function</b> <b>lbm_*_attr_create_from_XML</b>()</dt><dd>Creates a custom attributes object containing the values from an XML configuration file. The values can then be applied to a primitive object being created by calling API "lbm_*_create()" and specifying this custom attributes object in the second parameter.</dd></dl>
<dl class="section user"><dt><b>Environment</b> <b>variable</b> <b>LBM_XML_CONFIG_FILENAME</b> </dt><dd>Reads the file into the XML config table. These settings are then available to all applications when they start. Use a file path, or a URL beginning with <a href="http://">http://</a> or <a href="ftp://">ftp://</a>.</dd></dl>
<dl class="section user"><dt><b>Environment</b> <b>variable</b> <b>LBM_XML_CONFIG_APPNAME</b> </dt><dd>Reads options for a specific application from the LBM_XML_CONFIG_FILENAME variable's filename. This initiates the specified application's configuration; set this environment variable for every application. Note that this variable is ignored if the XML configuration file is read using the <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#aecac05969bba0d6057589ca03dfe60a2">lbm_config()</a> API.</dd></dl>
<dl class="section user"><dt><b>Environment</b> <b>variable</b> <b>LBM_UMM_INFO</b> </dt><dd>Initiates UMM Daemon to read options for an application and user from the LBM_XML_CONFIG_FILENAME variable's filename. Set this variable for every application/user combination, in the following format:</dd></dl>
<pre class="fragment">export LBM_UMM_INFO=application_name:user_name:password@ip:port
</pre><dl class="section note"><dt>Note</dt><dd>Since you can use these API functions and environment variables without the UMM Daemon, you cannot set a username or password.</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="usingxmlconfigurationfileswithaumapplication"></a>
Using XML Configuration Files With a UM Application&nbsp;&nbsp;<small><a href="#usingxmlconfigurationfileswithaumapplication">&lt;-</a></small></h1>
<p>The following procedure describes a general approach to implementing XML configuration files.</p>
<ol>
<li>
<p class="startli">Create an XML configuration file using an XML editor or text editor. Just for this example, name the file, UM_CONFIG.XML.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Insert any desired templates in the <b>&lt;templates&gt;</b> element to hold configuration option values shared by multiple applications or primitive UM objects (context, source, receiver, wildcard receiver or event queue). You can create and apply multiple templates to applications and primitive UM objects, however, if the same option appears in multiple templates, the option value in the last template overrides the option value in the previous template. See <a class="el" href="xmlconfigurationfiles.html#umelementtemplates">&lt;templates&gt;</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Insert an <b>&lt;application&gt;</b> element for your UM application in the <b>&lt;applications&gt;</b> element and include any relevant templates created in the previous step. Just for this example, name the application, SENDAPP. See <code> <a class="el" href="xmlconfigurationfiles.html#umelementapplications">&lt;applications&gt;.</a> </code></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Within the <b>&lt;contexts&gt;</b> element, configure the application's <b>&lt;context&gt;</b> element and context options. And since our example application, SENDAPP is a sending application, also configure its Source options. (If this was a receiving application, you would configure Receiver or Wildcard Receiver options. If your application creates multiple Contexts, enter multiple <b>&lt;context&gt;</b> elements within the <b>&lt;contexts&gt;</b> element, inserting the appropriate source, receiver or wildcard receiver options. See <code> <a class="el" href="xmlconfigurationfiles.html#umelementcontexts">&lt;contexts&gt;.</a> </code></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Configure the applications Event Queue options. See <a class="el" href="xmlconfigurationfiles.html#umelementeventqueues">&lt;event-queues&gt;</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Save the XML configuration file, UM_CONFIG.XML, and load it onto the machine where the application (SENDAPP) runs.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Have the application (SENDAPP) read the XML file. The preferred way to do this is via API call to <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#ab1dc9d6fa0a9af0399a61a8d6029cf73">lbm_config_xml_file()</a>. However, if it is not possible to modify the application's code, set the following environment variables:</p>
<ul>
<li>
Set LBM_XML_CONFIG_FILENAME to UM_CONFIG.XML. </li>
<li>
Set LBM_XML_CONFIG_APPNAME to SENDAPP. </li>
</ul>
<p class="endli"></p>
</li>
<li>
Start SENDAPP. </li>
</ol>
<p><br />
 </p>
<h1><a class="anchor" id="xmlconfigurationfileformat"></a>
XML Configuration File Format&nbsp;&nbsp;<small><a href="#xmlconfigurationfileformat">&lt;-</a></small></h1>
<p>A UM XML Configuration File follows standard XML conventions. The first line should be: </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
</pre><p> followed by UM elements.</p>
<p>An XML configuration file generally comprises two primary elements: templates and applications. Organized and contained within these are option value assignments. Applications containers let you set options for specific applications. To provide more global control over applications, or to simply reduce repetition, you can create templates to hold option settings that are to be used in one or more different applications.</p>
<p>XML configuration files use the high-level structure shown in the following example. This example includes only some container elements, and no options.</p>
<pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="Sending"&gt;
      &lt;options type="source"&gt;
      &lt;/options&gt;
      &lt;options type="context"&gt;
      &lt;/options&gt;
    &lt;/template&gt;
  &lt;/templates&gt;
  &lt;applications&gt;
    &lt;application name="Sending-Topic1"&gt;
      &lt;contexts&gt;
        &lt;context name="Sending-LBTRM"&gt;
          &lt;sources&gt;
            &lt;topic topicname="Topic1"&gt;
              &lt;options type="source"&gt;
              &lt;/options&gt;
            &lt;/topic&gt;
          &lt;/sources&gt;
        &lt;/context&gt;
      &lt;/contexts&gt;
      &lt;event-queues&gt;
        &lt;event-queue/&gt;
        &lt;event-queue name="EQ-1"/&gt;
      &lt;/event-queues&gt;
    &lt;/application&gt;
  &lt;/applications&gt;
&lt;/um-configuration&gt;
</pre><p><br />
 </p>
<h1><a class="anchor" id="mergingmultiplexmlconfigurationfiles"></a>
Merging Multiple XML Configuration Files&nbsp;&nbsp;<small><a href="#mergingmultiplexmlconfigurationfiles">&lt;-</a></small></h1>
<p>For UM XML configuration files and UMP store daemon XML configuration files, you can use the XInclude mechanism to merge multiple configuration files.</p>
<p>To include an external file, use the following syntax:</p>
<pre class="fragment">&lt;xi:include xmlns:xi=http://www.w3.org/2003/XInclude" href="filename.xml" /&gt;
</pre><p>Files to be included must be formatted such that all elements are enclosed in a single container element, as shown in the following examples:</p>
<p><b>Example</b> <b>1</b> </p>
<pre class="fragment">&lt;ume-attributes&gt;
  &lt;option type="store" name="allow-proxy-source" value="1"/&gt;
  &lt;option type="lbm-context" name="resolver_multicast_address" value="239.255.38.0" /&gt;
  &lt;option type="lbm-context" name="resolver_multicast_port" value="19999" /&gt;
&lt;/ume-attributes&gt;
</pre><p><b>Example</b> <b>2</b> </p>
<pre class="fragment">&lt;topics&gt;
  &lt;topic pattern="." type="PCRE"&gt;
    &lt;ume-attributes&gt;
      &lt;option type="store" name="repository-type" value="disk"/&gt;
      &lt;option type="store" name="retransmission-request-forwarding" value="0"/&gt;
    &lt;/ume-attributes&gt;
  &lt;/topic&gt;
&lt;/topics&gt;
</pre><p><br />
 </p>
<h1><a class="anchor" id="xmlconfigurationfileelements"></a>
XML Configuration File Elements&nbsp;&nbsp;<small><a href="#xmlconfigurationfileelements">&lt;-</a></small></h1>
<p>Here's a "cheat sheet" showing all of the XML elements.</p>
<pre class="fragment">&lt;um-configuration&gt;
  &lt;license format="..."&gt;...&lt;/license&gt;

  &lt;templates&gt;
    &lt;template name="..."&gt;
      &lt;options type="..."&gt;
        &lt;option name="..." default-value="..." order="..."&gt;
          &lt;allow&gt;...&lt;/allow&gt;
          &lt;deny&gt;...&lt;/deny&gt;
        &lt;/option&gt;
      &lt;/options&gt;
    &lt;/template&gt;
  &lt;/templates&gt;

  &lt;applications&gt;
    &lt;application name="..." template="..."&gt;
      &lt;contexts order="..." template="..."&gt;
        &lt;context name="..." template="..." rule="..."&gt;
          &lt;options ...&gt;...&lt;/options&gt;    (see templates for expansion)

          &lt;sources template="..." order="..."&gt;
            &lt;topic template="..." rule="..." topicname="..." pattern="..."&gt;
              &lt;options ...&gt;...&lt;/options&gt;    (see templates for expansion)
            &lt;/topic&gt;
          &lt;/sources&gt;

          &lt;receivers order="..." template="..."&gt;
            &lt;topic template="..." rule="..." topicname="..." pattern="..."&gt;
              &lt;options ...&gt;...&lt;/options&gt;    (see templates for expansion)
            &lt;/topic&gt;
          &lt;/receivers&gt;

          &lt;wildcard-receivers template="..." order="..."&gt;
            &lt;wildcard-receiver template="..." rule="..." pattern="..." pattern-type="..."&gt;
              &lt;options ...&gt;...&lt;/options&gt;    (see templates for expansion)
            &lt;/wildcard-receiver&gt;
          &lt;/wildcard-receivers&gt;
      &lt;/context&gt; &lt;/contexts&gt;

      &lt;hfxs template="..." order="..."&gt;
        &lt;topic template="..." rule="..." topicname="..." pattern="..."&gt;
          &lt;options ...&gt;...&lt;/options&gt;    (see templates for expansion)
        &lt;/topic&gt;
      &lt;/hfxs&gt;

      &lt;event-queues template="..." order="..."&gt;
        &lt;event-queue name="..." template="..." rule="..."&gt;
          &lt;options ...&gt;...&lt;/options&gt;    (see templates for expansion)
        &lt;/event-queue&gt;
      &lt;/event-queues&gt;

    &lt;/application&gt;
  &lt;/applications&gt;
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementumconfiguration"></a>
UM Element "&lt;um-configuration&gt;"&nbsp;&nbsp;<small><a href="#umelementumconfiguration">&lt;-</a></small></h2>
<p>Container element that holds the UM configuration. Also defines the version of the configuration format used by the file.</p>
<ul>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementlicense">&lt;license&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementtemplates">&lt;templates&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementapplications">&lt;applications&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>version</b> </td><td>Version number of user's configuration file. </td><td>string </td><td><b>1.0</b> </td></tr>
</table>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementapplications"></a>
UM Element "&lt;applications&gt;"&nbsp;&nbsp;<small><a href="#umelementapplications">&lt;-</a></small></h2>
<p>Container element that holds the configurations for different applications.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementumconfiguration">&lt;um-configuration&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementapplication">&lt;application&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;applications&gt;
    ...
  &lt;/applications&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementapplication"></a>
UM Element "&lt;application&gt;"&nbsp;&nbsp;<small><a href="#umelementapplication">&lt;-</a></small></h2>
<p>Container element that holds the configuration for a specific application.</p>
<dl class="section note"><dt>Note</dt><dd>Applications that set a name which is not included by any <code>&lt;application&gt;</code> element will fail. There is no "default" <code>&lt;application&gt;</code> element that allows and configures applications with non-matching names.</dd></dl>
<ul>
<li>
<b>Cardinality:</b> 0 .. unbounded </li>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementapplications">&lt;applications&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementcontexts">&lt;contexts&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementeventqueues">&lt;event-queues&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementhfxs">&lt;hfxs&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementapplicationdata">&lt;application-data&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>name</b> </td><td>A case-sensitive label which UM matches to an application's assigned name. An application is typically assigned a name via API, e.g. <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#ab1dc9d6fa0a9af0399a61a8d6029cf73">lbm_config_xml_file()</a>, or by environment variable, LBM_XML_CONFIG_APPNAME. See <a class="el" href="xmlconfigurationfiles.html#xmlreferencenames">XML Reference Names</a> for more information. </td><td>string </td><td>(If omitted, matches applications that don't set a name.) </td></tr>
<tr>
<td><b>template</b> </td><td>A case-sensitive label which UM matches to a template's assigned name. </td><td>string </td><td>(If omitted, no template is applied.) </td></tr>
</table>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="FIX_Config.Prod"&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  &lt;applications&gt;
    &lt;application name="FIX.01" template="FIX_Config.Prod"&gt;
      ...
    &lt;/application&gt;
    ...
  &lt;/applications&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementapplicationdata"></a>
UM Element "&lt;application-data&gt;"&nbsp;&nbsp;<small><a href="#umelementapplicationdata">&lt;-</a></small></h2>
<p>Free-form text comment field. <b>Deprecated; do not use.</b></p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementoptions">&lt;options&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementapplication">&lt;application&gt;</a> </li>
<li>
<b>Default</b> <b>Value:</b> Deprecated; do not use. </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. </td><td><b><code>"default"</code></b> - Trim leading and trailing whitespace, and compress multiple whitespace characters into a single space. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p>Deprecated; do not use.</p>
<hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementhfxs"></a>
UM Element "&lt;hfxs&gt;"&nbsp;&nbsp;<small><a href="#umelementhfxs">&lt;-</a></small></h2>
<p>Container element that holds the configuration for HFX objects. The contained <a class="el" href="xmlconfigurationfiles.html#umelementtopic">&lt;topic&gt;</a> elements are matched by topic to the HFX objects created by the application. The <code>order="..."</code> attribute is used to constrain the application's access to topics. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a> for details.</p>
<p>See <a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/design.tag:../Design/" href="../Design/fundamentalconcepts.html#umhotfailoveracrosscontextsobjects">UM Hot Failover Across Contexts Objects</a> for more information on HFX.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementapplication">&lt;application&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementtopic">&lt;topic&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>template</b> </td><td>A case-sensitive label which UM matches to a template's assigned name. </td><td>string </td><td>(If omitted, no template is applied.) </td></tr>
<tr>
<td><b>order</b> </td><td>Valid values are "deny,allow" and "allow,deny". Used to control how HFX usage is restricted. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a> and <a class="el" href="xmlconfigurationfiles.html#overlappingtopics">Overlapping Topics</a>. </td><td>string </td><td>"deny,allow" </td></tr>
</table>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="FIX_Config.Prod"&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  &lt;applications&gt;
    &lt;application name="FIX.01" template="FIX_Config.Prod"&gt;
      &lt;hfxs template="FIX_Config.Prod" order="deny,allow"&gt;
        ...
      &lt;/hfxs&gt;
      ...
    &lt;/application&gt;
    ...
  &lt;/applications&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementtopic"></a>
UM Element "&lt;topic&gt;"&nbsp;&nbsp;<small><a href="#umelementtopic">&lt;-</a></small></h2>
<p>Used to match UM objects (sources, receivers, HFX receivers) by their topic names, and control their use and configuration. The attributes <code>topicname</code> and <code>pattern</code> are mutually exclusive; you may not supply both.</p>
<dl class="section warning"><dt>Warning</dt><dd>If the <code>rule</code> attribute is being used to restrict the application's receivers, remember that wildcard receivers must also be restricted. For example, if the application must be prevented from subscribing to the "authorize" topic, it is not enough to use: <pre class="fragment">  &lt;topic topicname="authorize" rule="deny"/&gt;
</pre> Wildcards must also be limited or forbidden. For example, to forbid all wildcard receivers: <pre class="fragment">  &lt;wildcard-receivers order="allow,deny"/&gt;
</pre></dd></dl>
<ul>
<li>
<b>Cardinality:</b> 0 .. unbounded </li>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementhfxs">&lt;hfxs&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementsources">&lt;sources&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementreceivers">&lt;receivers&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementoptions">&lt;options&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>template</b> </td><td>A case-sensitive label which UM matches to a template's assigned name. </td><td>string </td><td>(If omitted, no template is applied.) </td></tr>
<tr>
<td><b>rule</b> </td><td>Used to restrict the usage of topics. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a>. Note that a particular object might match more than one <code>&lt;topic&gt;</code> element due to overlapping pattern matching. See <a class="el" href="xmlconfigurationfiles.html#overlappingtopics">Overlapping Topics</a>. </td><td><b><code>"allow"</code></b> - Permit the matching topic. <br />
<b><code>"deny"</code></b> - Prevent the matching topic. </td><td><code>allow</code> </td></tr>
<tr>
<td><b>pattern</b> </td><td>Regular expression to match against the topic name of the application object being created. </td><td>string </td><td>(no default; either <code>topicname</code> or <code>pattern</code> must be specified) </td></tr>
<tr>
<td><b>topicname</b> </td><td>Name of topic to match against the application object being created. Requires exact match. </td><td>string </td><td>(no default; either <code>topicname</code> or <code>pattern</code> must be specified) </td></tr>
</table>
<p><b>Example:</b> </p>
<pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="FIX_Config.Prod"&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  &lt;applications&gt;
    &lt;application name="FIX.01" template="FIX_Config.Prod"&gt;
      &lt;hfxs order="deny,allow"&gt;
        &lt;topic template="FIX_Config.Prod" topicname="Orders" rule="deny"\&gt;
        ...
      &lt;/hfxs&gt;
      ...
    &lt;/application&gt;
    ...
  &lt;/applications&gt;
    ...
  &lt;/hfxs&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementoptions"></a>
UM Element "&lt;options&gt;"&nbsp;&nbsp;<small><a href="#umelementoptions">&lt;-</a></small></h2>
<p>Container element that holds a set of UM options of a specific scope (context, source, etc.).</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. unbounded </li>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementtemplate">&lt;template&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementeventqueue">&lt;event-queue&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementcontext">&lt;context&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementtopic">&lt;topic&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementwildcardreceiver">&lt;wildcard-receiver&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementoption">&lt;option&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementapplicationdata">&lt;application-data&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>type</b> </td><td>UM configuration scope of the <code>&lt;option&gt;</code> elements contained within this <code>&lt;options&gt;</code> element. </td><td><b><code>"event-queue"</code></b> - Event queue scope options. <br />
<b><code>"context"</code></b> - Context scope options. <br />
<b><code>"source"</code></b> - Source scope options. <br />
<b><code>"receiver"</code></b> - Receiver scope options. <br />
<b><code>"wildcard-receiver"</code></b> - Wildcard receiver scope options. <br />
<b><code>"hfx"</code></b> - HFX scope options. </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p>
<p>The <code>&lt;options&gt;</code> element can be contained within many other elements. This example only shows it used within the <a class="el" href="xmlconfigurationfiles.html#umelementtemplate">&lt;template&gt;</a> element, but its syntax and usage is the same when used elsewhere. </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="FIX_Config.Prod"&gt;
      &lt;options type="context"&gt;
        ...
      &lt;/options&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementoption"></a>
UM Element "&lt;option&gt;"&nbsp;&nbsp;<small><a href="#umelementoption">&lt;-</a></small></h2>
<p>Configure a specific configuration option. The contained <code>&lt;allow&gt;</code> and <code>&lt;deny&gt;</code> elements are used to allow the XML file to constrain how the application may override the option's value. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a> for details.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementoptions">&lt;options&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementallow">&lt;allow&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementdeny">&lt;deny&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>name</b> </td><td>Option name. </td><td>string </td><td>(no default; must be specified) </td></tr>
<tr>
<td><b>default-value</b> </td><td>Value to set the option. </td><td>string </td><td>(if omitted, the option's default value is not changed.) </td></tr>
<tr>
<td><b>order</b> </td><td>Valid values are "deny,allow" and "allow,deny". Used to control how option values are restricted. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a>. </td><td>string </td><td>"deny,allow" </td></tr>
</table>
<p><b>Example:</b> </p>
<p>The <code>&lt;options&gt;</code> element can be contained within many other elements. This example only shows it used within the <a class="el" href="xmlconfigurationfiles.html#umelementtemplate">&lt;template&gt;</a> element, but its syntax and usage is the same when used elsewhere. </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="FIX_Config.Prod"&gt;
      &lt;options type="context"&gt;
        &lt;option name="default_interface" default-value="10.1.2.3" order="deny,allow"&gt;
          ...
        &lt;/option&gt;
        ...
      &lt;/options&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementdeny"></a>
UM Element "&lt;deny&gt;"&nbsp;&nbsp;<small><a href="#umelementdeny">&lt;-</a></small></h2>
<p>Contains an option value that the application is explicitly prevented from using. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a>.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementoption">&lt;option&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. </td><td><b><code>"default"</code></b> - Trim leading and trailing whitespace, and compress multiple whitespace characters into a single space. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example:</b> </p>
<p>The <code>&lt;options&gt;</code> element can be contained within many other elements. This example only shows it used within the <a class="el" href="xmlconfigurationfiles.html#umelementtemplate">&lt;template&gt;</a> element, but its syntax and usage is the same when used elsewhere.</p>
<p>In this example, the application may configure any interface except loopback (127.0.0.1). </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="FIX_Config.Prod"&gt;
      &lt;options type="context"&gt;
        &lt;option name="default_interface"&gt;
          &lt;deny&gt;127.0.0.1&lt;/deny&gt;
          ...
        &lt;/option&gt;
        ...
      &lt;/options&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementallow"></a>
UM Element "&lt;allow&gt;"&nbsp;&nbsp;<small><a href="#umelementallow">&lt;-</a></small></h2>
<p>Contains an option value that the application is explicitly allowed to use. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a>.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementoption">&lt;option&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. </td><td><b><code>"default"</code></b> - Trim leading and trailing whitespace, and compress multiple whitespace characters into a single space. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example:</b> </p>
<p>The <code>&lt;options&gt;</code> element can be contained within many other elements. This example only shows it used within the <a class="el" href="xmlconfigurationfiles.html#umelementtemplate">&lt;template&gt;</a> element, but its syntax and usage is the same when used elsewhere.</p>
<p>This example also demonstrates a specific case where the <code>&lt;option&gt;</code> element has <code>order="allow,deny"</code> which sets the default behavior for overriding the option to <code>deny</code>. This effectively constrains the application's ability to override the default value to only those values explicitly allowed. Importantly, the value specified in <code>default-value="..."</code> must be explicitly allowed, as shown in this example. </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="FIX_Config.Prod"&gt;
      &lt;options type="context"&gt;
        &lt;option name="default_interface" default-value="10.1.2.3" order="allow,deny"&gt;
          &lt;allow&gt;10.1.2.3&lt;/allow&gt;
          ...
        &lt;/option&gt;
        ...
      &lt;/options&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementeventqueues"></a>
UM Element "&lt;event-queues&gt;"&nbsp;&nbsp;<small><a href="#umelementeventqueues">&lt;-</a></small></h2>
<p>Container element that holds the configuration for event queues. The <a class="el" href="xmlconfigurationfiles.html#umelementeventqueue">&lt;event-queue&gt;</a> elements contained within <code>&lt;event-queues&gt;</code> are matched to the event queue objects created by the application. The <code>order="..."</code> attribute is used to constrain the application's use of event queues. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a> for details.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementapplication">&lt;application&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementeventqueue">&lt;event-queue&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>template</b> </td><td>A case-sensitive label which UM matches to a template's assigned name. </td><td>string </td><td>(If omitted, no template is applied.) </td></tr>
<tr>
<td><b>order</b> </td><td>Valid values are "deny,allow" and "allow,deny". Used to control how event queue usage is restricted. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a>. </td><td>string </td><td><b><code>"deny,allow"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="EVQ_FIX_Config.Prod"&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  &lt;applications&gt;
    &lt;application name="FIX.01"&gt;
      &lt;event-queues template="EVQ_FIX_Config.Prod" order="deny,allow"&gt;
        ...
      &lt;/event-queues&gt;
      ...
    &lt;/application&gt;
    ...
  &lt;/applications&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementeventqueue"></a>
UM Element "&lt;event-queue&gt;"&nbsp;&nbsp;<small><a href="#umelementeventqueue">&lt;-</a></small></h2>
<p>Container of configuration for a single event queue.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. unbounded </li>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementeventqueues">&lt;event-queues&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementoptions">&lt;options&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>name</b> </td><td>Name of the event queue. Supplied as a parameter to <b><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#af85b737d29883af1e7be47a6e9057c6b">lbm_event_queue_attr_create_from_xml()</a></b> and <b><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a8f376258a2ab5199d8cf8b852ad8a2f8">lbm_event_queue_attr_set_from_xml()</a></b>. </td><td>string </td><td>(If omitted, matches applications that don't set an event queue name.) </td></tr>
<tr>
<td><b>template</b> </td><td>A case-sensitive label which UM matches to a template's assigned name. </td><td>string </td><td>(If omitted, matches applications that don't set a name.) </td></tr>
<tr>
<td><b>rule</b> </td><td>Used to restrict the usage of event queues. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a>. </td><td><b><code>"allow"</code></b> - Permit the matching object. <br />
<b><code>"deny"</code></b> - Prevent the matching object. </td><td><code>allow</code> </td></tr>
</table>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="EVQ_FIX_Config.Prod"&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  &lt;applications&gt;
    &lt;application name="FIX.01"&gt;
      &lt;event-queues template="EVQ_FIX_Config.Prod" order="deny,allow"&gt;
        &lt;event-queue name="EVQ_FIX" rule="allow"&gt;
          ...
        &lt;/event-queue&gt;
        ...
      &lt;/event-queues&gt;
      ...
    &lt;/application&gt;
    ...
  &lt;/applications&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementcontexts"></a>
UM Element "&lt;contexts&gt;"&nbsp;&nbsp;<small><a href="#umelementcontexts">&lt;-</a></small></h2>
<p>Container element that holds the configurations for context objects. The <a class="el" href="xmlconfigurationfiles.html#umelementcontext">&lt;context&gt;</a> elements contained within <code>&lt;contexts&gt;</code> are matched to the context objects created by the application. For contexts that do not match any of the contained <a class="el" href="xmlconfigurationfiles.html#umelementcontext">&lt;context&gt;</a> elements, the default permission is determined by the <code>order="..."</code> attribute.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementapplication">&lt;application&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementcontext">&lt;context&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>template</b> </td><td>A case-sensitive label which UM matches to a template's assigned name. </td><td>string </td><td>(If omitted, no template is applied.) </td></tr>
<tr>
<td><b>order</b> </td><td>Valid values are "deny,allow" and "allow,deny". Used to control how context usage is restricted. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a>. </td><td>string </td><td><b><code>"deny,allow"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="CTX_FIX_Config.Prod"&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  &lt;applications&gt;
    &lt;application name="FIX.01"&gt;
      &lt;contexts template="CTX_FIX_Config.Prod" order="deny,allow"&gt;
        ...
      &lt;/contexts&gt;
      ...
    &lt;/application&gt;
    ...
  &lt;/applications&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementcontext"></a>
UM Element "&lt;context&gt;"&nbsp;&nbsp;<small><a href="#umelementcontext">&lt;-</a></small></h2>
<p>Container of configuration for a single context.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. unbounded </li>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementcontexts">&lt;contexts&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementsources">&lt;sources&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementreceivers">&lt;receivers&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementwildcardreceivers">&lt;wildcard-receivers&gt;</a>, <a class="el" href="xmlconfigurationfiles.html#umelementoptions">&lt;options&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>name</b> </td><td>Name of the context. Supplied as a parameter to <b><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a04d99cc97d32f359888c5befcc50512e">lbm_context_attr_create_from_xml()</a></b> and <b><a class="elRef" doxygen="/29W/Amun/home/sford/sfordmac_DEV_HF_6_12/29West/lbm/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a3a97ec59981f5b863b0b40faf82eceb8">lbm_context_attr_set_from_xml()</a></b>. </td><td>string </td><td>(If omitted, matches applications that don't set a context name.) </td></tr>
<tr>
<td><b>template</b> </td><td>A case-sensitive label which UM matches to a template's assigned name. </td><td>string </td><td>(If omitted, no template is applied.) </td></tr>
<tr>
<td><b>rule</b> </td><td>Used to restrict the usage of contexts. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a>. </td><td><b><code>"allow"</code></b> - Permit the matching object. <br />
<b><code>"deny"</code></b> - Prevent the matching object. </td><td><code>allow</code> </td></tr>
</table>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="CTX_FIX_Config.Prod"&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  &lt;applications&gt;
    &lt;application name="FIX.01"&gt;
      &lt;contexts template="CTX_FIX_Config.Prod" order="deny,allow"&gt;
        &lt;context name="CTX_FIX" rule="allow"&gt;
          ...
        &lt;/context&gt;
        ...
      &lt;/contexts&gt;
      ...
    &lt;/application&gt;
    ...
  &lt;/applications&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementwildcardreceivers"></a>
UM Element "&lt;wildcard-receivers&gt;"&nbsp;&nbsp;<small><a href="#umelementwildcardreceivers">&lt;-</a></small></h2>
<p>Container element that holds the configurations for wildcard receiver objects. The <a class="el" href="xmlconfigurationfiles.html#umelementwildcardreceiver">&lt;wildcard-receiver&gt;</a> elements contained within <code>&lt;wildcard-receivers&gt;</code> are matched to the wildcard receiver objects created by the application.</p>
<dl class="section note"><dt>Note</dt><dd>If the user desires to constrain the use of wildcard receivers, it should be done with <code>order="allow,deny"</code> and <code>rule="allow"</code> attributes (which denies all wildcards except those specifically allowed). The use of <code>order="deny,allow"</code> and <code>rule="deny"</code> to allow any wildcard except those specifically denied will not work as desired. For example, denying the pattern ".*" will still permit the use of "^.*", which will match the same topics (i.e. all of them).</dd></dl>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementcontext">&lt;context&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementwildcardreceiver">&lt;wildcard-receiver&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>template</b> </td><td>A case-sensitive label which UM matches to a template's assigned name. </td><td>string </td><td>(If omitted, no template is applied.) </td></tr>
<tr>
<td><b>order</b> </td><td>Valid values are "deny,allow" and "allow,deny". Used to control how wildcard receiver usage is restricted. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a>. </td><td>string </td><td><b><code>"deny,allow"</code></b> (But note that this value is not useful for restrictingwildcard receivers. <code>"allow,deny"</code> should always be used.) </td></tr>
</table>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="CTX_FIX_Config.Prod"&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  &lt;applications&gt;
    &lt;application name="FIX.01"&gt;
      &lt;contexts template="CTX_FIX_Config.Prod" order="deny,allow"&gt;
        &lt;context name="CTX_FIX" rule="allow"&gt;
          &lt;wildcard-receivers template="WC_FIX_Config.Prod" order="deny,allow"&gt;
            ...
          &lt;/wildcard-receivers&gt;
          ...
        &lt;/context&gt;
        ...
      &lt;/contexts&gt;
      ...
    &lt;/application&gt;
    ...
  &lt;/applications&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementwildcardreceiver"></a>
UM Element "&lt;wildcard-receiver&gt;"&nbsp;&nbsp;<small><a href="#umelementwildcardreceiver">&lt;-</a></small></h2>
<p>Container of configuration for a single wildcard receiver.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. unbounded </li>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementwildcardreceivers">&lt;wildcard-receivers&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementoptions">&lt;options&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>template</b> </td><td>A case-sensitive label which UM matches to a template's assigned name. </td><td>string </td><td>(If omitted, no template is applied.) </td></tr>
<tr>
<td><b>rule</b> </td><td>Used to restrict the usage of wildcard receivers. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a>. </td><td><b><code>"allow"</code></b> - Permit the matching object. <br />
<b><code>"deny"</code></b> - Prevent the matching object. (Note that this is not a useful setting for restricting wildcard receivers since the application can choose a different pattern that matches the forbidden topic.) </td><td><code>allow</code> </td></tr>
<tr>
<td><b>pattern</b> </td><td>Match wildcard receivers with this pattern. Note that this string is matched exactly to the pattern supplied to the wildcard receiver. This pattern is not intended to match more than one wildcard receiver. </td><td>string </td><td>(no default; must be specified) </td></tr>
<tr>
<td><b>pattern-type</b> </td><td>Type of wildcard receiver pattern matching engine the wildcard receiver is using. Only <code>"pcre"</code> is supported. </td><td><b><code>"pcre"</code></b> - Perl regular expression. This is the only supported selection. <br />
<b><code>"regex"</code></b> - Posix regular expression. <b>Deprecated; do not use.</b> <br />
<b><code>"application-callback"</code></b> - Application-supplied pattern matcher. <b>Deprecated; do not use.</b> </td><td><b><code>"pcre"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="CTX_FIX_Config.Prod"&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  &lt;applications&gt;
    &lt;application name="FIX.01"&gt;
      &lt;contexts template="CTX_FIX_Config.Prod" order="deny,allow"&gt;
        &lt;context name="CTX_FIX" rule="allow"&gt;
          &lt;wildcard-receivers template="WC_FIX_Config.Prod" order="deny,allow"&gt;
            &lt;wildcard-receiver pattern="WC_FIX" rule="allow"&gt;
              ...
            &lt;/wildcard-receiver&gt;
            ...
          &lt;/wildcard-receivers&gt;
          ...
        &lt;/context&gt;
        ...
      &lt;/contexts&gt;
      ...
    &lt;/application&gt;
    ...
  &lt;/applications&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementreceivers"></a>
UM Element "&lt;receivers&gt;"&nbsp;&nbsp;<small><a href="#umelementreceivers">&lt;-</a></small></h2>
<p>Container element that holds the configurations for receiver objects. The <a class="el" href="xmlconfigurationfiles.html#umelementtopic">&lt;topic&gt;</a> elements contained within <code>&lt;receivers&gt;</code> are matched to the receiver objects created by the application. For receivers that do not match any of the contained <a class="el" href="xmlconfigurationfiles.html#umelementtopic">&lt;topic&gt;</a> elements, the default permission is determined by the <code>order="..."</code> attribute.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementcontext">&lt;context&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementtopic">&lt;topic&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>template</b> </td><td>A case-sensitive label which UM matches to a template's assigned name. </td><td>string </td><td>(If omitted, no template is applied.) </td></tr>
<tr>
<td><b>order</b> </td><td>Valid values are "deny,allow" and "allow,deny". Used to control how receiver usage is restricted. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a>. </td><td>string </td><td><b><code>"deny,allow"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="CTX_FIX_Config.Prod"&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  &lt;applications&gt;
    &lt;application name="FIX.01"&gt;
      &lt;contexts template="CTX_FIX_Config.Prod" order="deny,allow"&gt;
        &lt;context name="CTX_FIX" rule="allow"&gt;
          &lt;receivers template="RCV_FIX_Config.Prod" order="deny,allow"&gt;
            ...
          &lt;/receivers&gt;
          ...
        &lt;/context&gt;
        ...
      &lt;/contexts&gt;
      ...
    &lt;/application&gt;
    ...
  &lt;/applications&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementsources"></a>
UM Element "&lt;sources&gt;"&nbsp;&nbsp;<small><a href="#umelementsources">&lt;-</a></small></h2>
<p>Container element that holds the configurations for source objects. The <a class="el" href="xmlconfigurationfiles.html#umelementtopic">&lt;topic&gt;</a> elements contained within <code>&lt;sources&gt;</code> are matched to the source objects created by the application. For sources that do not match any of the contained <a class="el" href="xmlconfigurationfiles.html#umelementtopic">&lt;topic&gt;</a> elements, the default permission is determined by the <code>order="..."</code> attribute.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementcontext">&lt;context&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementtopic">&lt;topic&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>template</b> </td><td>A case-sensitive label which UM matches to a template's assigned name. </td><td>string </td><td>(If omitted, no template is applied.) </td></tr>
<tr>
<td><b>order</b> </td><td>Valid values are "deny,allow" and "allow,deny". Used to control how source usage is restricted. See <a class="el" href="xmlconfigurationfiles.html#orderandrulespecifications">Order and Rule Specifications</a>. </td><td>string </td><td><b><code>"deny,allow"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="CTX_FIX_Config.Prod"&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  &lt;applications&gt;
    &lt;application name="FIX.01"&gt;
      &lt;contexts template="CTX_FIX_Config.Prod" order="deny,allow"&gt;
        &lt;context name="CTX_FIX" rule="allow"&gt;
          &lt;sources template="SRC_FIX_Config.Prod" order="deny,allow"&gt;
            ...
          &lt;/sources&gt;
          ...
        &lt;/context&gt;
        ...
      &lt;/contexts&gt;
      ...
    &lt;/application&gt;
    ...
  &lt;/applications&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementtemplates"></a>
UM Element "&lt;templates&gt;"&nbsp;&nbsp;<small><a href="#umelementtemplates">&lt;-</a></small></h2>
<p>Container element that holds one or more configuration template definitions. A configuration template holds a set of UM configuration options. See <a class="el" href="xmlconfigurationfiles.html#xmlconfigurationfileformat">XML Configuration File Format</a> for information on templates.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementumconfiguration">&lt;um-configuration&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementtemplate">&lt;template&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    ...
  &lt;/templates&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementtemplate"></a>
UM Element "&lt;template&gt;"&nbsp;&nbsp;<small><a href="#umelementtemplate">&lt;-</a></small></h2>
<p>Container element that holds a collection of UM configuration options which can be referenced by other elements. See <a class="el" href="xmlconfigurationfiles.html#xmlconfigurationfileformat">XML Configuration File Format</a> for information on templates.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. unbounded </li>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementtemplates">&lt;templates&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="xmlconfigurationfiles.html#umelementoptions">&lt;options&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>name</b> </td><td>A case-sensitive label assigned to the template, which can be referenced by most other elements via their "template" attribute. </td><td>string </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;templates&gt;
    &lt;template name="FIX_Config.Prod"&gt;
      ...
    &lt;/template&gt;
    ...
  &lt;/templates&gt;
  ...
&lt;/um-configuration&gt;
</pre><hr/>
<p> <br />
 </p>
<h2><a class="anchor" id="umelementlicense"></a>
UM Element "&lt;license&gt;"&nbsp;&nbsp;<small><a href="#umelementlicense">&lt;-</a></small></h2>
<p>Identifies the UM product license, either as the license key or as a pointer to a license file, as an alternative to setting it in an environment variable. The content within the <code>&lt;license&gt;...&lt;/license&gt;</code> is either a file name or a license string, depending on the value supplied for the <code>format</code> attribute.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="xmlconfigurationfiles.html#umelementumconfiguration">&lt;um-configuration&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>format</b> </td><td>Specifies how the content within the <code>&lt;license&gt;...&lt;/license&gt;</code> is interpreted. </td><td><b><code>"filename"</code></b> - The license element contains the name of a file that contains the license key. <br />
<b><code>"string"</code></b> - The license element contains the actual license key. The <code>xml:space="preserve"</code> attribute may also be used to prevent modification of whitespace. </td><td><b>string</b> </td></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. </td><td><b><code>"default"</code></b> - Trim leading and trailing whitespace, and compress multiple whitespace characters into a single space. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example</b> <b>1</b>: </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;license format="filename"&gt;um_license.txt&lt;/license&gt;
  ...
&lt;/um-configuration&gt;
</pre><p><b>Example</b> <b>2</b>: </p><pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
  &lt;license format="string"&gt;
Product=LBM,UME,UMQ,UMDRO:Organization=User or Org:Expiration-Date=never:License-Key=1234 5678 9ABC DEF0
  &lt;/license&gt;
  ...
&lt;/um-configuration&gt;
</pre><p><br />
 </p>
<h1><a class="anchor" id="xmlconfigurationfiledtd"></a>
XML Configuration File DTD&nbsp;&nbsp;<small><a href="#xmlconfigurationfiledtd">&lt;-</a></small></h1>
<p>The XML configuration file DTD is integrated into UM and appears below.</p>
<pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!ELEMENT um-configuration (license | templates | applications)*&gt;
&lt;!ATTLIST um-configuration version CDATA #REQUIRED&gt;
&lt;!ELEMENT license ( #PCDATA )&gt;
&lt;!ATTLIST license format (filename | string) "string"&gt;
&lt;!ATTLIST license xml:space (default | preserve) "default"&gt;
&lt;!ELEMENT templates (template*)&gt;
&lt;!ELEMENT template (options+)&gt;
&lt;!ATTLIST template name CDATA #REQUIRED&gt;
&lt;!ELEMENT options (option | application-data)*&gt;
&lt;!ATTLIST options type (event-queue | context | source | receiver | wildcard-receiver | hfx) #IMPLIED&gt;
&lt;!ELEMENT option (allow | deny)*&gt;
&lt;!ATTLIST option name CDATA #REQUIRED&gt;
&lt;!ATTLIST option default-value CDATA #IMPLIED&gt;
&lt;!ATTLIST option order CDATA #IMPLIED&gt;
&lt;!ELEMENT application-data ( #PCDATA )&gt;
&lt;!ATTLIST application-data xml:space (default | preserve) "default"&gt;
&lt;!ELEMENT allow ( #PCDATA )&gt;
&lt;!ATTLIST allow xml:space (default | preserve) "default"&gt;
&lt;!ELEMENT deny ( #PCDATA )&gt;
&lt;!ATTLIST deny xml:space (default | preserve) "default"&gt;
&lt;!ELEMENT applications (application*)&gt;
&lt;!ELEMENT application (contexts | event-queues | hfxs | application-data)+&gt;
&lt;!ATTLIST application name CDATA #IMPLIED&gt;
&lt;!ATTLIST application template CDATA #IMPLIED&gt;
&lt;!ELEMENT contexts (context*)&gt;
&lt;!ATTLIST contexts template CDATA #IMPLIED&gt;
&lt;!ATTLIST contexts order CDATA #IMPLIED&gt;
&lt;!ELEMENT event-queues (event-queue*)&gt;
&lt;!ATTLIST event-queues template CDATA #IMPLIED&gt;
&lt;!ATTLIST event-queues order CDATA #IMPLIED&gt;
&lt;!ELEMENT hfxs (topic*)&gt;
&lt;!ATTLIST hfxs template CDATA #IMPLIED&gt;
&lt;!ATTLIST hfxs order CDATA #IMPLIED&gt;
&lt;!ELEMENT event-queue (options*)&gt;
&lt;!ATTLIST event-queue name CDATA #IMPLIED&gt;
&lt;!ATTLIST event-queue template CDATA #IMPLIED&gt;
&lt;!ATTLIST event-queue rule (allow | deny) "allow"&gt;
&lt;!ELEMENT context (sources | receivers | wildcard-receivers | options)+&gt;
&lt;!ATTLIST context name CDATA #IMPLIED&gt;
&lt;!ATTLIST context template CDATA #IMPLIED&gt;
&lt;!ATTLIST context rule (allow | deny) "allow"&gt;
&lt;!ELEMENT sources (topic*)&gt;
&lt;!ATTLIST sources template CDATA #IMPLIED&gt;
&lt;!ATTLIST sources order CDATA #IMPLIED&gt;
&lt;!ELEMENT receivers (topic*)&gt;
&lt;!ATTLIST receivers template CDATA #IMPLIED&gt;
&lt;!ATTLIST receivers order CDATA #IMPLIED&gt;
&lt;!ELEMENT wildcard-receivers (wildcard-receiver*)&gt;
&lt;!ATTLIST wildcard-receivers template CDATA #IMPLIED&gt;
&lt;!ATTLIST wildcard-receivers order CDATA #IMPLIED&gt;
&lt;!ELEMENT topic (options*)&gt;
&lt;!ATTLIST topic template CDATA #IMPLIED&gt;
&lt;!ATTLIST topic rule (allow | deny) "allow"&gt;
&lt;!ATTLIST topic pattern CDATA #IMPLIED&gt;
&lt;!ATTLIST topic topicname CDATA #IMPLIED&gt;
&lt;!ELEMENT wildcard-receiver (options*)&gt;
&lt;!ATTLIST wildcard-receiver template CDATA #IMPLIED&gt;
&lt;!ATTLIST wildcard-receiver rule (allow | deny) "allow"&gt;
&lt;!ATTLIST wildcard-receiver pattern CDATA #IMPLIED&gt;
&lt;!ATTLIST wildcard-receiver pattern-type (pcre | regex | application-callback) #IMPLIED&gt;</pre><p><br />
 </p>
<h1><a class="anchor" id="samplexmlconfigurationfile"></a>
Sample XML Configuration File&nbsp;&nbsp;<small><a href="#samplexmlconfigurationfile">&lt;-</a></small></h1>
<p>A sample XML configuration file appears below and has the following notable aspects.</p>
<ul>
<li>
Contains object attributes for a UM context and source. </li>
<li>
Application name is <b>Sending</b>. </li>
<li>
Uses a template of attributes also called <b>Sending-LBTRM</b>. </li>
<li>
The template, <b>Sending-LBTRM</b>, uses the <b>order</b> attribute for the <b>fd_management_type</b> to allow all file descriptor types except DEVPOLL. However the <b>Sending-LBTRM</b> application further restricts the file descriptor types to exclude EPOLL in addition to DEVPOLL. </li>
</ul>
<pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;um-configuration version="1.0"&gt;
 &lt;templates&gt;
  &lt;template name="Sending-LBTRM"&gt;
   &lt;options type="source"&gt;
    &lt;option default-value="0" name="late_join"/&gt;
    &lt;option default-value="500" name="resolver_advertisement_maximum_initial_interval"/&gt;
    &lt;option default-value="5000" name="resolver_advertisement_minimum_initial_duration"/&gt;
    &lt;option default-value="10" name="resolver_advertisement_minimum_initial_interval"/&gt;
    &lt;option default-value="60" name="resolver_advertisement_minimum_sustain_duration"/&gt;
    &lt;option default-value="1000" name="resolver_advertisement_sustain_interval"/&gt;
    &lt;option default-value="lbtrm" name="transport"/&gt;
    &lt;option default-value="14400" name="transport_lbtrm_destination_port"/&gt;
    &lt;option default-value="0.0.0.0" name="transport_lbtrm_multicast_address"/&gt;
   &lt;/options&gt;
   &lt;options type="context"&gt;
    &lt;option default-value="wsaeventselect" name="fd_management_type" order="deny,allow"&gt;
     &lt;deny&gt;wincompport&lt;/deny&gt;
    &lt;/option&gt;
    &lt;option default-value="5000" name="mim_delivery_control_activity_check_interval"/&gt;
    &lt;option default-value="60000" name="mim_delivery_control_activity_timeout"/&gt;
    &lt;option default-value="6000" name="mim_delivery_control_loss_check_interval"/&gt;
    &lt;option default-value="2000000" name="resolver_initial_advertisement_bps"/&gt;
    &lt;option default-value="2000" name="resolver_initial_advertisements_per_second"/&gt;
    &lt;option default-value="2000" name="resolver_initial_queries_per_second"/&gt;
    &lt;option default-value="2000000" name="resolver_initial_query_bps"/&gt;
   &lt;/options&gt;
  &lt;/template&gt;
 &lt;/templates&gt;
 &lt;applications&gt;
  &lt;application name="Sending"&gt;
   &lt;contexts order="deny,allow"&gt;
    &lt;context rule="allow" template="Sending-LBTRM"&gt;
     &lt;sources order="deny,allow"&gt;
      &lt;topic rule="allow" topicname="IXCM"&gt;
       &lt;options type="source"&gt;
        &lt;option default-value="1" name="late_join"/&gt;
        &lt;option default-value="lbtrm" name="transport"/&gt;
        &lt;option default-value="14488" name="transport_lbtrm_destination_port"/&gt;
        &lt;option default-value="224.12.5.101" name="transport_lbtrm_multicast_address"/&gt;
       &lt;/options&gt;
      &lt;/topic&gt;
     &lt;/sources&gt;
     &lt;receivers order="deny,allow"/&gt;
     &lt;wildcard-receivers order="deny,allow"/&gt;
     &lt;options type="context"&gt;
      &lt;option default-value="224.9.10.11" name="resolver_multicast_address"/&gt;
      &lt;option default-value="224.9.10.11" name="resolver_multicast_incoming_address"/&gt;
      &lt;option default-value="12965" name="resolver_multicast_incoming_port"/&gt;
      &lt;option default-value="224.9.10.11" name="resolver_multicast_outgoing_address"/&gt;
      &lt;option default-value="12965" name="resolver_multicast_outgoing_port"/&gt;
      &lt;option default-value="12965" name="resolver_multicast_port"/&gt;
      &lt;option default-value="224.9.10.12" name="resolver_multicast_interface"/&gt;
      &lt;option default-value="0" name="resolver_multicast_receiver_socket_buffer"/&gt;
      &lt;option default-value="wsaeventselect" name="fd_management_type" order="deny,allow"&gt;
       &lt;deny&gt;wincompport&lt;/deny&gt;
      &lt;/option&gt;
     &lt;/options&gt;
    &lt;/context&gt;
   &lt;/contexts&gt;
   &lt;event-queues order="deny,allow"&gt;
    &lt;event-queue rule="allow"&gt;
     &lt;options type="event-queue"&gt;
       &lt;option default-value="lbm" name="monitor_transport"/&gt;
       &lt;option default-value="" name="monitor_appid"/&gt;
     &lt;/options&gt;
    &lt;/event-queue&gt;
   &lt;/event-queues&gt;
  &lt;/application&gt;
 &lt;/applications&gt;
&lt;/um-configuration&gt;
</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
