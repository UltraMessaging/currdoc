<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Configuration Guide: Sample XML Configuration File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Configuration Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('samplexmlconfigurationfile.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Sample XML Configuration File </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A sample XML configuration file appears below and has the following notable aspects.</p>
<ul>
<li>
Contains object attributes for a UM context and source. </li>
<li>
Application name is <b>Sending</b>. </li>
<li>
Uses a template of attributes also called <b>Sending-LBTRM</b>. </li>
<li>
The template, <b>Sending-LBTRM</b>, uses the <b>order</b> attribute for the <b>fd_management_type</b> to allow all file descriptor types except DEVPOLL. However the <b>Sending-LBTRM</b> application further restricts the file descriptor types to exclude EPOLL in addition to DEVPOLL. </li>
</ul>
<pre class="fragment">&lt;um-configuration version="1.0"&gt;
 &lt;templates&gt;
  &lt;template name="Sending-LBTRM"&gt;
   &lt;options type="source"&gt;
    &lt;option default-value="0" name="late_join"/&gt;
    &lt;option default-value="500" name="resolver_advertisement_maximum_initial_interval"/&gt;
    &lt;option default-value="5000" name="resolver_advertisement_minimum_initial_duration"/&gt;
    &lt;option default-value="10" name="resolver_advertisement_minimum_initial_interval"/&gt;
    &lt;option default-value="60" name="resolver_advertisement_minimum_sustain_duration"/&gt;
    &lt;option default-value="1000" name="resolver_advertisement_sustain_interval"/&gt;
    &lt;option default-value="lbtrm" name="transport"/&gt;
    &lt;option default-value="14400" name="transport_lbtrm_destination_port"/&gt;
    &lt;option default-value="0.0.0.0" name="transport_lbtrm_multicast_address"/&gt;
   &lt;/options&gt;
   &lt;options type="context"&gt;
    &lt;option default-value="wsaeventselect" name="fd_management_type" order="deny,allow"&gt;
     &lt;deny&gt;wincompport&lt;/deny&gt;
    &lt;/option&gt;
    &lt;option default-value="5000" name="mim_delivery_control_activity_check_interval"/&gt;
    &lt;option default-value="60000" name="mim_delivery_control_activity_timeout"/&gt;
    &lt;option default-value="6000" name="mim_delivery_control_loss_check_interval"/&gt;
    &lt;option default-value="2000000" name="resolver_initial_advertisement_bps"/&gt;
    &lt;option default-value="2000" name="resolver_initial_advertisements_per_second"/&gt;
    &lt;option default-value="2000" name="resolver_initial_queries_per_second"/&gt;
    &lt;option default-value="2000000" name="resolver_initial_query_bps"/&gt;
   &lt;/options&gt;
  &lt;/template&gt;
 &lt;/templates&gt;
 &lt;applications&gt;
  &lt;application name="Sending"&gt;
   &lt;contexts order="deny,allow"&gt;
    &lt;context rule="allow" template="Sending-LBTRM"&gt;
     &lt;sources order="deny,allow"&gt;
      &lt;topic rule="allow" topicname="IXCM"&gt;
       &lt;options type="source"&gt;
        &lt;option default-value="1" name="late_join"/&gt;
        &lt;option default-value="lbtrm" name="transport"/&gt;
        &lt;option default-value="14488" name="transport_lbtrm_destination_port"/&gt;
        &lt;option default-value="224.12.5.101" name="transport_lbtrm_multicast_address"/&gt;
       &lt;/options&gt;
      &lt;/topic&gt;
     &lt;/sources&gt;
     &lt;receivers order="deny,allow"/&gt;
     &lt;wildcard-receivers order="deny,allow"/&gt;
     &lt;options type="context"&gt;
      &lt;option default-value="224.9.10.11" name="resolver_multicast_address"/&gt;
      &lt;option default-value="224.9.10.11" name="resolver_multicast_incoming_address"/&gt;
      &lt;option default-value="12965" name="resolver_multicast_incoming_port"/&gt;
      &lt;option default-value="224.9.10.11" name="resolver_multicast_outgoing_address"/&gt;
      &lt;option default-value="12965" name="resolver_multicast_outgoing_port"/&gt;
      &lt;option default-value="12965" name="resolver_multicast_port"/&gt;
      &lt;option default-value="224.9.10.12" name="resolver_multicast_interface"/&gt;
      &lt;option default-value="0" name="resolver_multicast_receiver_socket_buffer"/&gt;
      &lt;option default-value="wsaeventselect" name="fd_management_type" order="deny,allow"&gt;
       &lt;deny&gt;wincompport&lt;/deny&gt;
      &lt;/option&gt;
     &lt;/options&gt;
    &lt;/context&gt;
   &lt;/contexts&gt;
   &lt;event-queues order="deny,allow"&gt;
    &lt;event-queue rule="allow"&gt;
     &lt;options type="event-queue"&gt;
     &lt;option default-value="lbm" name="monitor_transport"/&gt;
     &lt;option default-value="" name="monitor_appid"/&gt; &lt;/options&gt;
    &lt;/event-queue&gt;
   &lt;/event-queues&gt;
  &lt;/application&gt;
 &lt;/applications&gt;
&lt;/um-configuration&gt;
</pre><p><br />
 </p>
<h1><a class="anchor" id="usingtheorderandrulexmlattributes"></a>
Using the Order and Rule XML Attributes</h1>
<p>The order and rule XML attributes combine to enable you to permit or restrict the creation of primitive UM objects. The container elements such as the <code> <a class="el" href="xmlconfigurationfileelements.html#contexts">&lt;contexts&gt;,</a> <a class="el" href="xmlconfigurationfileelements.html#sources">&lt;sources&gt;,</a> <a class="el" href="xmlconfigurationfileelements.html#receivers">&lt;receivers&gt;,</a> </code> etc. have the <b>order</b> attribute. The single object elements, such as <code> <a class="el" href="xmlconfigurationfileelements.html#context">&lt;context&gt;,</a> <a class="el" href="xmlconfigurationfileelements.html#topic">&lt;topic&gt;,</a> </code> etc., have the <b>rule</b> attribute. The default for both attributes allows creation of all objects. You can however, exert some administrative control over your applications by allowing the creation of only certain objects.</p>
<p>You can vary the <b>order</b> attribute values to suit whether permission or restriction is more prevalent. In the example below, only a single topic needs to be restricted, so we use the default values for the <b>order</b> attribute with only a single topic restricted with a <b>rule="deny"</b> attribute.</p>
<pre class="fragment">&lt;sources order="deny,allow"&gt;
  &lt;topic topicname="CDEF" rule="deny"/&gt;
  &lt;!-- all other source topics allowed --&gt;
&lt;/sources&gt;
</pre><p>In contrast, the following example requires the creation of only a single receiver topic object, so you can change the <b>order</b> attribute to <b>"allow,deny"</b>, which restricts the creation of all receiver topic objects except the one allowed.</p>
<pre class="fragment">&lt;receivers order="allow,deny"&gt;
  &lt;topic topicname="AARM" rule="allow"/&gt;
  &lt;!-- all other receive topics denied --&gt;
&lt;/receivers&gt;
</pre><p>You can also combine topic names with topic patterns. In the example below, we set the <b>order</b> attribute to the default. Topic <b>ISM</b> is denied with its order attribute. Topics <b>IRM</b> and <b>SRM</b> satisfy both their own allow rules and the pattern <b>*R*</b> <b>deny</b> rule. So when you allocate a source topic with <b><a class="elRef" doxygen="/29W/Amun/home/jenkins/backup_exclude.1/rc/UMQ_6.11.1_RC1/doc/Config/api.tag:../API/" href="../API/lbm_8h.html#a1ba60407fa2bde0997aab6d5a5d2da1a">lbm_src_topic_alloc()</a></b>, UM accepts the rule that matches the <b>order</b> attribute default, which is <b>allow</b>.</p>
<pre class="fragment">&lt;sources order="deny,allow"&gt;
  &lt;topic topicname="ISM" rule="deny"/&gt;
  &lt;topic topicname="IRM" rule="allow"/&gt;
  &lt;topic pattern="*R*" rule="deny"/&gt;
  &lt;topic topicname="SRM" rule="allow"/&gt;
&lt;/sources&gt;
</pre><p>As a result of the above configuration, UM allows the creation of source topic objects <b>IRM</b> and <b>SRM</b>, and all other topics, except those that match the regular expression pattern <b>*R*</b>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
