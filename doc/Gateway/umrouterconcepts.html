<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Dynamic Routing Guide: DRO Concepts</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dynamic Routing Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('umrouterconcepts.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">DRO Concepts </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><br />
 </p>
<h1><a class="anchor" id="basicumrouteroperation"></a>
Basic DRO Operation&nbsp;&nbsp;<small><a href="#basicumrouteroperation">&lt;-</a></small></h1>
<p>The DRO's routing algorithm is said to be "interest-based". That is, subscribers express interest in topic names and/or wildcard topic patterns. The DRO network maintains lists of topics and patterns for each TRD, and routes messages accordingly.</p>
<p>The diagram below shows a DRO bridging topic resolution domains TRD1 and TRD2, for topic AAA, in a direct link configuration. Endpoint E1 contains a proxy receiver for topic AAA and endpoint E2 has a proxy source for topic AAA.</p>
<div class="image">
<img src="basic_routing.png" alt="basic_routing.png"/>
</div>
 <p>To establish topic resolution in an already-running DRO, the following sequence typically occurs in an example like the above figure.</p>
<ol>
<li>
A receiver in TRD2 issues a TQR (Topic Query Record) for topic AAA. </li>
<li>
Portal E2 receives the TQR and passes information about topic AAA to all other portals in the DRO. (In this case, E1 is the only other portal.) </li>
<li>
E1 immediately responds with three actions: a) create a proxy receiver for topic AAA, b) the new proxy receiver sends a TQR for AAA into TRD1, and c) E1 issues a Topic Interest message into TRD1 for the benefit of any other DROs that may be connected to that domain. </li>
<li>
A source for topic AAA in TRD1 sees the TQR and issues a TIR (Topic Information Record). </li>
<li>
E2 creates proxy source AAA, which then issues a TIR to TRD2. The receiver in TRD2 joins the transport, thus completing topic resolution. </li>
<li>
E1's AAA proxy receiver sees the TIR and requests that E2 (and any other interested portals in the DRO, if there were any) create a proxy source for AAA. </li>
</ol>
<p><br />
 </p>
<h2><a class="anchor" id="interestandtopicresolution"></a>
Interest and Topic Resolution&nbsp;&nbsp;<small><a href="#interestandtopicresolution">&lt;-</a></small></h2>
<p>As mentioned in <a class="el" href="umrouterconcepts.html#basicumrouteroperation">Basic DRO Operation</a>, the DRO's routing algorithm is "interest-based". The DRO uses UM's Topic Resolution (TR) protocol to discover and maintain the interest tables.</p>
<p>For <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/topicresolutiondescription.html#tcpbasedtopicresolutiondetails">TCP-based TR</a>, the SRS informs DROs of receiver topics and wildcard receiver patterns.</p>
<p>For <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/architecture.html#udpbasedtopicresolutiondetails">UDP-based TR</a>, the application's TR queries are used to inform DROs of its receiver topics and wildcard receiver patterns.</p>
<dl class="section attention"><dt>Attention</dt><dd>If using UDP-based TR, do not disable querying, as that would prevent the DRO from discovering topic and pattern interest.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="interestandusequeries"></a>
Interest and Use Queries&nbsp;&nbsp;<small><a href="#interestandusequeries">&lt;-</a></small></h2>
<p>When a DRO starts, its endpoint portals issue a brief series of Topic Resolution Request messages to their respective topic resolution domains. This provokes quiescent receivers (and wildcard receivers) into sending Use Query Responses, indicating interest in various topics. Each portal then records this interest.</p>
<div class="image">
<img src="dro_tr_1.png" alt="dro_tr_1.png"/>
</div>
 <p>After a DRO has been running, endpoint portals issue periodic Topic Use Queries and Pattern Use Queries (collectively referred to as simply Use Queries). Use Query Responses from UM contexts confirm that the receivers for these topics indeed still exist, thus maintaining these topics on the interest list. Autonomous TQRs also refresh interest and have the effect of suppressing the generation of Use Queries.</p>
<div class="image">
<img src="dro_tr_2.png" alt="dro_tr_2.png"/>
</div>
 <p>In the case of multi-hop DRO configurations, DROs cannot detect interest for remote contexts via Use Queries or TQRs. They do this instead via Interest Messages. An endpoint portal generates periodic interest messages, which are picked up by adjacent DROs (i.e., the next hop over), at which time interest is refreshed.</p>
<div class="image">
<img src="dro_tr_3.png" alt="dro_tr_3.png"/>
</div>
 <p>You can adjust intervals, limits, and durations for these topic resolution and interest mechanisms via DRO configuration options (see <a class="el" href="xmlconfigurationreference.html">DRO Configuration Reference</a>).</p>
<p><br />
 </p>
<h2><a class="anchor" id="umrouterkeepalive"></a>
DRO Keepalive&nbsp;&nbsp;<small><a href="#umrouterkeepalive">&lt;-</a></small></h2>
<p>To maintain a reliable connection, peer portals exchange DRO Keepalive signals. Keepalive intervals and connection timeouts are configurable on a per-portal basis. You can also set the DRO to send keepalives only when traffic is idle, which is the default condition. When both traffic and keepalives go silent at a portal ingress, the portal considers the connection lost and disconnects the TCP link. After the disconnect, the portal tries to reconnect. See <a class="el" href="xmlconfigurationreference.html#droelementgatewaykeepalive">&lt;gateway-keepalive&gt;</a>.</p>
<p><br />
 </p>
<h2><a class="anchor" id="finaladvertisements"></a>
Final Advertisements&nbsp;&nbsp;<small><a href="#finaladvertisements">&lt;-</a></small></h2>
<p>DRO proxy sources on endpoint portals, when deleted, send out a series of final advertisements. A final advertisement tells any receivers, including proxy receivers on other DROs, that the particular source has gone away. This triggers EOS and clean-up activities on the receiver relative to that specific source, which causes the receiver to begin querying according to its topic resolution configuration for the sustaining phase of querying.</p>
<p>In short, final advertisements announce earlier detection of a source that has gone away, instead of transport timeout. This causes a faster transition to an alternative proxy source on a different DRO if there is a change in the routing path.</p>
<p><br />
 </p>
<h2><a class="anchor" id="moreaboutproxysourcesandreceivers"></a>
More About Proxy Sources and Receivers&nbsp;&nbsp;<small><a href="#moreaboutproxysourcesandreceivers">&lt;-</a></small></h2>
<p>The domain-id is used by Interest Messages and other internal and DRO-to-DRO traffic to ensure forwarding of all messages (payload and topic resolution) to the correct recipients. This also has the effect of not creating proxy sources/receivers where they are not needed. Thus, DROs create proxy sources and receivers based solely on receiver interest.</p>
<p>If more than one source sends on a given topic, the receiving portal's single proxy receiver for that topic receives all messages sent on that topic. The sending portal, however creates a proxy source for every source sending on the topic. The DRO maintains a table of proxy sources, each keyed by an Originating Transport ID (OTID), enabling the proxy receiver to forward each message to the correct proxy source. An OTID uniquely identifies a source's transport session, and is included in topic advertisements.</p>
<p><br />
 </p>
<h2><a class="anchor" id="protocolconversion"></a>
Protocol Conversion&nbsp;&nbsp;<small><a href="#protocolconversion">&lt;-</a></small></h2>
<p>When an application creates a source, it is configured to use one of the UM transport types. When a DRO is deployed, the proxy sources are also configured to use one of the UM transport types. Although users often use the same transport type for sources and proxy sources, this is not necessary. When different transport types are configured for source and proxy source, the DRO is performing a protocol conversion.</p>
<p>When this is done, it is very important to configure the transports to use the same maximum datagram size. If you don't, the DRO can drop messages which cannot be recovered through normal means. For example, a source in <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/fundamentalconcepts.html#topicresolutiondomain">Topic Resolution Domain</a> 1 might be configured for TCP, which has a default maximum datagram size of 65536. If a DRO's remote portal is configured to create LBT-RU proxy sources, that has a default maximum datagram size of 8192. If the source sends a user message of 10K, the TCP source will send it as a single fragment. The DRO will receive it and will attempt to forward it on an LBT-RU proxy source, but the 10K fragment is too large for LBT-RU's maximum datagram size, so the message will be dropped.</p>
<p>See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/architecture.html#messagefragmentationandreassembly">Message Fragmentation and Reassembly</a>.</p>
<p>The solution is to override the default maximum datagram sizes to be the same. Informatica generally does not recommend configuring UDP-based transports for datagram sizes above 8K, so it is advisable to set the maximum datagram sizes of all transport types to 8192, like this:</p>
<pre class="fragment">context transport_tcp_datagram_max_size 8192
context transport_lbtrm_datagram_max_size 8192
context transport_lbtru_datagram_max_size 8192
context transport_lbtipc_datagram_max_size 8192
source transport_lbtsmx_datagram_max_size 8192
</pre><p>Note that users of a <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/umglossary.html#glossarykernelbypass">kernel bypass</a> network driver (e.g. Solarflare's Onload) frequently want to avoid all IP fragmentation, and therefore want to set their datagram max sizes to an MTU. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/architecture.html#datagrammaxsizeandnetworkmtu">Datagram Max Size and Network MTU</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/architecture.html#dynamicfragmentationreduction">Dynamic Fragmentation Reduction</a>.</p>
<p>Configuration options: <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/config.tag:../Config/" href="../Config/grptransporttcpoperation.html#transporttcpdatagrammaxsizecontext">transport_tcp_datagram_max_size (context)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/config.tag:../Config/" href="../Config/grptransportlbtrmoperation.html#transportlbtrmdatagrammaxsizecontext">transport_lbtrm_datagram_max_size (context)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/config.tag:../Config/" href="../Config/grptransportlbtruoperation.html#transportlbtrudatagrammaxsizecontext">transport_lbtru_datagram_max_size (context)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/config.tag:../Config/" href="../Config/grptransportlbtipcoperation.html#transportlbtipcdatagrammaxsizecontext">transport_lbtipc_datagram_max_size (context)</a>, and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/config.tag:../Config/" href="../Config/grptransportlbtsmxoperation.html#transportlbtsmxdatagrammaxsizesource">transport_lbtsmx_datagram_max_size (source)</a>.</p>
<p>Final note: the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/config.tag:../Config/" href="../Config/grpudpbasedresolveroperation.html#resolverdatagrammaxsizecontext">resolver_datagram_max_size (context)</a> option also needs to be made the same in all instances of UM, including DROs.</p>
<p><br />
 </p>
<h1><a class="anchor" id="multihopforwarding"></a>
Multi-Hop Forwarding&nbsp;&nbsp;<small><a href="#multihopforwarding">&lt;-</a></small></h1>
<p>UM can resolve topics across a span of multiple DROs. Consider a simple example DRO deployment, as shown in the following figure.</p>
<div class="image">
<img src="multi_hop.png" alt="multi_hop.png"/>
</div>
 <p>In this diagram, DRO A has two endpoint portals connected to topic resolution domains TRD1 and TRD2. DRO B also has two endpoint portals, which bridge TRD2 and TRD3. Endpoint portal names reflect the topic resolution domain to which they connect. For example, DRO A endpoint E2 interfaces TRD2.</p>
<p>TRD1 has a source for topic AAA, and TRD3, an AAA receiver. The following sequence of events enables the forwarding of topic messages from source AAA to receiver AAA.</p>
<ol>
<li>
Receiver AAA queries (issues a TQR). </li>
<li>
DRO B, endpoint E3 (B-E3) receives the TQR and passes information about topic AAA to all other portals in the DRO. In this case, B-E2 is the only other portal. </li>
<li>
In response, B-E2 creates a proxy receiver for AAA and sends a Topic Interest message for AAA into TRD2. The proxy receiver also issues a TQR, which in this case is ignored. </li>
<li>
DRO A, endpoint E2 (A-E2) receives this Topic Interest message and passes information about topic AAA to all other portals in the DRO. In this case, A-E1 is the only other portal. </li>
<li>
In response, A-E1 creates a proxy receiver for AAA and sends a Topic Interest message and TQR for AAA into TRD1. </li>
<li>
Source AAA responds to the TQR by sending a TIR for topic AAA. In this case, the Topic Interest message is ignored. </li>
<li>
The AAA proxy receiver created by A-E1 receives this TIR and requests that all DRO A portals with an interest in topic AAA create a proxy source for AAA. </li>
<li>
In response, A-E2 creates a proxy source, which sends a TIR for topic AAA via TRD2. </li>
<li>
The AAA proxy receiver at B-E2 receives this TIR and requests that all DRO B portals with an interest in topic AAA create a proxy source for AAA. </li>
<li>
In response, B-E3 creates a proxy source, which sends a TIR for topic AAA via TRD3. The receiver in TRD3 joins the transport. </li>
<li>
Topic AAA has now been resolved across both DROs, which forward all topic messages sent by source AAA to receiver AAA. </li>
</ol>
<p><br />
 </p>
<h1><a class="anchor" id="routingwildcardreceivers"></a>
Routing Wildcard Receivers&nbsp;&nbsp;<small><a href="#routingwildcardreceivers">&lt;-</a></small></h1>
<p>The DRO supports topic resolution for wildcard receivers in a manner very similar to non-wildcard receivers. Wildcard receivers in a TRD issuing a WC-TQR cause corresponding proxy wildcard receivers to be created in portals, as shown in the following figure. The DRO creates a single proxy source for pattern match.</p>
<div class="image">
<img src="wildcard.png" alt="wildcard.png"/>
</div>
 <p><br />
 </p>
<h1><a class="anchor" id="forwardingcosts"></a>
Forwarding Costs&nbsp;&nbsp;<small><a href="#forwardingcosts">&lt;-</a></small></h1>
<p>Forwarding a message through a DRO incurs a cost in terms of latency, network bandwidth, and CPU utilization on the DRO machine (which may in turn affect the latency of other forwarded messages). Transiting multiple DROs adds even more cumulative latency to a message. Other DRO-related factors such as portal buffering, network bandwidth, switches, etc., can also add latency.</p>
<p>Factors other than latency contribute to the cost of forwarding a message. Consider a message that can be sent from one domain to its destination domain over one of two paths. A three-hop path over 1Gbps links may be faster than a single-hop path over a 100Mbps link. Further, it may be the case that the 100Mbps link is more expensive or less reliable.</p>
<p>You assign forwarding cost values on a per-portal basis. When summed over a path, these values determine the cost of that entire path. A network of DROs uses forwarding cost as the criterion for determining the best path over which to resolve a topic.</p>
<p><br />
 </p>
<h1><a class="anchor" id="umrouterrouting"></a>
DRO Routing&nbsp;&nbsp;<small><a href="#umrouterrouting">&lt;-</a></small></h1>
<p>DROs have an awareness of other DROs in their network and how they are linked. Thus, they each maintain a topology map, which is periodically confirmed and updated. This map also includes forwarding cost information.</p>
<p>Using this information, the DROs can cooperate during topic resolution to determine the best (lowest cost) path over which to resolve a topic or to route control information. They do this by totaling the costs of all portals along each candidate route, then comparing the totals.</p>
<p>For example, the following figure shows two possible paths from TRD1 to TRD2: A-C (total route cost of 11) and B-D (total route cost of 7). In this case, the DROs select path B-D.</p>
<div class="image">
<img src="routing.png" alt="routing.png"/>
</div>
 <p>If a DRO or link along path B-D should fail, the DROs detect this and reroute over path A-C. Similarly, if an administrator revises cost values along path B-D to exceed a total of 12, the DROs reroute to A-C.</p>
<p>If the DROs find more than one path with the same lowest total cost value, i.e., a "tie", they select the path based on a node-ID selection algorithm. Since administrators do not have access to node IDs, this will appear to be a pseudo-random selection.</p>
<dl class="section note"><dt>Note</dt><dd>You cannot configure parallel paths (such as for load balancing or Hot failover), as the DROs always select the lowest-cost path and only the lowest-cost path for all data between two points. However, you can devise an exception to this rule by configuring the destinations to be in different TRDs. For example, you can create an HFX Receiver bridging two receivers in different TRD contexts. The DROs route to both TRDs, and the HFX Receiver merges to a single stream for the application.</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="routingtopologies"></a>
Routing Topologies&nbsp;&nbsp;<small><a href="#routingtopologies">&lt;-</a></small></h1>
<p>You can configure multiple DROs in a variety of topologies. Following are several examples.</p>
<p><br />
 </p>
<h2><a class="anchor" id="directlink"></a>
Direct Link&nbsp;&nbsp;<small><a href="#directlink">&lt;-</a></small></h2>
<p>The Direct Link configuration uses a single DRO to directly connect two TRDs. For a configuration example, see <a class="el" href="umrouterimplementation.html#directlinkconfiguration">Direct Link Configuration</a>.</p>
<div class="image">
<img src="direct_link.png" alt="direct_link.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="singlelink"></a>
Single Link&nbsp;&nbsp;<small><a href="#singlelink">&lt;-</a></small></h2>
<p>A Single Link configuration connects two TRDs using a DRO on each end of an intermediate link. The intermediate link can be a "peer" link, or a <a class="el" href="umrouterimplementation.html#transittrdlinkconfiguration">transit TRD</a>. For configuration examples, see <a class="el" href="umrouterimplementation.html#peerlinkconfiguration">Peer Link Configuration</a> and <a class="el" href="umrouterimplementation.html#transittrdlinkconfiguration">Transit TRD Link Configuration</a>.</p>
<div class="image">
<img src="single_link.png" alt="single_link.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="parallellinks"></a>
Parallel Links&nbsp;&nbsp;<small><a href="#parallellinks">&lt;-</a></small></h2>
<p>Parallel Links offer multiple complete paths between two TRDs. However, UM will not load-balance messages across both links. Rather, parallel links are used for failover purposes. You can set preference between the links by setting the primary path for the lowest cost and standby paths at higher costs. For a configuration example, see <a class="el" href="umrouterimplementation.html#parallellinksconfiguration">Parallel Links Configuration</a>.</p>
<div class="image">
<img src="parallel_links.png" alt="parallel_links.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="loops"></a>
Loops&nbsp;&nbsp;<small><a href="#loops">&lt;-</a></small></h2>
<p>Loops let you route packets back to the originating DRO without reusing any paths. Also, if any peer-peer links are interrupted, the looped DROs are able to find an alternate route between any two TRDs.</p>
<div class="image">
<img src="loops.png" alt="loops.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="loopandspur"></a>
Loop and Spur&nbsp;&nbsp;<small><a href="#loopandspur">&lt;-</a></small></h2>
<p>The Loop and Spur has a one or more DROs tangential to the loop and accessible only through a single DRO participating in the loop. For a configuration example, see <a class="el" href="umrouterimplementation.html#loopandspurconfiguration">Loop and Spur Configuration</a>.</p>
<div class="image">
<img src="loop_and_spur.png" alt="loop_and_spur.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="loopwithcentralizedtrd"></a>
Loop with Centralized TRD&nbsp;&nbsp;<small><a href="#loopwithcentralizedtrd">&lt;-</a></small></h2>
<p>Adding a TRD to the center of a loop enhances its rerouting capabilities.</p>
<div class="image">
<img src="loop_central_trd.png" alt="loop_central_trd.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="Star"></a>
with centralized TRD&nbsp;&nbsp;<small><a href="#Star">&lt;-</a></small></h2>
<p>A Star with a centralized TRD does not offer rerouting capabilities but does provide an economical way to join multiple disparate TRDs.</p>
<div class="image">
<img src="star_central_trd.png" alt="star_central_trd.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="starwithcentralizedumrouter"></a>
Star with Centralized DRO&nbsp;&nbsp;<small><a href="#starwithcentralizedumrouter">&lt;-</a></small></h2>
<p>The Star with a centralized DRO is the simplest way to bridge multiple TRDs. For a configuration example, see <a class="el" href="umrouterimplementation.html#starconfiguration">Star Configuration</a>.</p>
<div class="image">
<img src="star_central_dro.png" alt="star_central_dro.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="mesh"></a>
Mesh&nbsp;&nbsp;<small><a href="#mesh">&lt;-</a></small></h2>
<p>The Mesh topology provides peer portal interconnects between many DROs, approaching an all-connected-to-all configuration. This provides multiple possible paths between any two TRDs in the mesh. Note that this diagram is illustrative of the ways the DROs may be interconnected, and not necessarily a practical or recommended application. For a configuration example, see <a class="el" href="umrouterimplementation.html#meshconfiguration">Mesh Configuration</a>.</p>
<div class="image">
<img src="mesh.png" alt="mesh.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="palmtree"></a>
Palm Tree&nbsp;&nbsp;<small><a href="#palmtree">&lt;-</a></small></h2>
<p>The Palm Tree has a set of series-connected TRDs fanning out to a more richly meshed set of TRDs. This topology tends to pass more concentrated traffic over common links for part of its transit while supporting a loop, star, or mesh near its terminus.</p>
<div class="image">
<img src="palm_tree.png" alt="palm_tree.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="dumbbell"></a>
Dumbbell&nbsp;&nbsp;<small><a href="#dumbbell">&lt;-</a></small></h2>
<p>Similar to the Palm Tree, the Dumbbell has a funneled route with a loop, star, or mesh topology on each end.</p>
<div class="image">
<img src="dumbell.png" alt="dumbell.png"/>
</div>
 <p><br />
 </p>
<h1><a class="anchor" id="unsupportedconfigurations"></a>
Unsupported Configurations&nbsp;&nbsp;<small><a href="#unsupportedconfigurations">&lt;-</a></small></h1>
<p>When designing DRO networks, do not use any of the following topology constructs.</p>
<p>Two peer-to-peer connections between the same two DROs:</p>
<div class="image">
<img src="two_peers.png" alt="two_peers.png"/>
</div>
 <p>Two endpoint connections from the same DRO to the same TRD:</p>
<div class="image">
<img src="two_endpoints.png" alt="two_endpoints.png"/>
</div>
 <p>Assigning two different Domain ID values (from different DROs) to the same TRD:</p>
<div class="image">
<img src="two_domainids.png" alt="two_domainids.png"/>
</div>
 <p><br />
 </p>
<h1><a class="anchor" id="umfeaturecompatibility"></a>
UM Feature Compatibility&nbsp;&nbsp;<small><a href="#umfeaturecompatibility">&lt;-</a></small></h1>
<p>You must install the UM Dynamic Routing Option with its companion Ultra Messaging UMS, UMP, or UMQ product, and versions must match. While most UM features are compatible with the DRO, some are not. Following is a table of features and their compatibilities with the DRO.</p>
<table class="doxtable">
<tr>
<th>UM Feature </th><th>DRO Compatible? </th><th>Notes </th></tr>
<tr>
<td>Connect and Disconnect Source Events </td><td>Yes, but see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/fundamentalconcepts.html#sourceconnectanddisconnectevents">Source Connect and Disconnect Events</a> </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/umfeatures.html#hotfailoverhf">Hot Failover (HF)</a> </td><td>Yes </td><td>The DRO can pass messages sent by HF publishers to HF receivers, however the DRO itself cannot be configured to originate or terminate HF data streams. </td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/umfeatures.html#hotfailoveracrossmultiplecontexts">Hot Failover Across Multiple Contexts (HFX)</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/fundamentalconcepts.html#latejoin">Late Join</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/architecture.html#messagebatching">Message Batching</a> </td><td>Yes </td><td></td></tr>
<tr>
<td>Monitoring/Statistics </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/umfeatures.html#multicastimmediatemessaging">Multicast Immediate Messaging</a> (MIM) </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/umfeatures.html#offtransportrecoveryotr">Off-Transport Recovery (OTR)</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/architecture.html#ordereddelivery">Ordered Delivery</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/umfeatures.html#predefinedmessages">Pre-Defined Messages</a> (PDM) </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/fundamentalconcepts.html#requestresponse">Request/Response</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/umfeatures.html#selfdescribingmessaging">Self Describing Messaging</a> (SDM) </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/advancedoptimizations.html#smartsources">Smart Sources</a> </td><td>Partial </td><td>The DRO does not support proxy sources sending data via Smart Sources. The DRO does accept ingress traffic to proxy receivers sent by Smart Sources. </td></tr>
<tr>
<td>Source Side Filtering </td><td>Yes </td><td>The DRO supports transport source side filtering. You can activate this either at the originating TRD source, or at a downstream proxy source. </td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/umobjects.html#sourcestring">Source String</a> </td><td>Yes, but see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/umobjects.html#sourcestringsinaroutednetwork">Source Strings in a Routed Network</a> </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/config.tag:../Config/" href="../Config/grptransportacceleration.html">Transport Acceleration</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/transporttypes.html#transportlbtipc">Transport LBT-IPC</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/transporttypes.html#transportlbtrm">Transport LBT-RM</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/transporttypes.html#transportlbtru">Transport LBT-RU</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/transporttypes.html#transportlbtsmx">Transport LBT-SMX</a> </td><td>Partial </td><td>The DRO does not support proxy sources sending data via LBT-SMX. Any proxy sources configured for LBT-SMX will be converted to TCP, with a log message warning of the transport change. The DRO does accept LBT-SMX ingress traffic to proxy receivers. </td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/transporttypes.html#transporttcp">Transport TCP</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/umfeatures.html#transportservicesproviderxsp">Transport Services Provider (XSP)</a> </td><td>No </td><td></td></tr>
<tr>
<td>JMS, via UMQ broker </td><td>No </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/umfeatures.html#spectrum">Spectrum</a> </td><td>Yes </td><td>The DRO supports UM Spectrum traffic, but you cannot implement Spectrum channels in DRO proxy sources or receivers. </td></tr>
<tr>
<td>UMP Implicit and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/ume.tag:../UME/" href="../UME/designingpersistentreceivers.html#explicitacknowledgments">Explicit Acknowledgments</a> </td><td>Yes </td><td></td></tr>
<tr>
<td>UMP Persistent Store </td><td>Yes </td><td></td></tr>
<tr>
<td>UMP <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/ume.tag:../UME/" href="../UME/persistencefaulttolerance.html#persistenceproxysources">Persistence Proxy Sources</a> </td><td>Yes </td><td></td></tr>
<tr>
<td>UMP <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/ume.tag:../UME/" href="../UME/persistenceconcepts.html#quorumconsensusstorefailover">Quorum/Consensus Store Failover</a> </td><td>Yes </td><td></td></tr>
<tr>
<td>UMP <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/ume.tag:../UME/" href="../UME/registrationidentifiers.html#managingregidswithsessionids">Managing RegIDs with Session IDs</a> </td><td>Yes </td><td></td></tr>
<tr>
<td>UMP <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/ume.tag:../UME/" href="../UME/operationalview.html#receiverpacedpersistenceoperations">RPP: Receiver-Paced Persistence</a> (RPP) </td><td>Yes </td><td></td></tr>
<tr>
<td>UMQ <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/umq.tag:../UMQ/" href="../UMQ/index.html#umqoverview">Brokered Queuing</a> </td><td>No </td><td></td></tr>
<tr>
<td>UMQ <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/umq.tag:../UMQ/" href="../UMQ/ultraloadbalancingulb.html">Ultra Load Balancing (ULB)</a> </td><td>No </td><td></td></tr>
<tr>
<td>Ultra Messaging Desktop Services (UMDS) </td><td>Not for client connectivity to the UMDS server </td><td></td></tr>
<tr>
<td>Ultra Messaging Manager (UMM) </td><td>Yes </td><td>Not for DRO management </td></tr>
<tr>
<td>UM SNMP Agent </td><td>No </td><td></td></tr>
<tr>
<td>UMCache </td><td>No </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordw_REL_6_16_1/29West/lbm/doc/Gateway/design.tag:../Design/" href="../Design/umobjects.html#umwildcardreceivers">UM Wildcard Receivers</a> </td><td>Yes </td><td></td></tr>
<tr>
<td>Zero Object Delivery (ZOD) </td><td>Yes </td><td></td></tr>
</table>
<p><br />
<br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
