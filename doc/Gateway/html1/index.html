<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Dynamic Routing Guide: Dynamic Routing Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dynamic Routing Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title"></div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p> 
<img src="infa_logo.png" width="400" height="138" alt="Informatica"/><br/><br/>
<big><b>Ultra Messaging</b></big> <small>(Version 6.14)</small><br/>
<br/><br/><br/>
<center class="mytitle">Dynamic Routing Guide</center>
<br/><br/><br/>
[&nbsp;<a href="../index.html">Multi-page HTML</a>&nbsp;]&nbsp;&nbsp;|&nbsp;&nbsp;[&nbsp;<a href="../UM_Routing_Guide=en.pdf">PDF</a>&nbsp;]
<br/><br/>
 </p>
<h1><a class="anchor" id="firstsect"></a>
Introduction&nbsp;&nbsp;<small><a href="#firstsect">&lt;-</a></small></h1>
<p>This document explains design concepts and product implementation for the Ultra Messaging <em>Dynamic Routing Option</em> (DRO).</p>
<p>For policies and procedures related to Ultra Messaging Technical Support, see <a href="https://ultramessaging.github.io/UM_Support.html">UM Support</a>.</p>
<p><b>(C) Copyright Informatica LLC 2004,2021. All Rights Reserved.</b></p>
<p>This software and documentation are provided only under a separate license agreement containing restrictions on use and disclosure. No part of this document may be reproduced or transmitted in any form, by any means (electronic, photocopying, recording or otherwise) without prior consent of Informatica LLC.</p>
<p>A current list of Informatica trademarks is available on the web at <a href="https://www.informatica.com/trademarks.html">https://www.informatica.com/trademarks.html</a>.</p>
<p>Portions of this software and/or documentation are subject to copyright held by third parties. Required third party notices are included with the product.</p>
<p>This software is protected by patents as detailed at <a href="https://www.informatica.com/legal/patents.html">https://www.informatica.com/legal/patents.html</a>.</p>
<p>The information in this documentation is subject to change without notice. If you find any problems in this documentation, please report them to us in writing at Informatica LLC 2100 Seaport Blvd. Redwood City, CA 94063.</p>
<p>Informatica products are warranted according to the terms and conditions of the agreements under which they are provided. <br />
INFORMATICA LLC PROVIDES THE INFORMATION IN THIS DOCUMENT "AS IS" WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING WITHOUT ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND ANY WARRANTY OR CONDITION OF NON-INFRINGEMENT.</p>
<p>The Ultra Messaging Dynamic Routing Option (DRO) consists of a daemon named "tnwgd" that bridges disjoint <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/fundamentalconcepts.html#topicresolutiondomain">Topic Resolution Domains</a> (TRDs) by effectively forwarding control and user traffic between them. Thus, the DRO facilitates WAN routing where multicast routing capability is absent, possibly due to technical obstacles or enterprise policies.</p>
<p>FYI: for historical reasons, the DRO has gone by several names: </p><ul>
<li>
Gateway </li>
<li>
tnwg = "Twenty Nine West Gateway" </li>
<li>
UM Router </li>
<li>
Dynamic Router </li>
<li>
DRO = Dynamic Routing Option </li>
</ul>
<p>In the UM documentation, the term "DRO" is generally used for brevity, but sometimes various abbreviations that include "tnwg" are used.</p>
<p><br />
 </p>
<h2><a class="anchor" id="drofeatures"></a>
DRO Features&nbsp;&nbsp;<small><a href="#drofeatures">&lt;-</a></small></h2>
<p>The DRO includes the following features: </p><ul>
<li>
Full bidirectional forwarding </li>
<li>
Multi-hop forwarding </li>
<li>
Mesh, loop, or alternate path DRO configurations </li>
<li>
Automatic rerouting around faults </li>
<li>
Support for wildcard receivers </li>
<li>
Support of Request/Response messages </li>
<li>
Traffic filtering on multiple criteria </li>
<li>
DRO resilience </li>
<li>
UMP persistence support </li>
<li>
UM transport monitoring statistics </li>
<li>
Web Monitoring </li>
<li>
MIM and UIM forwarding </li>
</ul>
<p>The following features are not fully supported in this release of the DRO: </p><ul>
<li>
Queuing, both ULB and Brokered (including brokered JMS) </li>
<li>
Multitransport Threads (MTT) </li>
</ul>
<p>If you desire any of these features or any configuration or topology not presented in this document, please contact Informatica Ultra Messaging Support for possible alternatives.</p>
<dl class="section note"><dt>Note</dt><dd>The DRO is not directly supported on the OpenVMS platform. UM applications running on the OpenVMS platform, however, can use a DRO running on a different platform, such as Microsoft Windows or Linux.</dd></dl>
<p><br />
 </p><hr/>
<h1><a class="anchor" id="droarchitecture"></a>
DRO Architecture&nbsp;&nbsp;<small><a href="#droarchitecture">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="umrouterportals"></a>
DRO Portals&nbsp;&nbsp;<small><a href="#umrouterportals">&lt;-</a></small></h2>
<p>The DRO uses interfaces, called portals, through which to pass data. A DRO consists of two or more bidirectional portals that may be one of two types:</p>
<ul>
<li>
An endpoint portal, which communicates directly to a UM topic resolution domain (TRD; see Topic Resolution Domains). </li>
<li>
A peer portal, which communicates via TCP with another peer portal (of another DRO), allowing tunneling between DROs. Two peer portals connected to each other are referred to as companion peers, and utilize TCP connections for all data and control traffic (UDP is not supported for this). Compression and encryption can be applied to peer links. </li>
</ul>
<p>The figure below shows a simple DRO use case, where two DROs bridge an ISP to connect two TRDs.</p>
<div class="image">
<img src="portals.png" alt="portals.png"/>
</div>
 <p>You configure portals in the DRO's XML configuration file, specifying the portal's name, cost, UM Configuration, Access Control Lists and other attributes. See <a class="el" href="index.html#xmlconfigurationreference">XML Configuration Reference</a>.</p>
<p><br />
 </p>
<h2><a class="anchor" id="topicresolutiondomains"></a>
Topic Resolution Domains&nbsp;&nbsp;<small><a href="#topicresolutiondomains">&lt;-</a></small></h2>
<p>Since topic resolution uses UDP, sources and receivers must have UDP connectivity to each other. When they do, we consider them to be in the same topic resolution domain (TRD). More specifically, UM contexts must satisfy the following two requirements to belong to the same topic resolution domain.</p>
<ul>
<li>
The contexts must use the same topic resolution UM configuration (i.e., resolver_* options are the same). </li>
<li>
Contexts can communicate using the protocols required for both message transport and topic resolution traffic. </li>
</ul>
<p>For example, two contexts on separate machines in the same LAN are not in the same topic resolution domain if they use different resolver addresses. See Multicast Resolver Network Options. A topic resolution domain can span a WAN if the UM contexts on each side of a firewall use the same UM configuration and the firewall allows UDP traffic (multicast or unicast) to pass.</p>
<p>Each endpoint portal must identify its associated topic resolution domain with a domain-id the DRO's XML configuration file, as in the example below. All portals in the same TRD must have the same domain-id, and different TRDs networked together via DROs must have domain-ids unique to each other.</p>
<div class="fragment"><div class="line">&lt;portals&gt;</div><div class="line">  &lt;endpoint&gt;</div><div class="line">    &lt;name&gt;LAN100&lt;/name&gt;</div><div class="line">    &lt;domain-<span class="keywordtype">id</span>&gt;100&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">    &lt;lbm-config&gt;lan100.cfg&lt;/lbm-config&gt;</div><div class="line">  &lt;/endpoint&gt;</div><div class="line">  &lt;endpoint&gt;</div><div class="line">    &lt;name&gt;LAN200&lt;/name&gt;</div><div class="line">    &lt;domain-<span class="keywordtype">id</span>&gt;200&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">    &lt;lbm-config&gt;lan200.cfg&lt;/lbm-config&gt;</div><div class="line">  &lt;/endpoint&gt;</div><div class="line">&lt;/portals&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="proxysourcesandproxyreceivers"></a>
Proxy Sources and Proxy Receivers&nbsp;&nbsp;<small><a href="#proxysourcesandproxyreceivers">&lt;-</a></small></h2>
<p>To resolve a topic across a DRO (described in <a class="el" href="index.html#basicumrouteroperation">Basic DRO Operation</a>), the DRO creates, within portals, proxy sources and proxy receivers (shown in the figure below by their dashed lines). These proxies behave like their UM counterparts; they resolve topics on the TRDs like normal sources and receivers, and the DRO internally passes data from one portal to the other. However unlike regular sources, proxy sources do not have retransmission retention buffers normally used for Late Join or OTR.</p>
<div class="image">
<img src="proxies.png" alt="proxies.png"/>
</div>
 <p>Portals exist while the DRO is running, however, the DRO creates proxy sources and receivers during topic resolution and deletes them when the topic is retired.</p>
<dl class="section note"><dt>Note</dt><dd>The proxy sources created by the DRO are unrelated to proxy sources created by the UMP persistent store.</dd></dl>
<p><br />
 </p>
<h3><a class="anchor" id="umrouterandtransportsessions"></a>
DRO and Transport Sessions&nbsp;&nbsp;<small><a href="#umrouterandtransportsessions">&lt;-</a></small></h3>
<p>When the DRO creates proxy receivers to get messages to forward, be aware that the <em>transport sessions</em> carrying those messages are not extended to the destination TRD. Instead, the proxy receiver simply takes the messages from the originating transport sessions and transfers them to the destination DRO's proxy sources. Those proxy sources create new transport sessions for those outgoing messages.</p>
<p>The proxy sources' outgoing transport sessions are unrelated to the originating sources' transport sessions. They can even use different transport types, performing a protocol conversion. In fact, a single transport session can contain multiple sources from different originating publishing applications for the same topic. Alternatively, multiple sources from the same originating publishing application which are mapped to the same originating transport session can be split into multiple transport sessions by the proxy sources in a remote TRD.</p>
<p>One consequence of the independence of incoming and outgoing transport sessions is that TCP flow control does not transit the DRO. A slow receiver in a remote TRD cannot "push back" on a fast source. In cases where a TCP transport session is slowed down due to one or more slow receivers, an intermediate DRO will eventually have to drop messages.</p>
<dl class="section warning"><dt>Warning</dt><dd>A single source's "source string" will be different in different TRDs connected by DROs. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#sourcestringsinaroutednetwork">Source Strings in a Routed Network</a> for details.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="routing"></a>
Routing&nbsp;&nbsp;<small><a href="#routing">&lt;-</a></small></h2>
<p>In multiple-DRO environments where more than one DRO can provide possible messaging pathways, the DROs are able to cooperatively determine and establish optimal routes. Also, the DRO network is able to detect link or other DRO outages and automatically reroute traffic as needed. See <a class="el" href="index.html#routingtopologies">Routing Topologies</a> for more information.</p>
<p><br />
 </p><hr/>
<h1><a class="anchor" id="umrouterconcepts"></a>
DRO Concepts&nbsp;&nbsp;<small><a href="#umrouterconcepts">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="basicumrouteroperation"></a>
Basic DRO Operation&nbsp;&nbsp;<small><a href="#basicumrouteroperation">&lt;-</a></small></h2>
<p>The diagram below shows a DRO bridging topic resolution domains TRD1 and TRD2, for topic AAA, in a direct link configuration. Endpoint E1 contains a proxy receiver for topic AAA and endpoint E2 has a proxy source for topic AAA.</p>
<div class="image">
<img src="basic_routing.png" alt="basic_routing.png"/>
</div>
 <p>To establish topic resolution in an already-running DRO, the following sequence typically occurs in an example like the above figure.</p>
<ol>
<li>
A receiver in TRD2 issues a TQR (Topic Query Record) for topic AAA. </li>
<li>
Portal E2 receives the TQR and passes information about topic AAA to all other portals in the DRO. (In this case, E1 is the only other portal.) </li>
<li>
E1 immediately responds with three actions: a) create a proxy receiver for topic AAA, b) the new proxy receiver sends a TQR for AAA into TRD1, and c) E1 issues a Topic Interest message into TRD1 for the benefit of any other DROs that may be connected to that domain. </li>
<li>
A source for topic AAA in TRD1 sees the TQR and issues a TIR (Topic Information Record). </li>
<li>
E2 creates proxy source AAA, which then issues a TIR to TRD2. The receiver in TRD2 joins the transport, thus completing topic resolution. </li>
<li>
E1's AAA proxy receiver sees the TIR and requests that E2 (and any other interested portals in the DRO, if there were any) create a proxy source for AAA. </li>
</ol>
<p><br />
 </p>
<h3><a class="anchor" id="interestandusequeries"></a>
Interest and Use Queries&nbsp;&nbsp;<small><a href="#interestandusequeries">&lt;-</a></small></h3>
<p>When a DRO starts, its endpoint portals issue a brief series of Topic Resolution Request messages to their respective topic resolution domains. This provokes quiescent receivers (and wildcard receivers) into sending Use Query Responses, indicating interest in various topics. Each portal then records this interest.</p>
<div class="image">
<img src="dro_tr_1.png" alt="dro_tr_1.png"/>
</div>
 <p>After a DRO has been running, endpoint portals issue periodic Topic Use Queries and Pattern Use Queries (collectively referred to as simply Use Queries). Use Query Responses from UM contexts confirm that the receivers for these topics indeed still exist, thus maintaining these topics on the interest list. Autonomous TQRs also refresh interest and have the effect of suppressing the generation of Use Queries.</p>
<div class="image">
<img src="dro_tr_2.png" alt="dro_tr_2.png"/>
</div>
 <p>In the case of multi-hop DRO configurations, DROs cannot detect interest for remote contexts via Use Queries or TQRs. They do this instead via Interest Messages. An endpoint portal generates periodic interest messages, which are picked up by adjacent DROs (i.e., the next hop over), at which time interest is refreshed.</p>
<div class="image">
<img src="dro_tr_3.png" alt="dro_tr_3.png"/>
</div>
 <p>You can adjust intervals, limits, and durations for these topic resolution and interest mechanisms via DRO configuration options (see <a class="el" href="index.html#xmlconfigurationreference">XML Configuration Reference</a>).</p>
<p><br />
 </p>
<h3><a class="anchor" id="umrouterkeepalive"></a>
DRO Keepalive&nbsp;&nbsp;<small><a href="#umrouterkeepalive">&lt;-</a></small></h3>
<p>To maintain a reliable connection, peer portals exchange DRO Keepalive signals. Keepalive intervals and connection timeouts are configurable on a per-portal basis. You can also set the DRO to send keepalives only when traffic is idle, which is the default condition. When both traffic and keepalives go silent at a portal ingress, the portal considers the connection lost and disconnects the TCP link. After the disconnect, the portal tries to reconnect. See <a class="el" href="index.html#droelementgatewaykeepalive">&lt;gateway-keepalive&gt;</a>.</p>
<p><br />
 </p>
<h3><a class="anchor" id="finaladvertisements"></a>
Final Advertisements&nbsp;&nbsp;<small><a href="#finaladvertisements">&lt;-</a></small></h3>
<p>DRO proxy sources on endpoint portals, when deleted, send out a series of final advertisements. A final advertisement tells any receivers, including proxy receivers on other DROs, that the particular source has gone away. This triggers EOS and clean-up activities on the receiver relative to that specific source, which causes the receiver to begin querying according to its topic resolution configuration for the sustaining phase of querying.</p>
<p>In short, final advertisements announce earlier detection of a source that has gone away, instead of transport timeout. This causes a faster transition to an alternative proxy source on a different DRO if there is a change in the routing path.</p>
<p><br />
 </p>
<h3><a class="anchor" id="moreaboutproxysourcesandreceivers"></a>
More About Proxy Sources and Receivers&nbsp;&nbsp;<small><a href="#moreaboutproxysourcesandreceivers">&lt;-</a></small></h3>
<p>The domain-id is used by Interest Messages and other internal and DRO-to-DRO traffic to ensure forwarding of all messages (payload and topic resolution) to the correct recipients. This also has the effect of not creating proxy sources/receivers where they are not needed. Thus, DROs create proxy sources and receivers based solely on receiver interest.</p>
<p>If more than one source sends on a given topic, the receiving portal's single proxy receiver for that topic receives all messages sent on that topic. The sending portal, however creates a proxy source for every source sending on the topic. The DRO maintains a table of proxy sources, each keyed by an Originating Transport ID (OTID), enabling the proxy receiver to forward each message to the correct proxy source. An OTID uniquely identifies a source's transport session, and is included in topic advertisements.</p>
<p><br />
 </p>
<h3><a class="anchor" id="protocolconversion"></a>
Protocol Conversion&nbsp;&nbsp;<small><a href="#protocolconversion">&lt;-</a></small></h3>
<p>When an application creates a source, it is configured to use one of the UM transport types. When a DRO is deployed, the proxy sources are also configured to use one of the UM transport types. Although users often use the same transport type for sources and proxy sources, this is not necessary. When different transport types are configured for source and proxy source, the DRO is performing a protocol conversion.</p>
<p>When this is done, it is very important to configure the transports to use the same maximum datagram size. If you don't, the DRO can drop messages which cannot be recovered through normal means. For example, a source in <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/fundamentalconcepts.html#topicresolutiondomain">Topic Resolution Domain</a> 1 might be configured for TCP, which has a default maximum datagram size of 65536. If a DRO's remote portal is configured to create LBT-RU proxy sources, that has a default maximum datagram size of 8192. If the source sends a user message of 10K, the TCP source will send it as a single fragment. The DRO will receive it and will attempt to forward it on an LBT-RU proxy source, but the 10K fragment is too large for LBT-RU's maximum datagram size, so the message will be dropped.</p>
<p>See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/architecture.html#messagefragmentationandreassembly">Message Fragmentation and Reassembly</a>.</p>
<p>The solution is to override the default maximum datagram sizes to be the same. Informatica generally does not recommend configuring UDP-based transports for datagram sizes above 8K, so it is advisable to set the maximum datagram sizes of all transport types to 8192, like this:</p>
<pre>
context transport_tcp_datagram_max_size 8192
context transport_lbtrm_datagram_max_size 8192
context transport_lbtru_datagram_max_size 8192
context transport_lbtipc_datagram_max_size 8192
source transport_lbtsmx_datagram_max_size 8192
</pre><p>Note that users of a <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umglossary.html#glossarykernelbypass">kernel bypass</a> network driver (e.g. Solarflare's Onload) frequently want to avoid all IP fragmentation, and therefore want to set their datagram max sizes to an MTU. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/architecture.html#datagramsandkernelbypassnetworkdrivers">Datagrams and Kernel Bypass Network Drivers</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/architecture.html#dynamicfragmentationreduction">Dynamic Fragmentation Reduction</a>.</p>
<p>Configuration options: <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpdatagrammaxsizecontext">transport_tcp_datagram_max_size (context)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransportlbtrmoperation.html#transportlbtrmdatagrammaxsizecontext">transport_lbtrm_datagram_max_size (context)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransportlbtruoperation.html#transportlbtrudatagrammaxsizecontext">transport_lbtru_datagram_max_size (context)</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransportlbtipcoperation.html#transportlbtipcdatagrammaxsizecontext">transport_lbtipc_datagram_max_size (context)</a>, and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransportlbtsmxoperation.html#transportlbtsmxdatagrammaxsizesource">transport_lbtsmx_datagram_max_size (source)</a>.</p>
<p>Final note: the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpudpbasedresolveroperation.html#resolverdatagrammaxsizecontext">resolver_datagram_max_size (context)</a> option also needs to be made the same in all instances of UM, including DROs.</p>
<p><br />
 </p>
<h2><a class="anchor" id="multihopforwarding"></a>
Multi-Hop Forwarding&nbsp;&nbsp;<small><a href="#multihopforwarding">&lt;-</a></small></h2>
<p>UM can resolve topics across a span of multiple DROs. Consider a simple example DRO deployment, as shown in the following figure.</p>
<div class="image">
<img src="multi_hop.png" alt="multi_hop.png"/>
</div>
 <p>In this diagram, DRO A has two endpoint portals connected to topic resolution domains TRD1 and TRD2. DRO B also has two endpoint portals, which bridge TRD2 and TRD3. Endpoint portal names reflect the topic resolution domain to which they connect. For example, DRO A endpoint E2 interfaces TRD2.</p>
<p>TRD1 has a source for topic AAA, and TRD3, an AAA receiver. The following sequence of events enables the forwarding of topic messages from source AAA to receiver AAA.</p>
<ol>
<li>
Receiver AAA queries (issues a TQR). </li>
<li>
DRO B, endpoint E3 (B-E3) receives the TQR and passes information about topic AAA to all other portals in the DRO. In this case, B-E2 is the only other portal. </li>
<li>
In response, B-E2 creates a proxy receiver for AAA and sends a Topic Interest message for AAA into TRD2. The proxy receiver also issues a TQR, which in this case is ignored. </li>
<li>
DRO A, endpoint E2 (A-E2) receives this Topic Interest message and passes information about topic AAA to all other portals in the DRO. In this case, A-E1 is the only other portal. </li>
<li>
In response, A-E1 creates a proxy receiver for AAA and sends a Topic Interest message and TQR for AAA into TRD1. </li>
<li>
Source AAA responds to the TQR by sending a TIR for topic AAA. In this case, the Topic Interest message is ignored. </li>
<li>
The AAA proxy receiver created by A-E1 receives this TIR and requests that all DRO A portals with an interest in topic AAA create a proxy source for AAA. </li>
<li>
In response, A-E2 creates a proxy source, which sends a TIR for topic AAA via TRD2. </li>
<li>
The AAA proxy receiver at B-E2 receives this TIR and requests that all DRO B portals with an interest in topic AAA create a proxy source for AAA. </li>
<li>
In response, B-E3 creates a proxy source, which sends a TIR for topic AAA via TRD3. The receiver in TRD3 joins the transport. </li>
<li>
Topic AAA has now been resolved across both DROs, which forward all topic messages sent by source AAA to receiver AAA. </li>
</ol>
<p><br />
 </p>
<h2><a class="anchor" id="routingwildcardreceivers"></a>
Routing Wildcard Receivers&nbsp;&nbsp;<small><a href="#routingwildcardreceivers">&lt;-</a></small></h2>
<p>The DRO supports topic resolution for wildcard receivers in a manner very similar to non-wildcard receivers. Wildcard receivers in a TRD issuing a WC-TQR cause corresponding proxy wildcard receivers to be created in portals, as shown in the following figure. The DRO creates a single proxy source for pattern match.</p>
<div class="image">
<img src="wildcard.png" alt="wildcard.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="forwardingcosts"></a>
Forwarding Costs&nbsp;&nbsp;<small><a href="#forwardingcosts">&lt;-</a></small></h2>
<p>Forwarding a message through a DRO incurs a cost in terms of latency, network bandwidth, and CPU utilization on the DRO machine (which may in turn affect the latency of other forwarded messages). Transiting multiple DROs adds even more cumulative latency to a message. Other DRO-related factors such as portal buffering, network bandwidth, switches, etc., can also add latency.</p>
<p>Factors other than latency contribute to the cost of forwarding a message. Consider a message that can be sent from one domain to its destination domain over one of two paths. A three-hop path over 1Gbps links may be faster than a single-hop path over a 100Mbps link. Further, it may be the case that the 100Mbps link is more expensive or less reliable.</p>
<p>You assign forwarding cost values on a per-portal basis. When summed over a path, these values determine the cost of that entire path. A network of DROs uses forwarding cost as the criterion for determining the best path over which to resolve a topic.</p>
<p><br />
 </p>
<h2><a class="anchor" id="umrouterrouting"></a>
DRO Routing&nbsp;&nbsp;<small><a href="#umrouterrouting">&lt;-</a></small></h2>
<p>DROs have an awareness of other DROs in their network and how they are linked. Thus, they each maintain a topology map, which is periodically confirmed and updated. This map also includes forwarding cost information.</p>
<p>Using this information, the DROs can cooperate during topic resolution to determine the best (lowest cost) path over which to resolve a topic or to route control information. They do this by totaling the costs of all portals along each candidate route, then comparing the totals.</p>
<p>For example, the following figure shows two possible paths from TRD1 to TRD2: A-C (total route cost of 11) and B-D (total route cost of 7). In this case, the DROs select path B-D.</p>
<div class="image">
<img src="routing.png" alt="routing.png"/>
</div>
 <p>If a DRO or link along path B-D should fail, the DROs detect this and reroute over path A-C. Similarly, if an administrator revises cost values along path B-D to exceed a total of 12, the DROs reroute to A-C.</p>
<p>If the DROs find more than one path with the same lowest total cost value, i.e., a "tie", they select the path based on a node-ID selection algorithm. Since administrators do not have access to node IDs, this will appear to be a pseudo-random selection.</p>
<dl class="section note"><dt>Note</dt><dd>You cannot configure parallel paths (such as for load balancing or Hot failover), as the DROs always select the lowest-cost path and only the lowest-cost path for all data between two points. However, you can devise an exception to this rule by configuring the destinations to be in different TRDs. For example, you can create an HFX Receiver bridging two receivers in different TRD contexts. The DROs route to both TRDs, and the HFX Receiver merges to a single stream for the application.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="routingtopologies"></a>
Routing Topologies&nbsp;&nbsp;<small><a href="#routingtopologies">&lt;-</a></small></h2>
<p>You can configure multiple DROs in a variety of topologies. Following are several examples.</p>
<p><br />
 </p>
<h3><a class="anchor" id="directlink"></a>
Direct Link&nbsp;&nbsp;<small><a href="#directlink">&lt;-</a></small></h3>
<p>The Direct Link configuration uses a single DRO to directly connect two TRDs. For a configuration example, see <a class="el" href="index.html#directlinkconfiguration">Direct Link Configuration</a>.</p>
<div class="image">
<img src="direct_link.png" alt="direct_link.png"/>
</div>
 <p><br />
 </p>
<h3><a class="anchor" id="singlelink"></a>
Single Link&nbsp;&nbsp;<small><a href="#singlelink">&lt;-</a></small></h3>
<p>A Single Link configuration connects two TRDs using a DRO on each end of an intermediate link. The intermediate link can be a "peer" link, or a transit TRD. For configuration examples, see <a class="el" href="index.html#peerlinkconfiguration">Peer Link Configuration</a> and <a class="el" href="index.html#transittrdlinkconfiguration">Transit TRD Link Configuration</a>.</p>
<div class="image">
<img src="single_link.png" alt="single_link.png"/>
</div>
 <p><br />
 </p>
<h3><a class="anchor" id="parallellinks"></a>
Parallel Links&nbsp;&nbsp;<small><a href="#parallellinks">&lt;-</a></small></h3>
<p>Parallel Links offer multiple complete paths between two TRDs. However, UM will not load-balance messages across both links. Rather, parallel links are used for failover purposes. You can set preference between the links by setting the primary path for the lowest cost and standby paths at higher costs. For a configuration example, see <a class="el" href="index.html#parallellinksconfiguration">Parallel Links Configuration</a>.</p>
<div class="image">
<img src="parallel_links.png" alt="parallel_links.png"/>
</div>
 <p><br />
 </p>
<h3><a class="anchor" id="loops"></a>
Loops&nbsp;&nbsp;<small><a href="#loops">&lt;-</a></small></h3>
<p>Loops let you route packets back to the originating DRO without reusing any paths. Also, if any peer-peer links are interrupted, the looped DROs are able to find an alternate route between any two TRDs.</p>
<div class="image">
<img src="loops.png" alt="loops.png"/>
</div>
 <p><br />
 </p>
<h3><a class="anchor" id="loopandspur"></a>
Loop and Spur&nbsp;&nbsp;<small><a href="#loopandspur">&lt;-</a></small></h3>
<p>The Loop and Spur has a one or more DROs tangential to the loop and accessible only through a single DRO participating in the loop. For a configuration example, see <a class="el" href="index.html#loopandspurconfiguration">Loop and Spur Configuration</a>.</p>
<div class="image">
<img src="loop_and_spur.png" alt="loop_and_spur.png"/>
</div>
 <p><br />
 </p>
<h3><a class="anchor" id="loopwithcentralizedtrd"></a>
Loop with Centralized TRD&nbsp;&nbsp;<small><a href="#loopwithcentralizedtrd">&lt;-</a></small></h3>
<p>Adding a TRD to the center of a loop enhances its rerouting capabilities.</p>
<div class="image">
<img src="loop_central_trd.png" alt="loop_central_trd.png"/>
</div>
 <p><br />
 </p>
<h3><a class="anchor" id="Star"></a>
with centralized TRD&nbsp;&nbsp;<small><a href="#Star">&lt;-</a></small></h3>
<p>A Star with a centralized TRD does not offer rerouting capabilities but does provide an economical way to join multiple disparate TRDs.</p>
<div class="image">
<img src="star_central_trd.png" alt="star_central_trd.png"/>
</div>
 <p><br />
 </p>
<h3><a class="anchor" id="starwithcentralizedumrouter"></a>
Star with Centralized DRO&nbsp;&nbsp;<small><a href="#starwithcentralizedumrouter">&lt;-</a></small></h3>
<p>The Star with a centralized DRO is the simplest way to bridge multiple TRDs. For a configuration example, see <a class="el" href="index.html#starconfiguration">Star Configuration</a>.</p>
<div class="image">
<img src="star_central_dro.png" alt="star_central_dro.png"/>
</div>
 <p><br />
 </p>
<h3><a class="anchor" id="mesh"></a>
Mesh&nbsp;&nbsp;<small><a href="#mesh">&lt;-</a></small></h3>
<p>The Mesh topology provides peer portal interconnects between many DROs, approaching an all-connected-to-all configuration. This provides multiple possible paths between any two TRDs in the mesh. Note that this diagram is illustrative of the ways the DROs may be interconnected, and not necessarily a practical or recommended application. For a configuration example, see <a class="el" href="index.html#meshconfiguration">Mesh Configuration</a>.</p>
<div class="image">
<img src="mesh.png" alt="mesh.png"/>
</div>
 <p><br />
 </p>
<h3><a class="anchor" id="palmtree"></a>
Palm Tree&nbsp;&nbsp;<small><a href="#palmtree">&lt;-</a></small></h3>
<p>The Palm Tree has a set of series-connected TRDs fanning out to a more richly meshed set of TRDs. This topology tends to pass more concentrated traffic over common links for part of its transit while supporting a loop, star, or mesh near its terminus.</p>
<div class="image">
<img src="palm_tree.png" alt="palm_tree.png"/>
</div>
 <p><br />
 </p>
<h3><a class="anchor" id="dumbbell"></a>
Dumbbell&nbsp;&nbsp;<small><a href="#dumbbell">&lt;-</a></small></h3>
<p>Similar to the Palm Tree, the Dumbbell has a funneled route with a loop, star, or mesh topology on each end.</p>
<div class="image">
<img src="dumbell.png" alt="dumbell.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="unsupportedconfigurations"></a>
Unsupported Configurations&nbsp;&nbsp;<small><a href="#unsupportedconfigurations">&lt;-</a></small></h2>
<p>When designing DRO networks, do not use any of the following topology constructs.</p>
<p>Two peer-to-peer connections between the same two DROs:</p>
<div class="image">
<img src="two_peers.png" alt="two_peers.png"/>
</div>
 <p>Two endpoint connections from the same DRO to the same TRD:</p>
<div class="image">
<img src="two_endpoints.png" alt="two_endpoints.png"/>
</div>
 <p>Assigning two different Domain ID values (from different DROs) to the same TRD:</p>
<div class="image">
<img src="two_domainids.png" alt="two_domainids.png"/>
</div>
 <p><br />
 </p>
<h2><a class="anchor" id="umfeaturecompatibility"></a>
UM Feature Compatibility&nbsp;&nbsp;<small><a href="#umfeaturecompatibility">&lt;-</a></small></h2>
<p>You must install the UM Dynamic Routing Option with its companion Ultra Messaging UMS, UMP, or UMQ product, and versions must match. While most UM features are compatible with the DRO, some are not. Following is a table of features and their compatibilities with the DRO.</p>
<table class="doxtable">
<tr>
<th>UM Feature </th><th>DRO Compatible? </th><th>Notes </th></tr>
<tr>
<td>Connect and Disconnect Source Events </td><td>Yes, but see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/fundamentalconcepts.html#sourceconnectanddisconnectevents">Source Connect and Disconnect Events</a> </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#hotfailoverhf">Hot Failover (HF)</a> </td><td>Yes </td><td>The DRO can pass messages sent by HF publishers to HF receivers, however the DRO itself cannot be configured to originate or terminate HF data streams. </td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#hotfailoveracrossmultiplecontexts">Hot Failover Across Multiple Contexts (HFX)</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/fundamentalconcepts.html#latejoin">Late Join</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/architecture.html#messagebatching">Message Batching</a> </td><td>Yes </td><td></td></tr>
<tr>
<td>Monitoring/Statistics </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#multicastimmediatemessaging">Multicast Immediate Messaging</a> (MIM) </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#offtransportrecoveryotr">Off-Transport Recovery (OTR)</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/architecture.html#ordereddelivery">Ordered Delivery</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#predefinedmessages">Pre-Defined Messages</a> (PDM) </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/fundamentalconcepts.html#requestresponse">Request/Response</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#selfdescribingmessaging">Self Describing Messaging</a> (SDM) </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/advancedoptimizations.html#smartsources">Smart Sources</a> </td><td>Partial </td><td>The DRO does not support proxy sources sending data via Smart Sources. The DRO does accept ingress traffic to proxy receivers sent by Smart Sources. </td></tr>
<tr>
<td>Source Side Filtering </td><td>Yes </td><td>The DRO supports transport source side filtering. You can activate this either at the originating TRD source, or at a downstream proxy source. </td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#sourcestring">Source String</a> </td><td>Yes, but see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#sourcestringsinaroutednetwork">Source Strings in a Routed Network</a> </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransportacceleration.html">Transport Acceleration</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/transporttypes.html#transportlbtipc">Transport LBT-IPC</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/transporttypes.html#transportlbtrm">Transport LBT-RM</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/transporttypes.html#transportlbtru">Transport LBT-RU</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/transporttypes.html#transportlbtsmx">Transport LBT-SMX</a> </td><td>Partial </td><td>The DRO does not support proxy sources sending data via LBT-SMX. Any proxy sources configured for LBT-SMX will be converted to TCP, with a log message warning of the transport change. The DRO does accept LBT-SMX ingress traffic to proxy receivers. </td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/transporttypes.html#transporttcp">Transport TCP</a> </td><td>Yes </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#transportservicesproviderxsp">Transport Services Provider (XSP)</a> </td><td>No </td><td></td></tr>
<tr>
<td>JMS, via UMQ broker </td><td>No </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#spectrum">Spectrum</a> </td><td>Yes </td><td>The DRO supports UM Spectrum traffic, but you cannot implement Spectrum channels in DRO proxy sources or receivers. </td></tr>
<tr>
<td>UMP Implicit and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/ume.tag:../../UME/" href="../../UME/designingpersistentreceivers.html#explicitacknowledgments">Explicit Acknowledgments</a> </td><td>Yes </td><td></td></tr>
<tr>
<td>UMP Persistent Store </td><td>Yes </td><td></td></tr>
<tr>
<td>UMP <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/ume.tag:../../UME/" href="../../UME/persistencefaulttolerance.html#persistenceproxysources">Persistence Proxy Sources</a> </td><td>Yes </td><td></td></tr>
<tr>
<td>UMP <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/ume.tag:../../UME/" href="../../UME/persistenceconcepts.html#quorumconsensusstorefailover">Quorum/Consensus Store Failover</a> </td><td>Yes </td><td></td></tr>
<tr>
<td>UMP <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/ume.tag:../../UME/" href="../../UME/registrationidentifiers.html#managingregidswithsessionids">Managing RegIDs with Session IDs</a> </td><td>Yes </td><td></td></tr>
<tr>
<td>UMP <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/ume.tag:../../UME/" href="../../UME/operationalview.html#receiverpacedpersistenceoperations">RPP: Receiver-Paced Persistence</a> (RPP) </td><td>Yes </td><td></td></tr>
<tr>
<td>UMQ <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/umq.tag:../../UMQ/" href="../../UMQ/index.html#umqoverview">Brokered Queuing</a> </td><td>No </td><td></td></tr>
<tr>
<td>UMQ <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/umq.tag:../../UMQ/" href="../../UMQ/ultraloadbalancingulb.html">Ultra Load Balancing (ULB)</a> </td><td>No </td><td></td></tr>
<tr>
<td>Ultra Messaging Desktop Services (UMDS) </td><td>Not for client connectivity to the UMDS server </td><td></td></tr>
<tr>
<td>Ultra Messaging Manager (UMM) </td><td>Yes </td><td>Not for DRO management </td></tr>
<tr>
<td>UM SNMP Agent </td><td>No </td><td></td></tr>
<tr>
<td>UMCache </td><td>No </td><td></td></tr>
<tr>
<td><a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#umwildcardreceivers">UM Wildcard Receivers</a> </td><td>Yes </td><td></td></tr>
<tr>
<td>Zero Object Delivery (ZOD) </td><td>Yes </td><td></td></tr>
</table>
<p><br />
 </p><hr/>
<h1><a class="anchor" id="umrouterimplementation"></a>
DRO Implementation&nbsp;&nbsp;<small><a href="#umrouterimplementation">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="umrouterconfigurationoverview"></a>
DRO Configuration Overview&nbsp;&nbsp;<small><a href="#umrouterconfigurationoverview">&lt;-</a></small></h2>
<p>When the DRO daemon launches, it uses configuration option settings to determine its behavior and expectations. You specify option values in an XML configuration file, and reference the file from a command line argument.</p>
<p>Typically, you have a separate XML configuration file for each DRO, which contains structured configuration elements that describe aspects of the DRO. Within this XML configuration file, each endpoint portal definition points to a UM configuration file, which allow the portal to properly connect to its TRD.</p>
<p><br />
 </p>
<h2><a class="anchor" id="creatingapplicationsforumroutercompatibility"></a>
Creating Applications for DRO Compatibility&nbsp;&nbsp;<small><a href="#creatingapplicationsforumroutercompatibility">&lt;-</a></small></h2>
<p>When developing messaging applications that use Ultra Messaging and, in particular, the DRO, please observe the following guidelines.</p>
<p><br />
 </p>
<h3><a class="anchor" id="namingandidentification"></a>
Naming and Identification&nbsp;&nbsp;<small><a href="#namingandidentification">&lt;-</a></small></h3>
<p>An important part to successfully implementing DROs is prudent and error-free naming of TRDs, DROs, portals, etc., as well as correct identification of IP addresses and ports. It is good practice to first design the DRO network by defining all connections and uniquely naming all DROs, portals, and TRDs. This works well as a diagram similar to some examples presented in this document. Include the following names and parameters in your design diagram:</p>
<ul>
<li>
TRD names and IDs </li>
<li>
DRO names </li>
<li>
Portal names </li>
<li>
Portal costs </li>
</ul>
<p>For example, a well-prepared DRO design could look like the following figure.</p>
<div class="image">
<img src="design_diagram.png" alt="design_diagram.png"/>
</div>
 <p><br />
 </p>
<h3><a class="anchor" id="portalcosts"></a>
Portal Costs&nbsp;&nbsp;<small><a href="#portalcosts">&lt;-</a></small></h3>
<p>A network of DROs uses forwarding cost as the criterion for determining the best (lowest cost) path over which to resolve a topic and route data. Forwarding cost is simply the sum of all portal costs along a multi-DRO path. Thus, total cost for the single path in the above example is 34. (Note that this is a non-real-world example, since costs are pointless without alternate routes to compare to.) You assign portal costs via the <code>&lt;cost&gt;</code> configuration option.</p>
<p>After the DRO network calculates its paths, if a new lower-cost source becomes available, receivers switch to that path.</p>
<p><br />
 </p>
<h3><a class="anchor" id="accesscontrollistsacl"></a>
Access Control Lists (ACL)&nbsp;&nbsp;<small><a href="#accesscontrollistsacl">&lt;-</a></small></h3>
<p>In the DRO, an Access Control List (ACL) is a method of blocking traffic from being forwarded from one TRD to another.</p>
<p>Typical applications for this feature are: </p><ul>
<li>
Prevent unauthorized access to sensitive messages. </li>
<li>
Prevent overloading of bandwidth-limited WAN links, even in the face of accidental use of overly-permissive wildcard receivers. </li>
<li>
ACLs can be used to limit the amount of Topic Resolution traffic for topics on TRDs that don't need those topics. However, the use of wildcard receivers can result in TR traffic even for topics which are blocked from being forwarded. </li>
</ul>
<p>You can apply Access Control Lists to one or more of a DRO's portals to filter traffic by topic, transport, transport session, etc. You configure an ACL in a DRO's XML configuration's <a class="el" href="index.html#droelementacl">&lt;acl&gt;</a> element, as a child of an <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a> or <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> portal. As messages are processed by the DRO, the portals use the ACLs to decide whether to reject the the messages or accept them.</p>
<p><b>Inbound vs. Outbound</b></p>
<p>There are two types of ACLs: inbound and outbound.</p>
<div class="image">
<img src="acl.png" alt="acl.png"/>
</div>
 <p>An inbound ACL tests messages from a source TRD on their way into a DRO portal, and decides whether to reject or accept them. If accepted, the messages can be forwarded to the appropriate destination portal(s).</p>
<p>An outbound ACL tests messages on their way out of a DRO portal, and decides whether to reject them, or transmit them to the destination TRD.</p>
<p>This distinction becomes especially important when a DRO has more than two portals. Messages rejected <em>inbound</em> cannot be forwarded at all. Messages rejected <em>outbound</em> can allow messages to be forwarded out some portals but not others.</p>
<p>An ACL contains one or more Access Control Entries (ACEs).</p>
<p><b>Access Control Entry (ACE)</b></p>
<p>An ACE specifies a set of message matching criteria, and an action to perform based on successful matches. The action is either accept (the message is made available for forwarding, based on interest) or reject (the message is dropped).</p>
<p>When more than one ACE is supplied in an ACL, messages are tested against each ACE in the order defined until a match is found, at which point the ACE specifies what to do (reject or accept).</p>
<p>An ACE contains one or more conditional elements.</p>
<p><b>Conditional Elements</b></p>
<p>Conditional elements do the work of testing various characteristics of messages to determine if they should be rejected or accepted (made available for forwarding).</p>
<p>When more than one conditional element is supplied in an ACE, received messages are tested against all of them to determine if the ACE should be applied.</p>
<p>There are two classes of conditional elements: </p><ul>
<li>
Topic conditionals, which test the topic string of a message. </li>
<li>
Transport session conditionals, which test network transport session characteristics of a message. </li>
</ul>
<p>Topic conditionals can be included on both inbound and outbound ACLs. The topic conditionals are: </p><ul>
<li>
<a class="el" href="index.html#droelementtopic">&lt;topic&gt;</a> - tests for a specific topic name of messages, </li>
<li>
<a class="el" href="index.html#droelementpcrepattern">&lt;pcre-pattern&gt;</a> - matches a group of topics according to a regular expression pattern, </li>
<li>
<a class="el" href="index.html#droelementregexpattern">&lt;regex-pattern&gt;</a> - deprecated, use <a class="el" href="index.html#droelementpcrepattern">&lt;pcre-pattern&gt;</a> instead. </li>
</ul>
<p>Transport session conditionals only apply to inbound ACLs (they are ignored for outbound). The transport session conditionals are: </p><ul>
<li>
<a class="el" href="index.html#droelementtransport">&lt;transport&gt;</a> - tests the transport type of messages. </li>
<li>
<a class="el" href="index.html#droelementsourceip">&lt;source-ip&gt;</a> - tests the IP address of the source or proxy source of messages. </li>
<li>
<a class="el" href="index.html#droelementmulticastgroup">&lt;multicast-group&gt;</a> - tests the destination multicast group of LBT-RM messages. </li>
<li>
<a class="el" href="index.html#droelementudpdestinationport">&lt;udp-destination-port&gt;</a> - tests the destination port of LBT-RM messages. </li>
<li>
<a class="el" href="index.html#droelementudpsourceport">&lt;udp-source-port&gt;</a> - tests the source port of LBT-RM and LBT-RU messages. </li>
<li>
<a class="el" href="index.html#droelementtcpsourceport">&lt;tcp-source-port&gt;</a> - tests the source port of TCP messages. </li>
<li>
<a class="el" href="index.html#droelementxportid">&lt;xport-id&gt;</a> - tests the transport ID of LBT-IPC messages. </li>
</ul>
<p>Conditional elements are children of the <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> element. If you place multiple conditions within an ACE, the DRO performs an "and" operation with them. That is, all relevant conditions in the ACE must be true for the ACE to be applied to a message.</p>
<p>A portal will silently ignore conditional elements that don't apply. For example, if a transport conditional is used on an outbound ACL, or if a UDP-based conditional is present and a TCP message is received.</p>
<p><b>Reject by Default</b></p>
<p>An implicit "reject all" is at the end of every ACL, so the DRO rejects any topic not matched by any ACE. When an ACL is configured for a portal, rejection is the default behavior.</p>
<p>For example, to accept and forward only messages for topic ABC and reject all others: </p><div class="fragment"><div class="line">&lt;acl&gt;</div><div class="line">  &lt;inbound&gt;</div><div class="line">    &lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">      &lt;topic&gt;ABC&lt;/topic&gt;</div><div class="line">    &lt;/ace&gt;</div><div class="line">  &lt;/inbound&gt;</div><div class="line">&lt;/acl&gt;</div></div><!-- fragment --><p> No "reject" ACE is needed since rejection is the default.</p>
<p>In contrast, to accept all messages <em>except</em> for topic ABC: </p><div class="fragment"><div class="line">&lt;acl&gt;</div><div class="line">  &lt;inbound&gt;</div><div class="line">    &lt;ace match=<span class="stringliteral">&quot;reject&quot;</span>&gt;</div><div class="line">      &lt;topic&gt;ABC&lt;/topic&gt;</div><div class="line">    &lt;/ace&gt;</div><div class="line">    &lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">      &lt;topic&gt;.*&lt;/topic&gt;</div><div class="line">    &lt;/ace&gt;</div><div class="line">  &lt;/inbound&gt;</div><div class="line">&lt;/acl&gt;</div></div><!-- fragment --><p> The second ACE is used as a "match all", which effectively changes the default behavior to "accept".</p>
<p><b>ACE Ordering</b></p>
<p>Since the behavior for multiple ACEs is to test them in the order defined, ACEs should be ordered from specific to general.</p>
<p>In the example below, a user named "user1" is assigned to the LAN1 TRD. It is desired to forward all non-user-specific messages, but restrict user-specific message to only that user.</p>
<p>By ordering the ACEs as shown, messages for USER.user1 will be forwarded by the first ACE, but messages for USER.user2, etc. will be rejected due to the second ACE. Messages for topics not starting with "USER." will be forwarded by the third ACE.</p>
<div class="fragment"><div class="line">&lt;endpoint&gt;</div><div class="line">  &lt;name&gt;LAN1&lt;/name&gt;</div><div class="line">  &lt;lbm-config&gt;lan1.cfg&lt;/lbm-config&gt;</div><div class="line">  &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">    &lt;acl&gt;</div><div class="line">      &lt;inbound&gt;</div><div class="line">        &lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">          &lt;topic&gt;USER.user1&lt;/topic&gt;</div><div class="line">        &lt;/ace&gt;</div><div class="line">        &lt;ace match=<span class="stringliteral">&quot;reject&quot;</span>&gt;</div><div class="line">          &lt;pcre-pattern&gt;^USER\..*&lt;/pcre-pattern&gt;</div><div class="line">        &lt;/ace&gt;</div><div class="line">        &lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">          &lt;pcre-pattern&gt;.*&lt;/pcre-pattern&gt;</div><div class="line">        &lt;/ace&gt;</div><div class="line">      &lt;/inbound&gt;</div><div class="line">    &lt;/acl&gt;</div><div class="line">&lt;/endpoint&gt;</div></div><!-- fragment --><p>Note that the string in "&lt;topic&gt;USER.user1&lt;/topic&gt;" is not a regular expression pattern, and therefore does not need any special escaping or meta characters. The "&lt;pcre-pattern&gt;^USER\..*&lt;/pcre-pattern&gt;" is a regular expression, and therefore needs the "^" anchor and the "\." escape sequence.</p>
<p><br />
 </p>
<h3><a class="anchor" id="timersandintervals"></a>
Timers and Intervals&nbsp;&nbsp;<small><a href="#timersandintervals">&lt;-</a></small></h3>
<p>The DRO offers a wide choice of timer and interval options to fine tune its behavior and performance. There are interactions and dependencies between some of these, and if misconfigured, they may cause race or failure conditions.</p>
<p>This manual's description of configuration options (see <a class="el" href="index.html#xmlconfigurationreference">XML Configuration Reference</a>), includes identification of such relationships. Please heed them.</p>
<p><br />
 </p>
<h3><a class="anchor" id="multicastimmediatemessagingconsiderations"></a>
Multicast Immediate Messaging Considerations&nbsp;&nbsp;<small><a href="#multicastimmediatemessagingconsiderations">&lt;-</a></small></h3>
<p>Multicast Immediate Messages (MIMs) may pass through the DRO. You cannot filter MIMs with Access Control Lists (ACL)-MIMs are forwarded to all TRDs. Informatica does not recommend using MIM for messaging traffic across the DRO. MIM is intended for short-lived topics and applications that cannot tolerate a delay between source creation and the sending of the first message. See also <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#multicastimmediatemessaging">Multicast Immediate Messaging</a>.</p>
<p><br />
 </p>
<h3><a class="anchor" id="persistenceovertheumrouter"></a>
Persistence Over the DRO&nbsp;&nbsp;<small><a href="#persistenceovertheumrouter">&lt;-</a></small></h3>
<p>The DRO supports UMP persistence by routing all necessary control and retransmission channels along with transport and topic resolution traffic. A typical implementation places the UMP persistent store in the same TRD as its registered source, as shown in the following figure.</p>
<div class="image">
<img src="persist_1.png" alt="persist_1.png"/>
</div>
 <p>The DRO also supports UMP implementations with the store located in a receiver's TRD, as shown in the following figure.</p>
<div class="image">
<img src="persist_2.png" alt="persist_2.png"/>
</div>
 <p>Note: For more reliable operation when using UMP with DROs, Informatica recommends enabling OTR.</p>
<p><br />
 </p>
<h3><a class="anchor" id="latejoinandofftransportrecovery"></a>
Late Join and Off-Transport Recovery&nbsp;&nbsp;<small><a href="#latejoinandofftransportrecovery">&lt;-</a></small></h3>
<p>The DRO supports sources and receivers configured for Late Join and/or Off-Transport Recovery (OTR). Retransmission requests and subsequent retransmissions are conducted across the entire path through the DRO network. A DRO's proxy sources do not have Late-Join/OTR retention buffers and hence, are not able to provide recovered messages.</p>
<p><br />
 </p>
<h3><a class="anchor" id="topicresolutionreliability"></a>
Topic Resolution Reliability&nbsp;&nbsp;<small><a href="#topicresolutionreliability">&lt;-</a></small></h3>
<p>Topic resolution can sometimes remain in a quiescent phase due to link interruption, preventing needed re-subscription topic resolution activity. Two ways you can address this are:</p>
<ul>
<li>
For isolated incidents, call <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/lbm_8h.html#ae6dd7c56acf916ef66658cc1ebc7a525">lbm_context_topic_resolution_request()</a> (see example lbmtrreq.c). This restarts the sustaining phase. </li>
<li>
For more chronic problems, such as a DRO link (especially an endpoint link) over a WAN of questionable reliability, consider configuring Topic resolution to stay in the sustaining phase (options <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpudpbasedresolveroperation.html#resolveradvertisementminimumsustaindurationsource">resolver_advertisement_minimum_sustain_duration (source)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpudpbasedresolveroperation.html#resolverqueryminimumsustaindurationreceiver">resolver_query_minimum_sustain_duration (receiver)</a>). </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="bosandeosbehaviorovertheumrouter"></a>
BOS and EOS Behavior Over the DRO&nbsp;&nbsp;<small><a href="#bosandeosbehaviorovertheumrouter">&lt;-</a></small></h3>
<p>Through a network of DROs, a topic traverses a separate session for each link along its path. Thus, the DRO reports BOS/EOSs based on the activity between the proxy source transport and its associated receiver. There is no end-to-end, application-to-application reporting of the data path state. Also, in the case of multiple topics being assigned to multiple sessions, topics may find themselves with different session mates from hop to hop. Of course, this all influences when, and for which transport session, a topic's BOSs and EOSs are issued.</p>
<p><br />
 </p>
<h3><a class="anchor" id="umrouterreliableloss"></a>
DRO Reliable Loss&nbsp;&nbsp;<small><a href="#umrouterreliableloss">&lt;-</a></small></h3>
<p>The DRO can create a situation where a "reliable" transport (TCP or LBT-IPC) can experience out-of-order message delivery.</p>
<p>The DRO can perform a "protocol conversion" function. I.e. an originating source can use a UDP-based protocol (LBT-RM or LBT-RU), but the proxy source for a remote receiver can use a "reliable" protocol (TCP or LBT-IPC). With a UDP-based protocol, messages can arrive to the DRO network out of order, usually due to packet loss and recovery. However, when those out-of-order messages are forwarded across a "reliable" protocol (TCP or LBT-IPC), the receiver does not expect the sequence number gap, and immediately declares the out-of-order messages as unrecoverable loss. This, in spite of the fact that the missing message arrives shortly thereafter.</p>
<p>Starting in UM version 6.12, there are two new configuration options: <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransporttcpoperation.html#transporttcpdrolossrecoverytimeoutreceiver">transport_tcp_dro_loss_recovery_timeout (receiver)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransportlbtipcoperation.html#transportlbtipcdrolossrecoverytimeoutreceiver">transport_lbtipc_dro_loss_recovery_timeout (receiver)</a>, which modify the receiver's behavior. Instead of declaring a gap immediately unrecoverable, a delay is introduced which is similar to what a UDP-based receiver uses to wait for lost and retransmitted datagrams. If the missing message arrives within the delay time, the messages are delivered to application without loss.</p>
<p>Be aware that this functionality is only used with "reliable" protocols published by a DRO's proxy source. If this delay feature is enabled, it will <em>not</em> apply to a "reliable" protocol that is received directly from the originating source.</p>
<p>Note however that you can get genuine gaps in the "reliable" data stream <em>without</em> recovery. For example, an overloaded DRO can drop messages. Or a DRO's proxy receiver can experience unrecoverable loss. In that case, the delay will have to expire before the missing messages are declared unrecoverable and subsequent data is delivered.</p>
<dl class="section attention"><dt>Attention</dt><dd>The delay times default to 0, which retains the pre-6.12 behavior of immediately declaring sequence number gaps unrecoverable. If you want this new behavior, you must configure the appropriate option.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="topologyconfigurationexamples"></a>
Topology Configuration Examples&nbsp;&nbsp;<small><a href="#topologyconfigurationexamples">&lt;-</a></small></h2>
<p>Following are example configurations for a variety of DRO topologies. These are the topology examples presented <a class="el" href="index.html#routingtopologies">Routing Topologies</a>.</p>
<p>In a real-world situation, you would have DRO XML configuration files with their portal interfaces referencing complete UM configuration files. However, for these examples, the referred domain configuration files are simplified to contain only information relevant to the applicable DRO. As part of this simplification, domain configuration files show interfaces for only one or two transport types.</p>
<p>Also, IP addresses are provided in some cases and omitted in other cases. This is because initiator peer portals need to know the IP addresses (and port numbers) of their corresponding acceptor portals to establish connections, whereas endpoint portals communicate via topic resolution and thus, do not need to know IP addresses.</p>
<dl class="section note"><dt>Note</dt><dd>Before designing any DRO implementations based on configurations or examples other than the types presented in this document, please contact your technical support representative.</dd></dl>
<p><br />
 </p>
<h3><a class="anchor" id="directlinkconfiguration"></a>
Direct Link Configuration&nbsp;&nbsp;<small><a href="#directlinkconfiguration">&lt;-</a></small></h3>
<p>This example uses a DRO to connect two topic resolution domain LANs.</p>
<div class="image">
<img src="cfg_direct_link.png" alt="cfg_direct_link.png"/>
</div>
 <p><b>TRD1</b> <b>Configuration</b> </p>
<p>This UM configuration file, trd1.cfg, describes TRD1 and is referenced in the DRO configuration file.</p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.1.37.85</div></div><!-- fragment --><p><b>G1</b> <b>Configuration</b> </p>
<p>This DRO configuration file defines two endpoint portals. In the daemon section, we have turned on monitoring for the all endpoint portals in the DRO. The configuration specifies that all statistics be collected every 5 seconds and uses the lbm transport module to send statistics to your monitoring application, which runs in TRD1. See also UM Concepts, Monitoring UMS. The Web Monitor has also been turned on (port 15304) to monitor the performance of the DRO.</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;!-- G1 xml file- 2 endpoint portals --&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;lbm-license-file&gt;lic0014.txt&lt;/lbm-license-file&gt;</div><div class="line">    &lt;monitor interval=<span class="stringliteral">&quot;5&quot;</span>&gt;</div><div class="line">      &lt;transport-module module=<span class="stringliteral">&quot;lbm&quot;</span> options=<span class="stringliteral">&quot;config=trd1.cfg&quot;</span>/&gt;</div><div class="line">    &lt;/monitor&gt;</div><div class="line">    &lt;web-monitor&gt;*:15304&lt;/web-monitor&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;G1-TRD1&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;lbm-config&gt;trd1.cfg&lt;/lbm-config&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;G1-TRD2&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;2&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;lbm-config&gt;trd2.cfg&lt;/lbm-config&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>TRD2</b> <b>Configuration</b> </p>
<p>The configuration file trd2.cfg could look something like this.</p>
<div class="fragment"><div class="line"><span class="preprocessor"># Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.2.37.85</div></div><!-- fragment --><p><br />
 </p>
<h3><a class="anchor" id="peerlinkconfiguration"></a>
Peer Link Configuration&nbsp;&nbsp;<small><a href="#peerlinkconfiguration">&lt;-</a></small></h3>
<p>In cases where the DRO connection between two TRDs must tunnel through a WAN or TCP/IP network, you can implement a DRO at each end, as shown in the example below.</p>
<div class="image">
<img src="cfg_single_link.png" alt="cfg_single_link.png"/>
</div>
 <p><b>TRD1</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.1.37.85</div></div><!-- fragment --><p><b>G1</b> <b>Configuration</b> </p>
<p>Following is an example of two companion peer portals (on different DROs) configured via DRO XML configuration file for a single TCP setup. Note that one must be an initiator and the other, an acceptor.</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">       &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">       &lt;endpoint&gt;</div><div class="line">          &lt;name&gt;G1-TRD1&lt;/name&gt;</div><div class="line">          &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">          &lt;lbm-config&gt;TRD1.cfg&lt;/lbm-config&gt;</div><div class="line">       &lt;/endpoint&gt;</div><div class="line">       &lt;peer&gt;</div><div class="line">          &lt;name&gt;G1-G2&lt;/name&gt;</div><div class="line">          &lt;single-tcp&gt;</div><div class="line">             &lt;interface&gt;10.30.3.100&lt;/interface&gt;</div><div class="line">             &lt;initiator&gt;</div><div class="line">                &lt;address&gt;10.30.3.102&lt;/address&gt;</div><div class="line">                &lt;port&gt;26123&lt;/port&gt;</div><div class="line">             &lt;/initiator&gt;</div><div class="line">          &lt;/single-tcp&gt;</div><div class="line">       &lt;/peer&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>G2</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G2-G1&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">           &lt;interface&gt;10.30.3.102&lt;/interface&gt;</div><div class="line">           &lt;acceptor&gt;</div><div class="line">             &lt;listen-port&gt;26123&lt;/listen-port&gt;</div><div class="line">           &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G2-TRD2&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;2&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD2.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>TRD2</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## LAN2 Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.33.3.0/24</div><div class="line">context resolver_multicast_port 13965</div></div><!-- fragment --><p><br />
 </p>
<h3><a class="anchor" id="transittrdlinkconfiguration"></a>
Transit TRD Link Configuration&nbsp;&nbsp;<small><a href="#transittrdlinkconfiguration">&lt;-</a></small></h3>
<p>This example, like the previous one, configures two localized DROs tunneling a connection between two TRDs, however, the DROs in this example are tunneling through an intermediate TRD. This has the added effect of connecting three TRDs.</p>
<div class="image">
<img src="cfg_transit_trd.png" alt="cfg_transit_trd.png"/>
</div>
 <p><b>TRD1</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## TRD1 Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.2.37.85</div></div><!-- fragment --><p><b>G1</b> <b>Configuration</b> </p>
<p>Following is an example of two companion peer portals (on different DROs) configured via DRO XML configuration file for a single TCP setup. Note that one must be an initiator and the other, an acceptor.</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G1-TRD1&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD1.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G1-TRD2&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;2&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD2.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>TRD2</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## TRD2 Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.2.37.85</div></div><!-- fragment --><p><b>G2</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G2-TRD2&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;2&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD2.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G2-TRD3&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;3&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD3.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>TRD3</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## TRD3 Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.3.37.85</div></div><!-- fragment --><p><br />
 </p>
<h3><a class="anchor" id="parallellinksconfiguration"></a>
Parallel Links Configuration&nbsp;&nbsp;<small><a href="#parallellinksconfiguration">&lt;-</a></small></h3>
<p>This example is similar in purpose to the single link, peer-to-peer example, except that a second pair of DROs is added as a backup route. You can set one of these as a secondary route by assigning a higher cost to portals along the path. In this case we set G3 and G4's portal costs to 5, forcing the lower route to be selected only if the upper (G1, G2) route fails.</p>
<p>Also note that we have configured the peer portals for the leftmost or odd-numbered DROs as initiators, and the rightmost or even-numbered DRO peers as acceptors.</p>
<div class="image">
<img src="cfg_parallel.png" alt="cfg_parallel.png"/>
</div>
 <p><b>TRD1</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## TRD1 Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.1.37.85</div></div><!-- fragment --><p><b>G1</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G1-TRD1&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;cost&gt;2&lt;/cost&gt;</div><div class="line">         &lt;lbm-config&gt;TRD1.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G1-G2&lt;/name&gt;</div><div class="line">         &lt;cost&gt;2&lt;/cost&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;interface&gt;10.30.3.101&lt;/interface&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;10.30.3.102&lt;/address&gt;</div><div class="line">               &lt;port&gt;23745&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>G2</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G2-G1&lt;/name&gt;</div><div class="line">         &lt;cost&gt;2&lt;/cost&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;interface&gt;10.30.3.102&lt;/interface&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23745&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G2-TRD2&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;2&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;cost&gt;2&lt;/cost&gt;</div><div class="line">         &lt;lbm-config&gt;TRD2.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>G3</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G3-TRD1&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;cost&gt;5&lt;/cost&gt;</div><div class="line">         &lt;lbm-config&gt;TRD1.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G3-G4&lt;/name&gt;</div><div class="line">         &lt;cost&gt;5&lt;/cost&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;interface&gt;10.30.3.103&lt;/interface&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;10.30.3.104&lt;/address&gt;</div><div class="line">               &lt;port&gt;23746&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>G4</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G4-G3&lt;/name&gt;</div><div class="line">         &lt;cost&gt;5&lt;/cost&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;interface&gt;10.30.3.104&lt;/interface&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23746&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G4-TRD2&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;2&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;cost&gt;5&lt;/cost&gt;</div><div class="line">         &lt;lbm-config&gt;TRD2.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>TRD2</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## TRD2 Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.2.37.85</div></div><!-- fragment --><p><br />
 </p>
<h3><a class="anchor" id="loopandspurconfiguration"></a>
Loop and Spur Configuration&nbsp;&nbsp;<small><a href="#loopandspurconfiguration">&lt;-</a></small></h3>
<div class="image">
<img src="cfg_loop_spur.png" alt="cfg_loop_spur.png"/>
</div>
 <p><b>TRD1</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.1.37.85</div></div><!-- fragment --><p><b>G1</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G1_to_G3&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.27&lt;/address&gt;</div><div class="line">               &lt;port&gt;23801&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G1_to_G2&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.26&lt;/address&gt;</div><div class="line">               &lt;port&gt;23745&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G1_to_TRD1&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD1.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>G2</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G2_to_G4&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.28&lt;/address&gt;</div><div class="line">               &lt;port&gt;23632&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G2_to_G1&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23745&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G2_to_TRD2&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;2&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD2.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>TRD2</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.2.37.85</div></div><!-- fragment --><p><b>TRD3</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.3.37.85</div></div><!-- fragment --><p><b>G3</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G3_to_G4&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.28&lt;/address&gt;</div><div class="line">               &lt;port&gt;23754&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G3_to_G1&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23801&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G3_to_TRD3&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;3&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD3.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>G4</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G4_to_G3&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23754&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G4_to_TRD4&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;4&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD4.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G4_to_G2&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23632&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G4_to_G5&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.29&lt;/address&gt;</div><div class="line">               &lt;port&gt;23739&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>TRD4</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.4.37.85</div></div><!-- fragment --><p><b>G5</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G5_to_TRD5&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;5&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD5.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G5_to_G4&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23739&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>TRD5</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.5.37.85</div></div><!-- fragment --><p><br />
 </p>
<h3><a class="anchor" id="starconfiguration"></a>
Star Configuration&nbsp;&nbsp;<small><a href="#starconfiguration">&lt;-</a></small></h3>
<p>This network consists of four TRDs. Within each TRD, full multicast connectivity exists. However, no multicast connectivity exists between the four TRDs.</p>
<div class="image">
<img src="cfg_star.png" alt="cfg_star.png"/>
</div>
 <p><b>G1</b> <b>Configuration</b> </p>
<p>The configuration for this DRO also has transport statistics monitoring and the WebMonitor turned on.</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;!-- UM GW xml file- 3 endpoint portals --&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;lbm-license-file&gt;lic0014.txt&lt;/lbm-license-file&gt;</div><div class="line">    &lt;monitor interval=<span class="stringliteral">&quot;5&quot;</span>&gt;</div><div class="line">      &lt;transport-module module=<span class="stringliteral">&quot;lbm&quot;</span> options=<span class="stringliteral">&quot;config=trd1.cfg&quot;</span>/&gt;</div><div class="line">    &lt;/monitor&gt;</div><div class="line">    &lt;web-monitor&gt;*:15304&lt;/web-monitor&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;G1_to_TRD1&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;lbm-config&gt;trd1.cfg&lt;/lbm-config&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;G1_to_TRD2&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;2&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;lbm-config&gt;trd2.cfg&lt;/lbm-config&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;G1_to_TRD3&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;3&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;lbm-config&gt;trd3.cfg&lt;/lbm-config&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;G1_to_TRD4&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;4&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;lbm-config&gt;trd4.cfg&lt;/lbm-config&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>TRD1</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.1.37.85</div></div><!-- fragment --><p><b>TRD2</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.2.37.85</div></div><!-- fragment --><p><b>TRD3</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.3.37.85</div></div><!-- fragment --><p><b>TRD4</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.4.37.85</div></div><!-- fragment --><p><br />
 </p>
<h3><a class="anchor" id="meshconfiguration"></a>
Mesh Configuration&nbsp;&nbsp;<small><a href="#meshconfiguration">&lt;-</a></small></h3>
<p>The mesh topology utilizes many connections between many nodes, to provide a variety of alternate routes. However, meshes are not the best solution in many cases, as unneeded complexity can increase the chance for configuration errors or make it more difficult to trace problems.</p>
<div class="image">
<img src="cfg_mesh.png" alt="cfg_mesh.png"/>
</div>
 <p><b>TRD1</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">### Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.1.37.85</div></div><!-- fragment --><p><b>G1</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G1_to_G5&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.105&lt;/address&gt;</div><div class="line">               &lt;port&gt;23880&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G1_to_G4&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.104&lt;/address&gt;</div><div class="line">               &lt;port&gt;23801&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G1_to_TRD1&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD1.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G1_to_TRD2&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;2&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD2.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G1_to_G2&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.102&lt;/address&gt;</div><div class="line">               &lt;port&gt;23745&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>G2</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G2_to_G5&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.105&lt;/address&gt;</div><div class="line">               &lt;port&gt;23608&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G2_to_G4&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23831&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G2_to_G1&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23745&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G2_to_G3&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.103&lt;/address&gt;</div><div class="line">               &lt;port&gt;23632&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G2_to_TRD2&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;2&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD2.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>G3</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G3_to_G5&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.105&lt;/address&gt;</div><div class="line">               &lt;port&gt;23739&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G3_to_G4&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23754&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G3_to_G2&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23632&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>TRD2</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.2.37.85</div></div><!-- fragment --><p><b>TRD3</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">## Global Configuration Options ##</span></div><div class="line">context request_tcp_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_port 13965</div><div class="line">context resolver_multicast_interface 10.29.3.0/24</div><div class="line">context resolver_multicast_address 225.3.37.85</div></div><!-- fragment --><p><b>G4</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G4_to_G5&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.105&lt;/address&gt;</div><div class="line">               &lt;port&gt;23580&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G4_to_TRD1&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD1.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">      &lt;endpoint&gt;</div><div class="line">         &lt;name&gt;G4_to_TRD3&lt;/name&gt;</div><div class="line">         &lt;domain-<span class="keywordtype">id</span>&gt;3&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">         &lt;lbm-config&gt;TRD3.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;/endpoint&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G4_to_G1&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23801&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G4_to_G3&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.103&lt;/address&gt;</div><div class="line">               &lt;port&gt;23754&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G4_to_G2&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;initiator&gt;</div><div class="line">               &lt;address&gt;55.55.10.102&lt;/address&gt;</div><div class="line">               &lt;port&gt;23831&lt;/port&gt;</div><div class="line">            &lt;/initiator&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>G5</b> <b>Configuration</b> </p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">    &lt;daemon&gt;</div><div class="line">        &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;/daemon&gt;</div><div class="line">    &lt;portals&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G5_to_G4&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23580&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G5_to_G1&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23880&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G5_to_G3&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23739&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">      &lt;peer&gt;</div><div class="line">         &lt;name&gt;G5_to_G2&lt;/name&gt;</div><div class="line">         &lt;single-tcp&gt;</div><div class="line">            &lt;acceptor&gt;</div><div class="line">               &lt;listen-port&gt;23608&lt;/listen-port&gt;</div><div class="line">            &lt;/acceptor&gt;</div><div class="line">         &lt;/single-tcp&gt;</div><div class="line">      &lt;/peer&gt;</div><div class="line">    &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="usingumconfigurationfileswiththeumrouter"></a>
Using UM Configuration Files with the DRO&nbsp;&nbsp;<small><a href="#usingumconfigurationfileswiththeumrouter">&lt;-</a></small></h2>
<p>Within the DRO configuration file, the endpoint portal's <code>&lt;lbm-config&gt;</code> element lets you import configurations from either a plain text or XML UM configuration file. However, using the XML type of UM configuration files provides the following advantages over plain text UM configuration files:</p>
<ul>
<li>
You can apply UM attributes per topic and/or per context. </li>
<li>
You can apply attributes to all portals on a particular DRO using a UM XML template (instead of individual portal settings). </li>
<li>
Using UM XML templates to set options for individual portals lets the DRO process these settings in the <code>&lt;daemon&gt;</code> element instead of within each portal's configuration. </li>
</ul>
<p><br />
 </p>
<h3><a class="anchor" id="settingindividualendpointoptions"></a>
Setting Individual Endpoint Options&nbsp;&nbsp;<small><a href="#settingindividualendpointoptions">&lt;-</a></small></h3>
<p>When setting endpoint options, first name the context of each endpoint in the DRO's XML configuration file.</p>
<div class="fragment"><div class="line">&lt;portals&gt;</div><div class="line">  &lt;endpoint&gt;</div><div class="line">    &lt;name&gt;Endpoint_1&lt;/name&gt;</div><div class="line">    &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">    &lt;source-context-name&gt;G1_E1&lt;/source-context-name&gt;</div><div class="line">    &lt;lbm-attributes&gt;</div><div class="line">      &lt;option name=<span class="stringliteral">&quot;request_tcp_interface&quot;</span> scope=<span class="stringliteral">&quot;context&quot;</span> value=<span class="stringliteral">&quot;10.29.4.0/24&quot;</span>/&gt;</div><div class="line">    &lt;/lbm-attributes&gt;</div><div class="line">  &lt;/endpoint&gt;</div><div class="line">  &lt;endpoint&gt;</div><div class="line">    &lt;name&gt;G1-TRD2&lt;/name&gt;</div><div class="line">    &lt;domain-<span class="keywordtype">id</span>&gt;2&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">    &lt;receiver-context-name&gt;G1_E2&lt;/source-context-name&gt;</div><div class="line">    &lt;lbm-attributes&gt;</div><div class="line">      &lt;option name=<span class="stringliteral">&quot;request_tcp_interface&quot;</span> scope=<span class="stringliteral">&quot;context&quot;</span> value=<span class="stringliteral">&quot;10.29.5.0/24&quot;</span> /&gt;</div><div class="line">    &lt;/lbm-attributes&gt;</div><div class="line">  &lt;/endpoint&gt;</div><div class="line">&lt;/portals&gt;</div></div><!-- fragment --><p>Then assign configuration templates to those contexts in the UM XML configuration file.</p>
<div class="fragment"><div class="line">&lt;application name=<span class="stringliteral">&quot;dro1&quot;</span> <span class="keyword">template</span>=<span class="stringliteral">&quot;global&quot;</span>&gt;</div><div class="line">  &lt;contexts&gt;</div><div class="line">    &lt;context name=<span class="stringliteral">&quot;G1_E1&quot;</span> <span class="keyword">template</span>=<span class="stringliteral">&quot;G1-E1-options&quot;</span>&gt;</div><div class="line">      &lt;sources /&gt;</div><div class="line">    &lt;/context&gt;</div><div class="line">    &lt;context name=<span class="stringliteral">&quot;G1_E2&quot;</span> <span class="keyword">template</span>=<span class="stringliteral">&quot;G1-E2-options&quot;</span>&gt;</div><div class="line">      &lt;sources /&gt;</div><div class="line">    &lt;/context&gt;</div><div class="line">  &lt;/contexts&gt;</div><div class="line">&lt;/application&gt;</div></div><!-- fragment --><p>You specify the unique options for each of this DRO's two endpoints in the UM XML configuration <code>&lt;templates&gt;</code> section used for G1-E1-options and G1-E2-options.</p>
<p><br />
 </p>
<h3><a class="anchor" id="umrouterandumxmlconfigurationusecases"></a>
DRO and UM XML Configuration Use Cases&nbsp;&nbsp;<small><a href="#umrouterandumxmlconfigurationusecases">&lt;-</a></small></h3>
<p>One advantage of using UM XML configuration files with the DRO is the ability to assign unique UM attributes to the topics and contexts used for the proxy sources and receivers (which plain text UM configuration files cannot do). The following example shows how to assign a different LBTRM multicast address to a source based on its topic.</p>
<p>Create a new UM XML configuration template for the desired topic name.</p>
<div class="fragment"><div class="line">&lt;<span class="keyword">template</span> name=<span class="stringliteral">&quot;AAA-template&quot;</span>&gt;</div><div class="line">  &lt;options type=<span class="stringliteral">&quot;source&quot;</span>&gt;</div><div class="line">    &lt;option name=<span class="stringliteral">&quot;transport_lbtrm_multicast_address&quot;</span></div><div class="line">    <span class="keywordflow">default</span>-value=<span class="stringliteral">&quot;225.2.37.88&quot;</span>/&gt;</div><div class="line">  &lt;/options&gt;</div><div class="line">&lt;/<span class="keyword">template</span>&gt;</div></div><!-- fragment --><p>Then include this template in the <code>&lt;application&gt;</code> element associated with the DRO.</p>
<div class="fragment"><div class="line">&lt;application name=<span class="stringliteral">&quot;dro1&quot;</span> <span class="keyword">template</span>=<span class="stringliteral">&quot;global-options&quot;</span>&gt;</div><div class="line">  &lt;contexts&gt;</div><div class="line">    &lt;context&gt;</div><div class="line">      &lt;sources <span class="keyword">template</span>=<span class="stringliteral">&quot;source-options&quot;</span>&gt;</div><div class="line">        &lt;topic topicname=<span class="stringliteral">&quot;AAA&quot;</span> <span class="keyword">template</span>=<span class="stringliteral">&quot;AAA-template&quot;</span> /&gt;</div><div class="line">      &lt;/sources&gt;</div><div class="line">    &lt;/context&gt;</div><div class="line">  &lt;/contexts&gt;</div><div class="line">&lt;/application&gt;</div></div><!-- fragment --><p>It is also possible to assign UM attributes directly in the <code>&lt;application&gt;</code> tag. For example, the following specifies that a particular topic should use an LBT-RU transport.</p>
<div class="fragment"><div class="line">&lt;application name=<span class="stringliteral">&quot;dro1&quot;</span> <span class="keyword">template</span>=<span class="stringliteral">&quot;dro1-common&quot;</span>&gt;</div><div class="line">  &lt;contexts&gt;</div><div class="line">    &lt;context&gt;</div><div class="line">      &lt;sources <span class="keyword">template</span>=<span class="stringliteral">&quot;source-template&quot;</span>&gt;</div><div class="line">        &lt;topic topicname=<span class="stringliteral">&quot;LBTRU_TOPIC&quot;</span>&gt;</div><div class="line">          &lt;options type=<span class="stringliteral">&quot;source&quot;</span>&gt;</div><div class="line">            &lt;option name=<span class="stringliteral">&quot;transport&quot;</span> <span class="keywordflow">default</span>-value=<span class="stringliteral">&quot;lbtru&quot;</span> /&gt;</div><div class="line">            &lt;/options&gt;</div><div class="line">        &lt;/topic&gt;</div><div class="line">      &lt;/sources&gt;</div><div class="line">    &lt;/context&gt;</div><div class="line">  &lt;/contexts&gt;</div><div class="line">&lt;/application&gt;</div></div><!-- fragment --><p><br />
 </p>
<h3><a class="anchor" id="sampleconfiguration"></a>
Sample Configuration&nbsp;&nbsp;<small><a href="#sampleconfiguration">&lt;-</a></small></h3>
<p>The following sample configuration incorporates many of the examples mentioned above. The DRO applies options to all UM objects created. The UM XML configuration file overwrites these options for two specific topics. The first topic, LBTRM_TOPIC, uses a different template to change its transport from TCP to LBTRM, and to set an additional property. The second topic, LBTRU_TOPIC, also changes its transport from TCP to a new value. However, its new attributes are applied directly in its associated topic tag, instead of referencing a template. In addition, this sample configuration assigns the rm-source template to all sources and receivers associated with the context endpt_1.</p>
<p><br />
 </p>
<h3><a class="anchor" id="xmlumconfigurationfile"></a>
XML UM Configuration File&nbsp;&nbsp;<small><a href="#xmlumconfigurationfile">&lt;-</a></small></h3>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;um-configuration version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;templates&gt;</div><div class="line">    &lt;<span class="keyword">template</span> name=<span class="stringliteral">&quot;dro1-common&quot;</span>&gt;</div><div class="line">      &lt;options type=<span class="stringliteral">&quot;source&quot;</span>&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;transport&quot;</span> <span class="keywordflow">default</span>-value=<span class="stringliteral">&quot;tcp&quot;</span> /&gt;</div><div class="line">      &lt;/options&gt;</div><div class="line">      &lt;options type=<span class="stringliteral">&quot;context&quot;</span>&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;request_tcp_interface&quot;</span> <span class="keywordflow">default</span>-value=<span class="stringliteral">&quot;10.29.5.6&quot;</span> /&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;transport_tcp_port_low&quot;</span> <span class="keywordflow">default</span>-value=<span class="stringliteral">&quot;4400&quot;</span> /&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;transport_tcp_port_high&quot;</span> <span class="keywordflow">default</span>-value=<span class="stringliteral">&quot;4500&quot;</span> /&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;resolver_multicast_address&quot;</span> <span class="keywordflow">default</span>-value=<span class="stringliteral">&quot;225.2.37.88&quot;</span>/&gt;</div><div class="line">      &lt;/options&gt;</div><div class="line">    &lt;/<span class="keyword">template</span>&gt;</div><div class="line">    &lt;<span class="keyword">template</span> name=<span class="stringliteral">&quot;rm-source&quot;</span>&gt;</div><div class="line">      &lt;options type=<span class="stringliteral">&quot;source&quot;</span>&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;transport&quot;</span> <span class="keywordflow">default</span>-value=<span class="stringliteral">&quot;lbtrm&quot;</span> /&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;transport_lbtrm_multicast_address&quot;</span> <span class="keywordflow">default</span>-value=<span class="stringliteral">&quot;225.2.37.89&quot;</span>/&gt;</div><div class="line">      &lt;/options&gt;</div><div class="line">    &lt;/<span class="keyword">template</span>&gt;</div><div class="line">  &lt;/templates&gt;</div><div class="line">  &lt;applications&gt;</div><div class="line">    &lt;application name=<span class="stringliteral">&quot;dro1&quot;</span> <span class="keyword">template</span>=<span class="stringliteral">&quot;dro1-common&quot;</span>&gt;</div><div class="line">     &lt;contexts&gt;</div><div class="line">        &lt;context&gt;</div><div class="line">          &lt;sources&gt;</div><div class="line">            &lt;topic topicname=<span class="stringliteral">&quot;LBTRM_TOPIC&quot;</span> <span class="keyword">template</span>=<span class="stringliteral">&quot;rm-source&quot;</span> /&gt;</div><div class="line">            &lt;topic topicname=<span class="stringliteral">&quot;LBTRU_TOPIC&quot;</span>&gt;</div><div class="line">              &lt;options type=<span class="stringliteral">&quot;source&quot;</span>&gt;</div><div class="line">                &lt;option name=<span class="stringliteral">&quot;transport&quot;</span> <span class="keywordflow">default</span>-value=<span class="stringliteral">&quot;lbtru&quot;</span> /&gt;</div><div class="line">                &lt;option name=<span class="stringliteral">&quot;resolver_unicast_daemon&quot;</span> <span class="keywordflow">default</span>-value=<span class="stringliteral">&quot;10.29.5.1:1234&quot;</span> /&gt;</div><div class="line">              &lt;/options&gt;</div><div class="line">            &lt;/topic&gt;</div><div class="line">          &lt;/sources&gt;</div><div class="line">        &lt;/context&gt;</div><div class="line">        &lt;context name=<span class="stringliteral">&quot;endpt_1&quot;</span>&gt;</div><div class="line">          &lt;sources <span class="keyword">template</span>=<span class="stringliteral">&quot;rm-source&quot;</span>/&gt;</div><div class="line">        &lt;/context&gt;</div><div class="line">      &lt;/contexts&gt;</div><div class="line">    &lt;/application&gt;</div><div class="line">  &lt;/applications&gt;</div><div class="line">&lt;/um-configuration&gt;</div></div><!-- fragment --><p><br />
 </p>
<h3><a class="anchor" id="xmlumrouterconfigurationfile"></a>
XML DRO Configuration File&nbsp;&nbsp;<small><a href="#xmlumrouterconfigurationfile">&lt;-</a></small></h3>
<p>This DRO uses the above XML UM configuration file, sample-config.xml, to set its UM options. It has three endpoints, one of which has the context endpt_1.</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;xml-config&gt;sample-config.xml&lt;/xml-config&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;Endpoint_1&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;lbm-attributes&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;context_name&quot;</span> scope=<span class="stringliteral">&quot;context&quot;</span> value=<span class="stringliteral">&quot;endpt_1&quot;</span> /&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;request_tcp_interface&quot;</span> scope=<span class="stringliteral">&quot;context&quot;</span></div><div class="line">        value=<span class="stringliteral">&quot;10.29.4.0/24&quot;</span>/&gt;</div><div class="line">      &lt;/lbm-attributes&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;Endpoint_2&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;2&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;lbm-attributes&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;request_tcp_interface&quot;</span> scope=<span class="stringliteral">&quot;context&quot;</span></div><div class="line">        value=<span class="stringliteral">&quot;10.29.5.0/24&quot;</span>/&gt;</div><div class="line">      &lt;/lbm-attributes&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;Endpoint_3&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;3&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;lbm-attributes&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;request_tcp_interface&quot;</span> scope=<span class="stringliteral">&quot;context&quot;</span></div><div class="line">        value=<span class="stringliteral">&quot;10.29.6.0/24&quot;</span>/&gt;</div><div class="line">      &lt;/lbm-attributes&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="runningtheumrouterdaemon"></a>
Running the DRO Daemon&nbsp;&nbsp;<small><a href="#runningtheumrouterdaemon">&lt;-</a></small></h2>
<p>To run the DRO, ensure the following:</p>
<ul>
<li>
Library environment variable paths are set correctly (LD_LIBRARY_PATH) </li>
<li>
The license environment variable LBM_LICENSE_FILENAME points to a valid DRO license file. </li>
<li>
The configuration file is error free. </li>
</ul>
<p>Typically, you run the DRO with one configuration file argument, for example:</p>
<div class="fragment"><div class="line">tnwgd gw1-config.xml</div></div><!-- fragment --><p> (FYI: "tnwgd" stands for "Twenty Nine West Gateway Daemon", a historical name for the DRO.)</p>
<p>The DRO logs version information on startup. The following is an example of this information:</p>
<div class="fragment"><div class="line">Version 6.0 Build: Sep 26 2012, 00:31:33 (UMS 6.0 [UMP-6.0] [UMQ-6.0] [64-bit] Build: Sep 26 2012, 00:27:17 ( DEBUG license LBT-RM LBT-RU LBT-IPC LBT-RDMA ) WC[PCRE 7.4 2007-09-21, regex, appcb] HRT[gettimeofday()])</div></div><!-- fragment --><p><br />
 </p><hr/>
<h1><a class="anchor" id="manpagesforumrouter"></a>
Man Pages for DRO&nbsp;&nbsp;<small><a href="#manpagesforumrouter">&lt;-</a></small></h1>
<p>UM Message Routing services are provided by the DRO daemon (DRO).</p>
<p>There are two executables for the DRO, each with it's own man page: </p><ul>
<li>
<a class="el" href="index.html#tnwgdmanpage">Tnwgd Man Page</a> - Unix and Windows command-line interface. </li>
<li>
<a class="el" href="index.html#tnwgdsmanpage">Tnwgds Man Page</a> - Windows service interface. </li>
</ul>
<p>(Note: "tnwg" stands for "Twenty Nine West Gateway", an older name for the DRO.)</p>
<p><br />
 </p>
<h2><a class="anchor" id="tnwgdmanpage"></a>
Tnwgd Man Page&nbsp;&nbsp;<small><a href="#tnwgdmanpage">&lt;-</a></small></h2>
<p>Unix and Windows command-line interface.</p>
<div class="fragment"><div class="line">Purpose: UM Gateway daemon</div><div class="line">Usage: tnwgd [options] configfile</div><div class="line">Available options:</div><div class="line">  -d, --dump-dtd             dump the configuration DTD to stdout</div><div class="line">  -h, --help                 display <span class="keyword">this</span> help and exit</div><div class="line">  -v, --validate             validate config-file then exit</div><div class="line">  -f, --detach               detach from terminal</div></div><!-- fragment --><dl class="section user"><dt><b>Description</b> </dt><dd>The <code>tnwgd</code> command runs the DRO. It can be run interactively from a shell or command prompt, or from a script or batch file. (For use as a Windows Service, see <a class="el" href="index.html#tnwgdsmanpage">Tnwgds Man Page</a>.)</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"configfile"</b> parameter is required and specifies the file path for the DRO's XML configuration file. See <a class="el" href="index.html#xmlconfigurationreference">XML Configuration Reference</a> for configuration details.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-f"</b> option directs a Unix-based <code>tnwgd</code> to fork a child process which detaches from the controlling terminal. The <code>tnwgd</code> command normally remains attached to the controlling terminal and runs until interrupted. With "-f", the <code>tnwgd</code> command exits back to the shell, and the forked child continues running in the background.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-d"</b> option dumps (prints) the DRO's XML DTD to standard output. After dumping the DTD, <code>tnwgd</code> exits. See <a class="el" href="index.html#umrouterconfigurationdtd">DRO Configuration DTD</a> for the DTD with comments removed.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-v"</b> option validates the XML structure of the given configuration file against the DRO's XML DTD. After validating the configuration file's XML structure, <code>tnwgd</code> exits with status 0 for no errors, or non-zero if errors were found. For example: <div class="fragment"><div class="line">tnwgd -v /um/dro_cfg.xml</div></div><!-- fragment --></dd></dl>
<dl class="section user"><dt></dt><dd>Note that valid XML structure does not guarantee that the configuration file is completely correct. It must be tested on a running DRO.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-h"</b> option prints the man page and exits.</dd></dl>
<dl class="section user"><dt><b>Exit</b> <b>Status</b> </dt><dd>The exit status from <code>tnwgd</code> is 0 for success and some non-zero value for failure.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="tnwgdsmanpage"></a>
Tnwgds Man Page&nbsp;&nbsp;<small><a href="#tnwgdsmanpage">&lt;-</a></small></h2>
<p>Windows service interface.</p>
<p>See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/startupshutdownprocedures.html#umdaemonsaswindowsservices">UM Daemons as Windows Services</a> for general information about UM daemons as Windows Services.</p>
<div class="fragment"><div class="line">Purpose: UM Gateway daemon</div><div class="line">Usage: tnwgds [options] [configfile]</div><div class="line">Available options:</div><div class="line">  -d, --dump-dtd             dump the configuration DTD to stdout</div><div class="line">  -h, --help                 display <span class="keyword">this</span> help and exit</div><div class="line">  -v, --validate             validate config-file then exit</div><div class="line">  -E, --env_var_file         update/<span class="keyword">set</span> the environment Variable File</div><div class="line">  -U, --unset-env-var-file   unset the environment variable file</div><div class="line">  -s, --service=install      install the service passing configfile</div><div class="line">  -s, --service=<span class="keyword">remove</span>       <span class="keyword">delete</span>/<span class="keyword">remove</span> the service</div><div class="line">  -s, --service=config       update configfile info to use configfile passed</div><div class="line">  -e, --<span class="keyword">event</span>-log-level      update/<span class="keyword">set</span> service logging level.  This is the minimum logging</div><div class="line">                             level to send to the Windows <span class="keyword">event</span> log.  Valid values are:</div><div class="line">                                NONE - Send no events</div><div class="line">                                INFO</div><div class="line">                                WARN - <span class="keywordflow">default</span></div><div class="line">                                ERROR</div></div><!-- fragment --><dl class="section user"><dt><b>Description</b> </dt><dd>The <code>tnwgds</code> command has two functions: <ul>
<li>
First, it lets the user supply Windows Service operating parameters, which the command saves into the Windows registry. Those operating parameters are subsequently used by the DRO Service. For details on setting Windows Service operating parameters, see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/startupshutdownprocedures.html#configurethewindowsservice">Configure the Windows Service</a>. </li>
<li>
Second, it provides Windows with the DRO executable to run as a Service. </li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"configfile"</b> parameter provides the file path for the DRO's XML configuration file. It is supplied in conjunction with the "-v" option or the "-s config" option (see below). See <a class="el" href="index.html#xmlconfigurationreference">XML Configuration Reference</a> for configuration details.</dd></dl>
<dl class="section user"><dt></dt><dd>Note that valid XML structure does not guarantee that the configuration file is completely correct. It must be tested on a running DRO.</dd></dl>
<dl class="section user"><dt></dt><dd>For <b>"-s install"</b> see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/startupshutdownprocedures.html#installthewindowsservice">Install the Windows Service</a>.</dd></dl>
<dl class="section user"><dt></dt><dd>For <b>"-s remove"</b> see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/startupshutdownprocedures.html#removethewindowsservice">Remove the Windows Service</a>.</dd></dl>
<dl class="section user"><dt></dt><dd>For <b>"-s config"</b>, <b>"-e"</b>, <b>"-E"</b>, and <b>"-U"</b>, see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/startupshutdownprocedures.html#configurethewindowsservice">Configure the Windows Service</a>.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-d"</b> option dumps (prints) the DRO's XML DTD to standard output. After dumping the DTD, <code>tnwgds</code> exits.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-v"</b> option validates the XML structure of the given configuration file against the DRO's XML DTD. After validating the configuration file's XML structure, <code>tnwgd</code> exits with status 0 for no errors, or non-zero if errors were found. For example: <div class="fragment"><div class="line">tnwgds -v c:\um\dro_cfg.xml</div></div><!-- fragment --></dd></dl>
<dl class="section user"><dt></dt><dd>Note that valid XML structure does not guarantee that the configuration file is completely correct. It must be tested on a running DRO.</dd></dl>
<dl class="section user"><dt></dt><dd>The <b>"-h"</b> option prints the man page and exits.</dd></dl>
<dl class="section user"><dt><b>Exit</b> <b>Status</b> </dt><dd>The exit status from <code>tnwgd</code> is 0 for success and some non-zero value for failure.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Do not use the task manager or the "kill" command to stop a UM daemon running as a Windows service. Use the Windows service control panel to stop the service.</dd></dl>
<p><br />
 </p><hr/>
<h1><a class="anchor" id="xmlconfigurationreference"></a>
XML Configuration Reference&nbsp;&nbsp;<small><a href="#xmlconfigurationreference">&lt;-</a></small></h1>
<p>For controlling/configuring each DRO, you use a XML DRO configuration file, which also contains references to UM configuration files to extract needed information about the TRDs interfaced by endpoint portals.</p>
<p>An overview of the file format can be seen in the <a class="el" href="index.html#umrouterconfigurationdtd">DRO Configuration DTD</a>.</p>
<p>An XML DRO configuration file follows standard XML conventions. Element declarations or a pointer to a DTD file are not needed, as these are handled by the DRO.</p>
<p><br />
 </p>
<h2><a class="anchor" id="filestructure"></a>
File Structure&nbsp;&nbsp;<small><a href="#filestructure">&lt;-</a></small></h2>
<p>An XML DRO configuration file generally comprises two primary elements: <code>&lt;daemon&gt;</code> and <code>&lt;portals&gt;</code>. Organized and contained within these are option value assignments. <code>&lt;daemon&gt;</code> sub-containers let you set options global to the DRO. <code>&lt;portals&gt;</code> sub-containers let you configure each portal in the DRO individually.</p>
<p>In general, the order of the elements is important. Please refer to the examples and ensure proper element ordering.</p>
<p>XML DRO configuration files use the high-level structure shown in the following example. This example includes only some container elements, and only some options.</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    &lt;log type=<span class="stringliteral">&quot;console&quot;</span>/&gt;</div><div class="line">    &lt;uid&gt;0&lt;/uid&gt;</div><div class="line">    &lt;gid&gt;0&lt;/gid&gt;</div><div class="line">    &lt;pidfile&gt;/path/file.pid&lt;/pidfile&gt;</div><div class="line">    &lt;lbm-license-file&gt;/path/file.lic&lt;/lbm-license-file&gt;</div><div class="line">    &lt;topicmap/&gt;</div><div class="line">    &lt;patternmap/&gt;</div><div class="line">    &lt;monitor&gt;</div><div class="line">      &lt;transport-module/&gt;</div><div class="line">      &lt;format-module/&gt;</div><div class="line">    &lt;/monitor&gt;</div><div class="line">    &lt;web-monitor&gt;*:21000&lt;/web-monitor&gt;</div><div class="line">    &lt;propagation-delay/&gt;</div><div class="line">    &lt;xml-config&gt;sample-config.xml&lt;/xml-config&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;Endpoint_1&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;cost&gt;1&lt;/cost&gt;</div><div class="line">      &lt;lbm-config&gt;endpoint2.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;lbm-attributes&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;context_name&quot;</span> scope=<span class="stringliteral">&quot;context&quot;</span> value=<span class="stringliteral">&quot;endpt_1&quot;</span> /&gt;</div><div class="line">      &lt;/lbm-attributes&gt;</div><div class="line">      &lt;acl&gt;</div><div class="line">        &lt;inbound&gt;</div><div class="line">          &lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">            &lt;topic&gt;ABC123&lt;/topic&gt;</div><div class="line">            &lt;pcre-pattern &gt;pattern&lt;/pcre-pattern &gt;</div><div class="line">            &lt;regex-pattern &gt;pattern&lt;/regex-pattern &gt;</div><div class="line">            &lt;transport/&gt;</div><div class="line">            &lt;source-ip/&gt;</div><div class="line">            &lt;multicast-group/&gt;</div><div class="line">            &lt;udp-source-port/&gt;</div><div class="line">            &lt;udp-destination-port/&gt;</div><div class="line">            &lt;tcp-source-port/&gt;</div><div class="line">            &lt;xport-<span class="keywordtype">id</span>/&gt;</div><div class="line">          &lt;/ace&gt;</div><div class="line">        &lt;/inbound&gt;</div><div class="line">        &lt;outbound&gt;</div><div class="line">          &lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">            &lt;topic&gt;ABC123&lt;/topic&gt;</div><div class="line">            &lt;pcre-pattern &gt;pattern&lt;/pcre-pattern &gt;</div><div class="line">            &lt;regex-pattern &gt;pattern&lt;/regex-pattern &gt;</div><div class="line">            &lt;transport/&gt;</div><div class="line">            &lt;source-ip/&gt;</div><div class="line">            &lt;multicast-group/&gt;</div><div class="line">            &lt;udp-source-port/&gt;</div><div class="line">            &lt;udp-destination-port/&gt;</div><div class="line">            &lt;tcp-source-port/&gt;</div><div class="line">            &lt;xport-<span class="keywordtype">id</span>/&gt;</div><div class="line">          &lt;/ace&gt;</div><div class="line">        &lt;/outbound&gt;</div><div class="line">      &lt;/acl&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;name&gt;Peer_1&lt;/name&gt;</div><div class="line">      &lt;cost&gt;1&lt;/cost&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;interface&gt;</div><div class="line">        &lt;receive-buffer&gt;</div><div class="line">        &lt;send-buffer&gt;</div><div class="line">        &lt;keepalive&gt;</div><div class="line">        &lt;nodelay&gt;</div><div class="line">        &lt;initiator&gt;</div><div class="line">          &lt;address&gt;</div><div class="line">          &lt;port&gt;</div><div class="line">        &lt;/initiator&gt;</div><div class="line">        &lt;acceptor&gt;</div><div class="line">          &lt;listen-port&gt;</div><div class="line">        &lt;/acceptor&gt;</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">      &lt;max-queue&gt;</div><div class="line">      &lt;max-datagram&gt;</div><div class="line">      &lt;batching&gt;</div><div class="line">        &lt;min-length&gt;</div><div class="line">        &lt;batch-interval&gt;</div><div class="line">      &lt;/batching&gt;</div><div class="line">      &lt;lbm-config&gt;peer1.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;lbm-attributes&gt;</div><div class="line">        &lt;option name=<span class="stringliteral">&quot;name&quot;</span> scope=<span class="stringliteral">&quot;scope&quot;</span> value=<span class="stringliteral">&quot;value&quot;</span> /&gt;</div><div class="line">      &lt;/lbm-attributes&gt;</div><div class="line">      &lt;acl&gt; (see above)</div><div class="line">      &lt;topic-purge&gt;</div><div class="line">      &lt;topic-interest-generate&gt;</div><div class="line">      &lt;topic-domain-activity&gt;</div><div class="line">      &lt;pattern-purge&gt;</div><div class="line">      &lt;pattern-interest-generate&gt;</div><div class="line">      &lt;pattern-domain-activity&gt;</div><div class="line">      &lt;topic-use-check/&gt;</div><div class="line">      &lt;pattern-use-check&gt;</div><div class="line">      &lt;source-context-name&gt;</div><div class="line">      &lt;receiver-context-name&gt;</div><div class="line">      &lt;sqn-window&gt;</div><div class="line">      &lt;context-query&gt;</div><div class="line">      &lt;gateway-keepalive&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="elementsreference"></a>
Elements Reference&nbsp;&nbsp;<small><a href="#elementsreference">&lt;-</a></small></h2>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtnwgateway"></a>
Router Element "&lt;tnw-gateway&gt;"&nbsp;&nbsp;<small><a href="#droelementtnwgateway">&lt;-</a></small></h3>
<p>Container for all options residing in the XML DRO configuration file. This is the top-level element.</p>
<ul>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a>, <a class="el" href="index.html#droelementportals">&lt;portals&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>version</b> </td><td>The version of the DTD, which is currently. (This is not the product version.) </td><td><b><code>"1.0"</code></b> - Current version of DTD. </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    ...</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementportals"></a>
Router Element "&lt;portals&gt;"&nbsp;&nbsp;<small><a href="#droelementportals">&lt;-</a></small></h3>
<p>Container for all endpoint and peer portal configuration information.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtnwgateway">&lt;tnw-gateway&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      ...</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">    ...</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementpeer"></a>
Router Element "&lt;peer&gt;"&nbsp;&nbsp;<small><a href="#droelementpeer">&lt;-</a></small></h3>
<p>Container element for all configuration options of a single peer portal.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementportals">&lt;portals&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementname">&lt;name&gt;</a>, <a class="el" href="index.html#droelementcost">&lt;cost&gt;</a>, <a class="el" href="index.html#droelementsourcemap">&lt;sourcemap&gt;</a>, <a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>, <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a>, <a class="el" href="index.html#droelementsourcedeletiondelay">&lt;source-deletion-delay&gt;</a>, <a class="el" href="index.html#droelementmaxqueue">&lt;max-queue&gt;</a>, <a class="el" href="index.html#droelementsmartbatch">&lt;smart-batch&gt;</a>, <a class="el" href="index.html#droelementmaxdatagram">&lt;max-datagram&gt;</a>, <a class="el" href="index.html#droelementbatching">&lt;batching&gt;</a>, <a class="el" href="index.html#droelementlbmconfig">&lt;lbm-config&gt;</a>, <a class="el" href="index.html#droelementlbmattributes">&lt;lbm-attributes&gt;</a>, <a class="el" href="index.html#droelementacl">&lt;acl&gt;</a>, <a class="el" href="index.html#droelementtopicpurge">&lt;topic-purge&gt;</a>, <a class="el" href="index.html#droelementtopicinterestgenerate">&lt;topic-interest-generate&gt;</a>, <a class="el" href="index.html#droelementtopicdomainactivity">&lt;topic-domain-activity&gt;</a>, <a class="el" href="index.html#droelementpatternpurge">&lt;pattern-purge&gt;</a>, <a class="el" href="index.html#droelementpatterninterestgenerate">&lt;pattern-interest-generate&gt;</a>, <a class="el" href="index.html#droelementpatterndomainactivity">&lt;pattern-domain-activity&gt;</a>, <a class="el" href="index.html#droelementtopicusecheck">&lt;topic-use-check&gt;</a>, <a class="el" href="index.html#droelementpatternusecheck">&lt;pattern-use-check&gt;</a>, <a class="el" href="index.html#droelementsourcecontextname">&lt;source-context-name&gt;</a>, <a class="el" href="index.html#droelementreceivercontextname">&lt;receiver-context-name&gt;</a>, <a class="el" href="index.html#droelementsqnwindow">&lt;sqn-window&gt;</a>, <a class="el" href="index.html#droelementcontextquery">&lt;context-query&gt;</a>, <a class="el" href="index.html#droelementgatewaykeepalive">&lt;gateway-keepalive&gt;</a>, <a class="el" href="index.html#droelementpublishinginterval">&lt;publishing-interval&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      ...</div><div class="line">    &lt;/peer&gt;</div><div class="line">    ...</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementpublishinginterval"></a>
Router Element "&lt;publishing-interval&gt;"&nbsp;&nbsp;<small><a href="#droelementpublishinginterval">&lt;-</a></small></h3>
<p>DEPRECATED: Configures the rate at which Daemon Statistics messages are published. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#daemonstatistics">daemonstatistics</a> for general information on Daemon Statistics.</p>
<p>Informatica requests users to migrate to using the UM configuration file to enable automatic monitoring with Protocol Buffer monitoring format for Store and DRO by setting <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpautomaticmonitoring.html#monitorformatcontext">monitor_format (context)</a> to "pb". See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/monitoring.html#automaticmonitoring">Automatic Monitoring</a>.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a>, <a class="el" href="index.html#droelementdaemonmonitor">&lt;daemon-monitor&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementgroup">&lt;group&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    &lt;daemon-monitor topic=<span class="stringliteral">&quot;umrouter.1&quot;</span>&gt;</div><div class="line">      &lt;lbm-config&gt;/path/umrouter_monitor.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;publishing-interval&gt;</div><div class="line">        &lt;group name=<span class="stringliteral">&quot;default&quot;</span> ivl=<span class="stringliteral">&quot;5&quot;</span>&gt;</div><div class="line">        &lt;group name=<span class="stringliteral">&quot;gateway-config&quot;</span> ivl=<span class="stringliteral">&quot;30&quot;</span>&gt;</div><div class="line">        &lt;group name=<span class="stringliteral">&quot;portal-config&quot;</span> ivl=<span class="stringliteral">&quot;30&quot;</span>&gt;</div><div class="line">      &lt;/publishing-interval&gt;</div><div class="line">      ...</div><div class="line">    &lt;/daemon-monitor&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementgroup"></a>
Router Element "&lt;group&gt;"&nbsp;&nbsp;<small><a href="#droelementgroup">&lt;-</a></small></h3>
<p>Configures the rate at which one particular grouping of Daemon Statistics messages are published. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#daemonstatistics">daemonstatistics</a> for general information on Daemon Statistics.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementpublishinginterval">&lt;publishing-interval&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>name</b> </td><td>Name of statistics group being configured. </td><td><b><code>"default"</code></b> - Sets a default interval for all message types. <br />
<b><code>"gateway-config"</code></b> - Sets the interval for messages of type <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a9d9ec1a3f772ba37b376ace807eb5fb5">tnwg_dstat_gatewaycfg_msg_t</a>. <br />
<b><code>"route-manager-topology"</code></b> - Sets the interval for messages of types <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a7a5cbf4cf63c2cad889ccb73e209211a">tnwg_rm_stat_grp_msg_t</a>. <br />
<b><code>"malloc-info"</code></b> - Sets the interval for messages of type <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a244e8fc593a4f6ba155d19321ada47b4">tnwg_dstat_mallinfo_msg_t</a>. <br />
<b><code>"portal-config"</code></b> - Sets the interval for messages of type <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#ad401470ed9be21b3ebca145fb79459b3">tnwg_pcfg_stat_grp_msg_t</a>. <br />
<b><code>"portal-stats"</code></b> - Sets the interval for messages of type <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a4c9cd731d8196ad64534fa1c4240ef6c">tnwg_dstat_portalstats_msg_t</a> </td><td>(no default; must be specified) </td></tr>
<tr>
<td><b>ivl</b> </td><td>Time, in seconds, between publishing the statistics group being configured. </td><td>string </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    &lt;daemon-monitor topic=<span class="stringliteral">&quot;umrouter.1&quot;</span>&gt;</div><div class="line">      &lt;lbm-config&gt;/path/umrouter_monitor.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;publishing-interval&gt;</div><div class="line">        &lt;group name=<span class="stringliteral">&quot;default&quot;</span> ivl=<span class="stringliteral">&quot;5&quot;</span>&gt;</div><div class="line">        &lt;group name=<span class="stringliteral">&quot;gateway-config&quot;</span> ivl=<span class="stringliteral">&quot;30&quot;</span>&gt;</div><div class="line">        &lt;group name=<span class="stringliteral">&quot;portal-config&quot;</span> ivl=<span class="stringliteral">&quot;30&quot;</span>&gt;</div><div class="line">      &lt;/publishing-interval&gt;</div><div class="line">      ...</div><div class="line">    &lt;/daemon-monitor&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementgatewaykeepalive"></a>
Router Element "&lt;gateway-keepalive&gt;"&nbsp;&nbsp;<small><a href="#droelementgatewaykeepalive">&lt;-</a></small></h3>
<p>Contains parameters for the keepalive signals sent from this peer portal. This is a DRO-level keepalive, not to be confused with the TCP-level <a class="el" href="index.html#droelementkeepalive">&lt;keepalive&gt;</a> element.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>idle</b> </td><td>Determines if DRO keepalives should be sent only if no traffic has been sent or received in the last interval. </td><td><b><code>"yes"</code></b> - Send only if no traffic has been exchanged. <br />
<b><code>"no"</code></b> - Send always, even of traffic has been exchanged. </td><td><b><code>"yes"</code></b> </td></tr>
<tr>
<td><b>interval</b> </td><td>Minimum interval, in milliseconds, between keepalive messages sent. Informatica recommends setting this to 2000 or greater. A value of 0 (zero) disables keepalives. </td><td>string </td><td><b><code>"5000"</code></b> </td></tr>
<tr>
<td><b>timeout</b> </td><td>Maximum time, in milliseconds, a peer can receive nothing from the companion before determining the connection is dead and disconnecting. We recommend setting this to 3 times the interval value. </td><td>string </td><td><b><code>"15000"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;gateway-keepalive idle=<span class="stringliteral">&quot;no&quot;</span> interval=<span class="stringliteral">&quot;1000&quot;</span>/&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementcontextquery"></a>
Router Element "&lt;context-query&gt;"&nbsp;&nbsp;<small><a href="#droelementcontextquery">&lt;-</a></small></h3>
<p>Determines timing characteristics for context name queries generated at this portal.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>periodic-interval</b> </td><td>Interval (in milliseconds) at which context queries are generated. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"300000"</code></b> </td></tr>
<tr>
<td><b>max-contexts</b> </td><td>Maximum number of contexts for which queries are generated at one time. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"20"</code></b> </td></tr>
<tr>
<td><b>interval</b> </td><td>Interval (in milliseconds) between groups of context queries. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"200"</code></b> </td></tr>
<tr>
<td><b>timeout</b> </td><td>Minimum time (in seconds) a context query must be unanswered before it is removed for the portal. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"900"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;context-query periodic-interval=<span class="stringliteral">&quot;25000&quot;</span> max-contexts=<span class="stringliteral">&quot;15&quot;</span> interval=<span class="stringliteral">&quot;180&quot;</span> timeout=<span class="stringliteral">&quot;875&quot;</span>/&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementsqnwindow"></a>
Router Element "&lt;sqn-window&gt;"&nbsp;&nbsp;<small><a href="#droelementsqnwindow">&lt;-</a></small></h3>
<p>Specifies the portal's awareness of received message sequence numbers, for the purpose of detecting duplicates.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>size</b> </td><td>Determines the maximum number of topic (fragment) sequence numbers maintained in the window, for any given source. Must be a multiple of 8. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"16384"</code></b> </td></tr>
<tr>
<td><b>increment</b> </td><td>Determines the minimum increment, in topic (fragment) sequence numbers, by which the sequence number window is moved when the window size (below) is exceeded. Must be a multiple of 8, an even divisor of the window size, and less the window size. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"2048"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;sqn-window size=<span class="stringliteral">&quot;1024&quot;</span> increment=<span class="stringliteral">&quot;512&quot;</span>/&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementreceivercontextname"></a>
Router Element "&lt;receiver-context-name&gt;"&nbsp;&nbsp;<small><a href="#droelementreceivercontextname">&lt;-</a></small></h3>
<p>Specifies the portal receiver context name.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#xmlspaceattribute">xml:space Attribute</a>. </td><td><b><code>"default"</code></b> - Trim whitespace. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;receiver-context-name&gt;RcvrContext01&lt;/source-context-name&gt;</div><div class="line">    &lt;/endpoint&gt;                 </div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementsourcecontextname"></a>
Router Element "&lt;source-context-name&gt;"&nbsp;&nbsp;<small><a href="#droelementsourcecontextname">&lt;-</a></small></h3>
<p>Specifies the portal source context name.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#xmlspaceattribute">xml:space Attribute</a>. </td><td><b><code>"default"</code></b> - Trim whitespace. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;source-context-name&gt;SourceContext01&lt;/source-context-name&gt;</div><div class="line">    &lt;/endpoint&gt;                 </div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementpatternusecheck"></a>
Router Element "&lt;pattern-use-check&gt;"&nbsp;&nbsp;<small><a href="#droelementpatternusecheck">&lt;-</a></small></h3>
<p>Checks for interest in patterns at periodic intervals. <b>This element is deprecated and has no function.</b></p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>periodic-interval</b> </td><td>The interval (in milliseconds) at which source pattern are checked to determine if there is no more interest. <b>This element is deprecated and has no function.</b> </td><td>string </td><td><b><code>"300000"</code></b> </td></tr>
</table>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtopicusecheck"></a>
Router Element "&lt;topic-use-check&gt;"&nbsp;&nbsp;<small><a href="#droelementtopicusecheck">&lt;-</a></small></h3>
<p>Checks for interest in topics at periodic intervals. <b>This element is deprecated and has no function.</b></p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>periodic-interval</b> </td><td>The interval (in milliseconds) at which source topics are checked to determine if there is no more interest. <b>This element is deprecated and has no function.</b> </td><td>string </td><td><b><code>"300000"</code></b> </td></tr>
</table>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementpatterndomainactivity"></a>
Router Element "&lt;pattern-domain-activity&gt;"&nbsp;&nbsp;<small><a href="#droelementpatterndomainactivity">&lt;-</a></small></h3>
<p>Determines how long a domain remains quiescent until it is determined inactive. <b>This element is deprecated and has no function.</b></p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>timeout</b> </td><td>Minimum time (in seconds) domain interest for a pattern must be refreshed before interest is removed for that domain. <b>This element is deprecated and has no function.</b> </td><td>string </td><td><b><code>"900"</code></b> </td></tr>
</table>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementpatterninterestgenerate"></a>
Router Element "&lt;pattern-interest-generate&gt;"&nbsp;&nbsp;<small><a href="#droelementpatterninterestgenerate">&lt;-</a></small></h3>
<p>Determines timing characteristics for interest message generation at this portal. <b>This element is deprecated and has no function.</b></p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>periodic-interval</b> </td><td>Interval (in milliseconds) at which pattern interest is generated. <b>This element is deprecated and has no function.</b> </td><td>string </td><td><b><code>"300000"</code></b> </td></tr>
<tr>
<td><b>max-patterns</b> </td><td>Maximum patterns for which interest is generated at one time. <b>This element is deprecated and has no function.</b> </td><td>string </td><td><b><code>"300000"</code></b> </td></tr>
<tr>
<td><b>interval</b> </td><td>Interval (in milliseconds) between groups of patterns. <b>This element is deprecated and has no function.</b> </td><td>string </td><td><b><code>"200"</code></b> </td></tr>
</table>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementpatternpurge"></a>
Router Element "&lt;pattern-purge&gt;"&nbsp;&nbsp;<small><a href="#droelementpatternpurge">&lt;-</a></small></h3>
<p>Determines when this portal's proxy receivers can purge pattern. <b>This element is deprecated and has no function.</b></p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>periodic-interval</b> </td><td>Interval (in milliseconds) at which receiver patterns are checked to determine if they can be purged. <b>This element is deprecated and has no function.</b> </td><td>string </td><td><b><code>"6000"</code></b> </td></tr>
</table>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtopicdomainactivity"></a>
Router Element "&lt;topic-domain-activity&gt;"&nbsp;&nbsp;<small><a href="#droelementtopicdomainactivity">&lt;-</a></small></h3>
<p>Determines how long a domain remains quiescent until it is determined inactive. <b>This element is deprecated and has no function.</b></p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>timeout</b> </td><td>Minimum time (in seconds) domain interest for a topic must be refreshed before interest is removed for that domain. <b>This element is deprecated and has no function.</b> </td><td>string </td><td><b><code>"900"</code></b> </td></tr>
</table>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtopicinterestgenerate"></a>
Router Element "&lt;topic-interest-generate&gt;"&nbsp;&nbsp;<small><a href="#droelementtopicinterestgenerate">&lt;-</a></small></h3>
<p>Determines timing characteristics for interest message generation at this portal. <b>This element is deprecated and has no function.</b></p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>periodic-interval</b> </td><td>Interval (in milliseconds) at which topic interest is generated. <b>This element is deprecated and has no function.</b> </td><td>string </td><td><b><code>"300000"</code></b> </td></tr>
<tr>
<td><b>max-topics</b> </td><td>Maximum topics for which interest is generated at one time. <b>This element is deprecated and has no function.</b> </td><td>string </td><td><b><code>"20"</code></b> </td></tr>
<tr>
<td><b>interval</b> </td><td>Interval (in milliseconds) between groups of topics. <b>This element is deprecated and has no function.</b> </td><td>string </td><td><b><code>"200"</code></b> </td></tr>
</table>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtopicpurge"></a>
Router Element "&lt;topic-purge&gt;"&nbsp;&nbsp;<small><a href="#droelementtopicpurge">&lt;-</a></small></h3>
<p>Determines when this portal's proxy receivers can purge topics. <b>This element is deprecated and has no function.</b></p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>periodic-interval</b> </td><td>Interval (in milliseconds) at which receiver topics are checked to determine if they can be purged. <b>This element is deprecated and has no function.</b> </td><td>string </td><td><b><code>"6000"</code></b> </td></tr>
</table>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementacl"></a>
Router Element "&lt;acl&gt;"&nbsp;&nbsp;<small><a href="#droelementacl">&lt;-</a></small></h3>
<p>Contains elements (inbound and outbound ACEs) that specify how an ACL (Access Control List) filters messages.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementinbound">&lt;inbound&gt;</a>, <a class="el" href="index.html#droelementoutbound">&lt;outbound&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;acl&gt;</div><div class="line">        &lt;inbound&gt;</div><div class="line">          &lt;ace&gt;</div><div class="line">            &lt;topic&gt;AAA&lt;/topic&gt;</div><div class="line">          &lt;/ace&gt;</div><div class="line">        &lt;/inbound&gt;</div><div class="line">      &lt;/acl&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementoutbound"></a>
Router Element "&lt;outbound&gt;"&nbsp;&nbsp;<small><a href="#droelementoutbound">&lt;-</a></small></h3>
<p>Container for ACE elements, to separate outbound ACEs from inbound ACEs.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementacl">&lt;acl&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> </li>
</ul>
<p><b>Example:</b> </p>
<p>Only forward messages for topics AAA and ABA. </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;acl&gt;</div><div class="line">        &lt;outbound&gt;</div><div class="line">          &lt;ace&gt;</div><div class="line">            &lt;pcre-pattern&gt;^A[AB]A$&lt;/pcre-pattern&gt;</div><div class="line">          &lt;/ace&gt;</div><div class="line">        &lt;/outbound&gt;</div><div class="line">      &lt;/acl&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementace"></a>
Router Element "&lt;ace&gt;"&nbsp;&nbsp;<small><a href="#droelementace">&lt;-</a></small></h3>
<p>Within an inbound or outbound ACL, you can have one or more "&lt;ace&gt;" elements. Each ACE (Access Control Entry) lets you match and accept or reject messages based on access control conditional elements, which are the elements contained within an "&lt;ace&gt;" element.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementinbound">&lt;inbound&gt;</a>, <a class="el" href="index.html#droelementoutbound">&lt;outbound&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementtopic">&lt;topic&gt;</a>, <a class="el" href="index.html#droelementpcrepattern">&lt;pcre-pattern&gt;</a>, <a class="el" href="index.html#droelementregexpattern">&lt;regex-pattern&gt;</a>, <a class="el" href="index.html#droelementtransport">&lt;transport&gt;</a>, <a class="el" href="index.html#droelementsourceip">&lt;source-ip&gt;</a>, <a class="el" href="index.html#droelementmulticastgroup">&lt;multicast-group&gt;</a>, <a class="el" href="index.html#droelementudpsourceport">&lt;udp-source-port&gt;</a>, <a class="el" href="index.html#droelementudpdestinationport">&lt;udp-destination-port&gt;</a>, <a class="el" href="index.html#droelementtcpsourceport">&lt;tcp-source-port&gt;</a>, <a class="el" href="index.html#droelementxportid">&lt;xport-id&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>match</b> </td><td>This required attribute determines what to do with matched messages. </td><td><b><code>"accept"</code></b> - Pass the message. <br />
<b><code>"reject"</code></b> - Block the message. </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;LAN1&lt;/name&gt;</div><div class="line">      &lt;lbm-config&gt;lan1.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">        &lt;acl&gt;</div><div class="line">          &lt;inbound&gt;</div><div class="line">            &lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">              &lt;topic&gt;ABC&lt;/topic&gt;</div><div class="line">            &lt;/ace&gt;</div><div class="line">            &lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">              &lt;topic&gt;DEF&lt;/topic&gt;</div><div class="line">              &lt;transport value=lbt-rm comparison=eq/&gt;</div><div class="line">            &lt;/ace&gt;</div><div class="line">            &lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">              &lt;topic&gt;GHI&lt;/topic&gt;</div><div class="line">            &lt;/ace&gt;</div><div class="line">          &lt;/inbound&gt;</div><div class="line">        &lt;/acl&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">    ...</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementxportid"></a>
Router Element "&lt;xport-id&gt;"&nbsp;&nbsp;<small><a href="#droelementxportid">&lt;-</a></small></h3>
<p>Defines a condition used in an ACE. Specifically, this matches the message's transport ID number (see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransportlbtipcoperation.html#transportlbtipcidsource">transport_lbtipc_id (source)</a>). This applies only to LBT-IPC transports.</p>
<dl class="section note"><dt>Note</dt><dd>The message's originating source might be remote (i.e. not be in this DRO portal's TRD). In that case, this condition matches the TRD-local proxy source's characteristic, not the originating source.</dd></dl>
<p>This conditional element can only be used in inbound ACLs.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>value</b> </td><td>The xport ID number to be compared. </td><td>string </td><td>(no default; must be specified) </td></tr>
<tr>
<td><b>comparison</b> </td><td>Defines a match condition. </td><td><b><code>"eq"</code></b> - Matches if equal. <br />
<b><code>"equal"</code></b> - Matches if equal. <br />
<b><code>"ne"</code></b> - Matches if not equal. <br />
<b><code>"notequal"</code></b> - Matches if not equal. <br />
<b><code>"lt"</code></b> - Matches if less than. <br />
<b><code>"lessthan"</code></b> - Matches if less than. <br />
<b><code>"le"</code></b> - Matches if less than or equal to. <br />
<b><code>"lessthanequal"</code></b> - Matches if less than or equal to. <br />
<b><code>"gt"</code></b> - Matches if greater than. <br />
<b><code>"greaterthan"</code></b> - Matches if greater than. <br />
<b><code>"ge"</code></b> - Matches if greater than or equal to. <br />
<b><code>"greaterthanequal"</code></b> - Matches if greater than or equal to. </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">  &lt;xport-<span class="keywordtype">id</span> comparison=<span class="stringliteral">&quot;equal&quot;</span> value=<span class="stringliteral">&quot;1234&quot;</span>/&gt;</div><div class="line">&lt;/ace&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtcpsourceport"></a>
Router Element "&lt;tcp-source-port&gt;"&nbsp;&nbsp;<small><a href="#droelementtcpsourceport">&lt;-</a></small></h3>
<p>Defines a condition used in an ACE. Specifically, this matches the message's TCP source port number (see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransporttcpnetwork.html#transporttcpportsource">transport_tcp_port (source)</a>). This applies only to TCP transports.</p>
<dl class="section note"><dt>Note</dt><dd>The message's originating source might be remote (i.e. not be in this DRO portal's TRD). In that case, this condition matches the TRD-local proxy source's characteristic, not the originating source.</dd></dl>
<p>This conditional element can only be used in inbound ACLs.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>value</b> </td><td>The xport ID number to be compared. </td><td>string </td><td>(no default; must be specified) </td></tr>
<tr>
<td><b>comparison</b> </td><td>Defines a match condition. </td><td><b><code>"eq"</code></b> - Matches if equal. <br />
<b><code>"equal"</code></b> - Matches if equal. <br />
<b><code>"ne"</code></b> - Matches if not equal. <br />
<b><code>"notequal"</code></b> - Matches if not equal. <br />
<b><code>"lt"</code></b> - Matches if less than. <br />
<b><code>"lessthan"</code></b> - Matches if less than. <br />
<b><code>"le"</code></b> - Matches if less than or equal to. <br />
<b><code>"lessthanequal"</code></b> - Matches if less than or equal to. <br />
<b><code>"gt"</code></b> - Matches if greater than. <br />
<b><code>"greaterthan"</code></b> - Matches if greater than. <br />
<b><code>"ge"</code></b> - Matches if greater than or equal to. <br />
<b><code>"greaterthanequal"</code></b> - Matches if greater than or equal to. </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">  &lt;tcp-source-port comparison=<span class="stringliteral">&quot;equal&quot;</span> value=<span class="stringliteral">&quot;1234&quot;</span>/&gt;</div><div class="line">&lt;/ace&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementudpdestinationport"></a>
Router Element "&lt;udp-destination-port&gt;"&nbsp;&nbsp;<small><a href="#droelementudpdestinationport">&lt;-</a></small></h3>
<p>Defines a condition used in an ACE. Specifically, this matches the message's UDP destination port number (see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransportlbtrmnetwork.html#transportlbtrmdestinationportsource">transport_lbtrm_destination_port (source)</a>). This applies only to LBT-RM transports.</p>
<dl class="section note"><dt>Note</dt><dd>The message's originating source might be remote (i.e. not be in this DRO portal's TRD). In that case, this condition matches the TRD-local proxy source's characteristic, not the originating source.</dd></dl>
<p>This conditional element can only be used in inbound ACLs.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>value</b> </td><td>The xport ID number to be compared. </td><td>string </td><td>(no default; must be specified) </td></tr>
<tr>
<td><b>comparison</b> </td><td>Defines a match condition. </td><td><b><code>"eq"</code></b> - Matches if equal. <br />
<b><code>"equal"</code></b> - Matches if equal. <br />
<b><code>"ne"</code></b> - Matches if not equal. <br />
<b><code>"notequal"</code></b> - Matches if not equal. <br />
<b><code>"lt"</code></b> - Matches if less than. <br />
<b><code>"lessthan"</code></b> - Matches if less than. <br />
<b><code>"le"</code></b> - Matches if less than or equal to. <br />
<b><code>"lessthanequal"</code></b> - Matches if less than or equal to. <br />
<b><code>"gt"</code></b> - Matches if greater than. <br />
<b><code>"greaterthan"</code></b> - Matches if greater than. <br />
<b><code>"ge"</code></b> - Matches if greater than or equal to. <br />
<b><code>"greaterthanequal"</code></b> - Matches if greater than or equal to. </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">  &lt;udp-destination-port comparison=<span class="stringliteral">&quot;equal&quot;</span> value=<span class="stringliteral">&quot;1234&quot;</span>/&gt;</div><div class="line">&lt;/ace&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementudpsourceport"></a>
Router Element "&lt;udp-source-port&gt;"&nbsp;&nbsp;<small><a href="#droelementudpsourceport">&lt;-</a></small></h3>
<p>Defines a condition used in an ACE. Specifically, matches the message's UDP source port number (see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransportlbtrmnetwork.html#transportlbtrmsourceportlowcontext">transport_lbtrm_source_port_low (context)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransportlbtrunetwork.html#transportlbtruportsource">transport_lbtru_port (source)</a>). This applies only to LBT-RM and LBT-RU transports.</p>
<dl class="section note"><dt>Note</dt><dd>The message's originating source might be remote (i.e. not be in this DRO portal's TRD). In that case, this condition matches the TRD-local proxy source's characteristic, not the originating source.</dd></dl>
<p>This conditional element can only be used in inbound ACLs.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>value</b> </td><td>The xport ID number to be compared. </td><td>string </td><td>(no default; must be specified) </td></tr>
<tr>
<td><b>comparison</b> </td><td>Defines a match condition. </td><td><b><code>"eq"</code></b> - Matches if equal. <br />
<b><code>"equal"</code></b> - Matches if equal. <br />
<b><code>"ne"</code></b> - Matches if not equal. <br />
<b><code>"notequal"</code></b> - Matches if not equal. <br />
<b><code>"lt"</code></b> - Matches if less than. <br />
<b><code>"lessthan"</code></b> - Matches if less than. <br />
<b><code>"le"</code></b> - Matches if less than or equal to. <br />
<b><code>"lessthanequal"</code></b> - Matches if less than or equal to. <br />
<b><code>"gt"</code></b> - Matches if greater than. <br />
<b><code>"greaterthan"</code></b> - Matches if greater than. <br />
<b><code>"ge"</code></b> - Matches if greater than or equal to. <br />
<b><code>"greaterthanequal"</code></b> - Matches if greater than or equal to. </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">  &lt;udp-source-port comparison=<span class="stringliteral">&quot;equal&quot;</span> value=<span class="stringliteral">&quot;1234&quot;</span>/&gt;</div><div class="line">&lt;/ace&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementmulticastgroup"></a>
Router Element "&lt;multicast-group&gt;"&nbsp;&nbsp;<small><a href="#droelementmulticastgroup">&lt;-</a></small></h3>
<p>Defines a condition used in an ACE. Specifically, this matches the message's multicast group address (see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grptransportlbtrmnetwork.html#transportlbtrmmulticastaddresssource">transport_lbtrm_multicast_address (source)</a>). This applies only to LBT-RM transports.</p>
<dl class="section note"><dt>Note</dt><dd>The message's originating source might be remote (i.e. not be in this DRO portal's TRD). In that case, this condition matches the TRD-local proxy source's characteristic, not the originating source.</dd></dl>
<p>This conditional element can only be used in inbound ACLs.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>value</b> </td><td>The xport ID number to be compared. </td><td>string </td><td>(no default; must be specified) </td></tr>
<tr>
<td><b>comparison</b> </td><td>Defines a match condition. </td><td><b><code>"eq"</code></b> - Matches if equal. <br />
<b><code>"equal"</code></b> - Matches if equal. <br />
<b><code>"ne"</code></b> - Matches if not equal. <br />
<b><code>"notequal"</code></b> - Matches if not equal. <br />
<b><code>"lt"</code></b> - Matches if less than. <br />
<b><code>"lessthan"</code></b> - Matches if less than. <br />
<b><code>"le"</code></b> - Matches if less than or equal to. <br />
<b><code>"lessthanequal"</code></b> - Matches if less than or equal to. <br />
<b><code>"gt"</code></b> - Matches if greater than. <br />
<b><code>"greaterthan"</code></b> - Matches if greater than. <br />
<b><code>"ge"</code></b> - Matches if greater than or equal to. <br />
<b><code>"greaterthanequal"</code></b> - Matches if greater than or equal to. </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">  &lt;multicast-group comparison=<span class="stringliteral">&quot;equal&quot;</span> value=<span class="stringliteral">&quot;1234&quot;</span>/&gt;</div><div class="line">&lt;/ace&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementsourceip"></a>
Router Element "&lt;source-ip&gt;"&nbsp;&nbsp;<small><a href="#droelementsourceip">&lt;-</a></small></h3>
<p>Defines a condition used in an ACE. Specifically, this matches the message's source IP address. This applies only to TCP, LBT-RM, and LBT-RU transports.</p>
<dl class="section note"><dt>Note</dt><dd>The message's originating source might be remote (i.e. not be in this DRO portal's TRD). In that case, this condition matches the TRD-local proxy source's characteristic, not the originating source.</dd></dl>
<p>This conditional element can only be used in inbound ACLs.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>value</b> </td><td>The xport ID number to be compared. </td><td>string </td><td>(no default; must be specified) </td></tr>
<tr>
<td><b>comparison</b> </td><td>Defines a match condition. </td><td><b><code>"eq"</code></b> - Matches if equal. <br />
<b><code>"equal"</code></b> - Matches if equal. <br />
<b><code>"ne"</code></b> - Matches if not equal. <br />
<b><code>"notequal"</code></b> - Matches if not equal. <br />
<b><code>"lt"</code></b> - Matches if less than. <br />
<b><code>"lessthan"</code></b> - Matches if less than. <br />
<b><code>"le"</code></b> - Matches if less than or equal to. <br />
<b><code>"lessthanequal"</code></b> - Matches if less than or equal to. <br />
<b><code>"gt"</code></b> - Matches if greater than. <br />
<b><code>"greaterthan"</code></b> - Matches if greater than. <br />
<b><code>"ge"</code></b> - Matches if greater than or equal to. <br />
<b><code>"greaterthanequal"</code></b> - Matches if greater than or equal to. </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">  &lt;source-ip comparison=<span class="stringliteral">&quot;equal&quot;</span> value=<span class="stringliteral">&quot;1234&quot;</span>/&gt;</div><div class="line">&lt;/ace&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtransport"></a>
Router Element "&lt;transport&gt;"&nbsp;&nbsp;<small><a href="#droelementtransport">&lt;-</a></small></h3>
<p>Defines a condition used in an ACE. Specifically, this matches a UM transport type (see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpmajoroptions.html#transportsource">transport (source)</a>).</p>
<dl class="section note"><dt>Note</dt><dd>The message's originating source might be remote (i.e. not be in this DRO portal's TRD). In that case, this condition matches the TRD-local proxy source's characteristic, not the originating source.</dd></dl>
<p>This conditional element can only be used in inbound ACLs.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>value</b> </td><td>The transport type to be matched. </td><td><b><code>"tcp"</code></b> - TCP transport. <br />
<b><code>"lbt-rm"</code></b> - LBT-RM transport. <br />
<b><code>"lbtrm"</code></b> - LBT-RM transport. <br />
<b><code>"lbt-ru"</code></b> - LBT-RU transport. <br />
<b><code>"lbtru"</code></b> - LBT-RU transport. <br />
<b><code>"lbt-ipc"</code></b> - IPC transport. <br />
<b><code>"lbtipc"</code></b> - IPC transport. </td><td>(no default; must be specified) </td></tr>
<tr>
<td><b>comparison</b> </td><td>Defines a match condition. </td><td><b><code>"eq"</code></b> - Matches if equal. <br />
<b><code>"equal"</code></b> - Matches if equal. <br />
<b><code>"ne"</code></b> - Matches if not equal. <br />
<b><code>"notequal"</code></b> - Matches if not equal. </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">  &lt;transport comparison=<span class="stringliteral">&quot;equal&quot;</span> value=<span class="stringliteral">&quot;lbtrm&quot;</span>/&gt;</div><div class="line">&lt;/ace&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementregexpattern"></a>
Router Element "&lt;regex-pattern&gt;"&nbsp;&nbsp;<small><a href="#droelementregexpattern">&lt;-</a></small></h3>
<p>Defines a condition used in an ACE. Specifically, this is a match pattern for one or more topics using a POSIX regular expression.</p>
<p><b>This element is deprecated. Please use <a class="el" href="index.html#droelementpcrepattern">&lt;pcre-pattern&gt;</a> </b>.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#xmlspaceattribute">xml:space Attribute</a>. </td><td><b><code>"default"</code></b> - Trim whitespace. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementpcrepattern"></a>
Router Element "&lt;pcre-pattern&gt;"&nbsp;&nbsp;<small><a href="#droelementpcrepattern">&lt;-</a></small></h3>
<p>Defines a condition used in an ACE. Specifically, this is a match pattern for one or more topics using a Perl Compatible Regular Expression (PCRE).</p>
<p>This conditional element can be use in both inbound and outbound ACLs.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#xmlspaceattribute">xml:space Attribute</a>. </td><td><b><code>"default"</code></b> - Trim whitespace. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example</b> <b>1</b>:</p>
<p>This example will match patterns "ABC", "ABC789", and "ABC". It will not match "abc" or "123ABC". </p><div class="fragment"><div class="line">&lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">  &lt;pcre-pattern&gt;</div><div class="line">    ^ABC.*</div><div class="line">  &lt;/pcre-pattern&gt;</div><div class="line">&lt;/ace&gt;</div></div><!-- fragment --><p><b>Example</b> <b>2</b>:</p>
<p>In this example, match any topic that has one or more spaces anywhere in the topic name. Note that the "xml:space" attribute defaults to "default", which trims leading and trailing spaces. Therefore that attribute must set to "preserve", and the pattern must be combined onto a single line (to avoid newlines in the pattern): </p><div class="fragment"><div class="line">&lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">  &lt;pcre-pattern xml:space=<span class="stringliteral">&quot;preserve&quot;</span>&gt; &lt;/pcre-pattern&gt;</div><div class="line">&lt;/ace&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtopic"></a>
Router Element "&lt;topic&gt;"&nbsp;&nbsp;<small><a href="#droelementtopic">&lt;-</a></small></h3>
<p>Defines a condition used in an ACE. Specifically, this matches a topic name.</p>
<p>This conditional element can be use in both inbound and outbound ACLs.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#xmlspaceattribute">xml:space Attribute</a>. </td><td><b><code>"default"</code></b> - Trim whitespace. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example</b> <b>1</b>:</p>
<p>Accept messages for topic "ABC": </p><div class="fragment"><div class="line">&lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">  &lt;topic&gt;ABC&lt;/topic&gt;</div><div class="line">&lt;/ace&gt;</div></div><!-- fragment --><p><b>Example</b> <b>2</b>:</p>
<p>To match a topic name that includes a trailing space, you must use the change the xml:space attribute value: </p><div class="fragment"><div class="line">&lt;ace match=<span class="stringliteral">&quot;accept&quot;</span>&gt;</div><div class="line">  &lt;topic xml:space=<span class="stringliteral">&quot;preserve&quot;</span>&gt;ABC &lt;/topic&gt;</div><div class="line">&lt;/ace&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementinbound"></a>
Router Element "&lt;inbound&gt;"&nbsp;&nbsp;<small><a href="#droelementinbound">&lt;-</a></small></h3>
<p>Container for ACE elements, to separate inbound ACEs from outbound ACEs.</p>
<p>See <a class="el" href="index.html#accesscontrollistsacl">Access Control Lists (ACL)</a> for information on how ACLs work.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementacl">&lt;acl&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementace">&lt;ace&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;acl&gt;</div><div class="line">        &lt;inbound&gt;</div><div class="line">          &lt;ace&gt;</div><div class="line">            &lt;topic&gt;AAA&lt;/topic&gt;</div><div class="line">          &lt;/ace&gt;</div><div class="line">        &lt;/inbound&gt;</div><div class="line">      &lt;/acl&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementlbmattributes"></a>
Router Element "&lt;lbm-attributes&gt;"&nbsp;&nbsp;<small><a href="#droelementlbmattributes">&lt;-</a></small></h3>
<p>Container for individual UM-option-setting elements. It lets you set individual UM attributes without referencing a UM configuration file. These values override any values set via files referenced by <a class="el" href="index.html#droelementlbmconfig">&lt;lbm-config&gt;</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Due to the order in which configuration options are processed, options specified in &lt;lbm-attributes&gt; do <b>not</b> override defaults set in <a class="el" href="index.html#droelementxmlconfig">&lt;xml-config&gt;</a>. UM XML configuration files are flexible enough to allow proper overriding of common templates using named contexts. See <a class="el" href="index.html#droelementreceivercontextname">&lt;receiver-context-name&gt;</a> and <a class="el" href="index.html#droelementsourcecontextname">&lt;source-context-name&gt;</a>.</dd></dl>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementoption">&lt;option&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;E2&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;lbm-attributes&gt;</div><div class="line">        &lt;option scope=<span class="stringliteral">&quot;context&quot;</span> name=<span class="stringliteral">&quot;request_tcp_interface&quot;</span> value=<span class="stringliteral">&quot;10.28.5.5&quot;</span> /&gt;</div><div class="line">        &lt;option scope=<span class="stringliteral">&quot;context&quot;</span> name=<span class="stringliteral">&quot;response_tcp_interface&quot;</span> value=<span class="stringliteral">&quot;127.0.0.1&quot;</span> /&gt;</div><div class="line">      &lt;/lbm-attributes&gt;</div><div class="line">      ...</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementoption"></a>
Router Element "&lt;option&gt;"&nbsp;&nbsp;<small><a href="#droelementoption">&lt;-</a></small></h3>
<p>Lets you set an individual UM configuration option without referencing a UM configuration file. This value overrides any values set via files referenced by <a class="el" href="index.html#droelementlbmconfig">&lt;lbm-config&gt;</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Some UM options specify interfaces, which can be done by supplying the device name of the interface. Special care must be taken when supplying device names. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/generalconfigurationguidelines.html#interfacedevicenamesandxml">Interface Device Names and XML</a> for details.</dd></dl>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementlbmattributes">&lt;lbm-attributes&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>scope</b> </td><td>The type of object to which an option can apply. </td><td><b><code>"receiver"</code></b> - Receiver option. <br />
<b><code>"context"</code></b> - Context option. <br />
<b><code>"source"</code></b> - Source option. <br />
<b><code>"wildcard_receiver"</code></b> - Wildcard Receiver option. <br />
<b><code>"event_queue"</code></b> - Event queue option. </td><td>(no default; must be specified) </td></tr>
<tr>
<td><b>name</b> </td><td>The name of the option. </td><td>attr_name </td><td>(no default; must be specified) </td></tr>
<tr>
<td><b>value</b> </td><td>The value for the option. </td><td>string </td><td>(no default; must be specified) </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;E2&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;lbm-attributes&gt;</div><div class="line">        &lt;option scope=<span class="stringliteral">&quot;context&quot;</span> name=<span class="stringliteral">&quot;request_tcp_interface&quot;</span> value=<span class="stringliteral">&quot;10.28.5.5&quot;</span> /&gt;</div><div class="line">        &lt;option scope=<span class="stringliteral">&quot;context&quot;</span> name=<span class="stringliteral">&quot;response_tcp_interface&quot;</span> value=<span class="stringliteral">&quot;127.0.0.1&quot;</span> /&gt;</div><div class="line">      &lt;/lbm-attributes&gt;</div><div class="line">      ...</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementlbmconfig"></a>
Router Element "&lt;lbm-config&gt;"&nbsp;&nbsp;<small><a href="#droelementlbmconfig">&lt;-</a></small></h3>
<p>Specifies the UM configuration file that contains configuration options associated with this portal.</p>
<p>Note that as of UM version 6.13, if one or more errors are discovered in the UM configuration file, the errors are written to the log file and the DRO continues running. I.e. errors in the UM configuration file are treated as warnings. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/index.html#configurationerrorhandling">Configuration Error Handling</a> for an explanation.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a>, <a class="el" href="index.html#droelementdaemonmonitor">&lt;daemon-monitor&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#xmlspaceattribute">xml:space Attribute</a>. </td><td><b><code>"default"</code></b> - Trim whitespace. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;E2&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;lbm-config&gt;/path/endpoint2.cfg&lt;/lbm-config&gt;</div><div class="line">      ...</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementbatching"></a>
Router Element "&lt;batching&gt;"&nbsp;&nbsp;<small><a href="#droelementbatching">&lt;-</a></small></h3>
<p>Contains batching size and timing parameters for peer link implicit batching. This applies to data messages only: the DRO sends control messages immediately (flushing any batched data messages). Note: worst-case latency can be dramatically reduced by combining batching with <a class="el" href="index.html#droelementsmartbatch">&lt;smart-batch&gt;</a>.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementminlength">&lt;min-length&gt;</a>, <a class="el" href="index.html#droelementbatchinterval">&lt;batch-interval&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">      . . .</div><div class="line">      . . .</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;batching&gt;</div><div class="line">        &lt;min-length&gt;4096&lt;/min-length&gt;</div><div class="line">        &lt;batch-interval&gt;500&lt;/batch-interval&gt;</div><div class="line">      &lt;/batching&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementbatchinterval"></a>
Router Element "&lt;batch-interval&gt;"&nbsp;&nbsp;<small><a href="#droelementbatchinterval">&lt;-</a></small></h3>
<p>Specifies the maximum interval (in milliseconds) between when the first message of a batch is queued until the batch is sent. A message stays in the batch queue until this value or <a class="el" href="index.html#droelementminlength">&lt;min-length&gt;</a> is met or exceeded (whichever occurs first). The minimum allowed value is 3 milliseconds.</p>
<p>If not specified, it defaults to 200 milliseconds.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementbatching">&lt;batching&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;batching&gt;</div><div class="line">        &lt;min-length&gt;4096&lt;/min-length&gt;</div><div class="line">        &lt;batch-interval&gt;500&lt;/batch-interval&gt;</div><div class="line">      &lt;/batching&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementminlength"></a>
Router Element "&lt;min-length&gt;"&nbsp;&nbsp;<small><a href="#droelementminlength">&lt;-</a></small></h3>
<p>Specifies the minimum length of a set of batched messages. When the total length of the batched messages reaches or exceeds this value, the batch is sent.</p>
<p>If not specified, it defaults to 8192 bytes.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementbatching">&lt;batching&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ... </div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;batching&gt;</div><div class="line">        &lt;min-length&gt;4096&lt;/min-length&gt;</div><div class="line">        &lt;batch-interval&gt;500&lt;/batch-interval&gt;</div><div class="line">      &lt;/batching&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementmaxdatagram"></a>
Router Element "&lt;max-datagram&gt;"&nbsp;&nbsp;<small><a href="#droelementmaxdatagram">&lt;-</a></small></h3>
<p>Specifies the maximum size a peer portal will allow an outgoing datagram to be before fragmenting it.</p>
<p>If not specified, it defaults to 65535.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;max-datagram&gt;50000&lt;/max-datagram&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementsmartbatch"></a>
Router Element "&lt;smart-batch&gt;"&nbsp;&nbsp;<small><a href="#droelementsmartbatch">&lt;-</a></small></h3>
<p>Enables the smart batching algorithm used by the DRO when forwarding messages from one portal to another. Possible values are 0 (disable) and 1 (enable).</p>
<p>If not specified, it defaults to 0 (disabled).</p>
<p>In general, batching algorithms are used to increase throughput, but many such algorithms can produce latency outliers. The Smart Batching algorithm is designed to ensure low latencies by flushing the batching buffer when no more messages are waiting to be sent out the portal.</p>
<p>Smart batching works with both endpoint and peer portals. For endpoint portals, a UM configuration file may be provided to set the implicit_batching_minimum_length (source) option to a large value. For peer portals, the <a class="el" href="index.html#droelementbatching">&lt;batching&gt;</a> element may be used to set the <a class="el" href="index.html#droelementminlength">&lt;min-length&gt;</a> to a large value. In either case, large values are recommended and will not produce significant latency outliers.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">      . . .</div><div class="line">      . . .</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;smart-batch&gt;1&lt;/smart-batch&gt;</div><div class="line">      &lt;batching&gt;</div><div class="line">        &lt;min-length&gt;4096&lt;/min-length&gt;</div><div class="line">      &lt;/batching&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementmaxqueue"></a>
Router Element "&lt;max-queue&gt;"&nbsp;&nbsp;<small><a href="#droelementmaxqueue">&lt;-</a></small></h3>
<p>Sets the maximum buffer size for blocking messages.</p>
<p>If not specified, this defaults to 1000000 bytes.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">  ...</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;E1&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;max-queue&gt;500000&lt;/max-queue&gt;</div><div class="line">      ...</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementsourcedeletiondelay"></a>
Router Element "&lt;source-deletion-delay&gt;"&nbsp;&nbsp;<small><a href="#droelementsourcedeletiondelay">&lt;-</a></small></h3>
<p>Sets the time in milliseconds to wait after a source is detected as deleted before deleting the proxy source. Applies to both endpoint and peer portals.</p>
<p>Sources can be detected as being deleted by an EOS event at an endpoint portal, or by a route map change. Note that a route map change could be due to failure of a DRO or link within a network.</p>
<p>If not specified, source-deletion-delay defaults to 1000 milliseconds.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">  ...</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;E1&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;source-deletion-delay&gt;2000&lt;/source-deletion-delay&gt;</div><div class="line">      ...</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementsingletcp"></a>
Router Element "&lt;single-tcp&gt;"&nbsp;&nbsp;<small><a href="#droelementsingletcp">&lt;-</a></small></h3>
<p>Contains elements for a peer portal's tcp settings, when configuring the peer for single-tcp operation.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementinterface">&lt;interface&gt;</a>, <a class="el" href="index.html#droelementreceivebuffer">&lt;receive-buffer&gt;</a>, <a class="el" href="index.html#droelementsendbuffer">&lt;send-buffer&gt;</a>, <a class="el" href="index.html#droelementkeepalive">&lt;keepalive&gt;</a>, <a class="el" href="index.html#droelementnodelay">&lt;nodelay&gt;</a>, <a class="el" href="index.html#droelementcompression">&lt;compression&gt;</a>, <a class="el" href="index.html#droelementtls">&lt;tls&gt;</a>, <a class="el" href="index.html#droelementinitiator">&lt;initiator&gt;</a>, <a class="el" href="index.html#droelementacceptor">&lt;acceptor&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;interface&gt;10.28.5.5/24&lt;/interface&gt;</div><div class="line">        &lt;acceptor&gt;</div><div class="line">          &lt;listen-port&gt;23746&lt;/listen-port&gt;</div><div class="line">        &lt;/acceptor&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementacceptor"></a>
Router Element "&lt;acceptor&gt;"&nbsp;&nbsp;<small><a href="#droelementacceptor">&lt;-</a></small></h3>
<p>Contains the listen port address of the corresponding acceptor peer portal on another DRO, to which this peer is connected. This element is used in single-tcp peer configurations.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementlistenport">&lt;listen-port&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;acceptor&gt;</div><div class="line">          &lt;listen-port&gt;25000&lt;/port&gt;</div><div class="line">        &lt;/acceptor&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementlistenport"></a>
Router Element "&lt;listen-port&gt;"&nbsp;&nbsp;<small><a href="#droelementlistenport">&lt;-</a></small></h3>
<p>Contains port number on which an acceptor peer portal listens for connections from the initiating peer portal. There is no default for the port number, the initiating peer portal configuration must specify this port as its initiator port.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>, <a class="el" href="index.html#droelementacceptor">&lt;acceptor&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;acceptor&gt;</div><div class="line">          &lt;listen-port&gt;46000&lt;/listen-port&gt;</div><div class="line">        &lt;/acceptor&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementinitiator"></a>
Router Element "&lt;initiator&gt;"&nbsp;&nbsp;<small><a href="#droelementinitiator">&lt;-</a></small></h3>
<p>Contains the IP address and the port of the corresponding acceptor peer portal on another DRO, to which this peer is connected. This element is used in single-tcp peer configurations.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementaddress">&lt;address&gt;</a>, <a class="el" href="index.html#droelementport">&lt;port&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>reconnect-interval</b> </td><td>The time interval, in milliseconds, to wait before reconnecting to the companion portal if this connection is interrupted. </td><td>string </td><td><b><code>"5000"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;initiator&gt;</div><div class="line">          &lt;address&gt;10.28.3.91&lt;/address&gt;</div><div class="line">          &lt;port&gt;25000&lt;/port&gt;</div><div class="line">        &lt;/initiator&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementport"></a>
Router Element "&lt;port&gt;"&nbsp;&nbsp;<small><a href="#droelementport">&lt;-</a></small></h3>
<p>Contains the IP port of the acceptor peer portal on another DRO, to which this initiator peer is connected. (As of UM version 6.10, dual TCP (<a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>) is no longer supported. Please use <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> instead.)</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementcompanion">&lt;companion&gt;</a>, <a class="el" href="index.html#droelementinitiator">&lt;initiator&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;initiator&gt;</div><div class="line">          &lt;address&gt;10.28.3.91&lt;/address&gt;</div><div class="line">          &lt;port&gt;25000&lt;/port&gt;</div><div class="line">        &lt;/initiator&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementaddress"></a>
Router Element "&lt;address&gt;"&nbsp;&nbsp;<small><a href="#droelementaddress">&lt;-</a></small></h3>
<p>Contains the IP address of the acceptor peer portal on another DRO, to which this initiator peer is connected via "single TCP". (As of UM version 6.10, dual TCP (<a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>) is no longer supported. Please use <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> instead.)</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementcompanion">&lt;companion&gt;</a>, <a class="el" href="index.html#droelementinitiator">&lt;initiator&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;initiator&gt;</div><div class="line">          &lt;address&gt;10.28.3.91&lt;/address&gt;</div><div class="line">          &lt;port&gt;25000&lt;/port&gt;</div><div class="line">        &lt;/initiator&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtls"></a>
Router Element "&lt;tls&gt;"&nbsp;&nbsp;<small><a href="#droelementtls">&lt;-</a></small></h3>
<p>Contains elements to configure peer link encryption.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>, <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementcertificate">&lt;certificate&gt;</a>, <a class="el" href="index.html#droelementcertificatekey">&lt;certificate-key&gt;</a>, <a class="el" href="index.html#droelementcertificatekeypassword">&lt;certificate-key-password&gt;</a>, <a class="el" href="index.html#droelementtrustedcertificates">&lt;trusted-certificates&gt;</a>, <a class="el" href="index.html#droelementciphersuites">&lt;cipher-suites&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;tls&gt;</div><div class="line">          &lt;certificate&gt;test.crt&lt;certificate&gt;</div><div class="line">          &lt;certificate-key&gt;test.key&lt;certificate-key&gt;</div><div class="line">          &lt;certificate-key-password&gt;</div><div class="line">            CorrectHorseBatteryStaple</div><div class="line">          &lt;/certificate-key-password&gt;</div><div class="line">          &lt;trusted-certificates&gt;peers.crt&lt;trusted-certificates&gt;</div><div class="line">        &lt;/tls&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementciphersuites"></a>
Router Element "&lt;cipher-suites&gt;"&nbsp;&nbsp;<small><a href="#droelementciphersuites">&lt;-</a></small></h3>
<p>Defines the list of one or more (comma separated) names of cipher suites that the context will accept. See OpenSSL's <a href="https://www.openssl.org/docs/manmaster/man1/openssl-ciphers.html#CIPHER-SUITE-NAMES">Cipher Suite Names</a> for the full list of suite names. When configuring UM, use the OpenSSL names (with dashes), not* the IANA names (with underscores).</p>
<p>If more than one suite name is supplied, they should be in descending order of preference. When a remote context negotiates encrypted TCP, the two sides must find a cipher suite in common, otherwise the connection will be canceled.</p>
<p>The default is highly secure and is recommended.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtls">&lt;tls&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;tls&gt;</div><div class="line">          &lt;cipher-suites&gt;TLS_DHE_RSA_WITH_AES_256_GCM_SHA384&lt;cipher-suites&gt;</div><div class="line">          ...</div><div class="line">        &lt;/tls&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtrustedcertificates"></a>
Router Element "&lt;trusted-certificates&gt;"&nbsp;&nbsp;<small><a href="#droelementtrustedcertificates">&lt;-</a></small></h3>
<p>Specifies the path to a file containing one or more OpenSSL-compatible PEM-formatted TLS client certificates and certificate authorities. If this element is not supplied, the default behavior is to use the system-level trusted certificates and certificate authorities (operating-system dependent). The TLS server uses these trusted certificates to verify the identity of connecting clients. If a client connects and presents a certificate which is not in the server's trusted certificates file, the connection will be canceled.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtls">&lt;tls&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;tls&gt;</div><div class="line">          &lt;trusted-certificates&gt;peers.crt&lt;trusted-certificates&gt;</div><div class="line">          ...</div><div class="line">        &lt;/tls&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementcertificatekeypassword"></a>
Router Element "&lt;certificate-key-password&gt;"&nbsp;&nbsp;<small><a href="#droelementcertificatekeypassword">&lt;-</a></small></h3>
<p>Specifies the passphrase needed to decrypt the server private key file specified by <a class="el" href="index.html#droelementcertificatekey">&lt;certificate-key&gt;</a>.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtls">&lt;tls&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;tls&gt;</div><div class="line">          &lt;certificate-key-password&gt;</div><div class="line">            CorrectHorseBatteryStaple</div><div class="line">          &lt;/certificate-key-password&gt;</div><div class="line">          ...</div><div class="line">        &lt;/tls&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementcertificatekey"></a>
Router Element "&lt;certificate-key&gt;"&nbsp;&nbsp;<small><a href="#droelementcertificatekey">&lt;-</a></small></h3>
<p>Specifies the path to a file containing the private key associated with the "server" certificate specified by <a class="el" href="index.html#droelementcertificate">&lt;certificate&gt;</a>. Note that this private key must be protected from intruders. For that reason, when the certificate and private key files are generated, the private key file is typically encrypted with a passphrase. The passphrase is supplied using <a class="el" href="index.html#droelementcertificatekeypassword">&lt;certificate-key-password&gt;</a>.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtls">&lt;tls&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;tls&gt;</div><div class="line">          &lt;certificate-key&gt;test.key&lt;certificate-key&gt;</div><div class="line">          ...</div><div class="line">        &lt;/tls&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementcertificate"></a>
Router Element "&lt;certificate&gt;"&nbsp;&nbsp;<small><a href="#droelementcertificate">&lt;-</a></small></h3>
<p>Specifies the path to a file containing an OpenSSL-compatible PEM-formatted certificate that will be presented as the TLS server certificate when a TLS connection is established by a client.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtls">&lt;tls&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;tls&gt;</div><div class="line">          &lt;certificate&gt;test.crt&lt;certificate&gt;</div><div class="line">          ...</div><div class="line">        &lt;/tls&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementcompression"></a>
Router Element "&lt;compression&gt;"&nbsp;&nbsp;<small><a href="#droelementcompression">&lt;-</a></small></h3>
<p>Enables compression and sets the desired data compression algorithm for the peer link. Currently, only LZ4 lossless data compression is supported.</p>
<p>If not specified, no compression is used.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>, <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;compression&gt;LZ4&lt;/compression&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementnodelay"></a>
Router Element "&lt;nodelay&gt;"&nbsp;&nbsp;<small><a href="#droelementnodelay">&lt;-</a></small></h3>
<p>Enables setting the TCP_NODELAY socket option on the peer link. Setting TCP_NODELAY disables Nagle's algorithm, which somewhat decreases the efficiency and throughput of TCP, but decreases the latency of individual messages.</p>
<p>By default, TCP_NODELAY is not set (maximizes efficiency).</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>, <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;nodelay/&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementkeepalive"></a>
Router Element "&lt;keepalive&gt;"&nbsp;&nbsp;<small><a href="#droelementkeepalive">&lt;-</a></small></h3>
<p>When present, enables a TCP keepalive signal transmission, which is disabled by default.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>, <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">      . . .</div><div class="line">      . . .</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;keepalive/&gt;</div><div class="line">      . . .</div><div class="line">      . . .</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementsendbuffer"></a>
Router Element "&lt;send-buffer&gt;"&nbsp;&nbsp;<small><a href="#droelementsendbuffer">&lt;-</a></small></h3>
<p>Contains the size of the TCP send buffer.</p>
<p>If not specified, the DRO uses the system default size.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>, <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;send-buffer&gt;128000&lt;/send-buffer&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementreceivebuffer"></a>
Router Element "&lt;receive-buffer&gt;"&nbsp;&nbsp;<small><a href="#droelementreceivebuffer">&lt;-</a></small></h3>
<p>Contains the size of the TCP receive buffer.</p>
<p>If not specified, the DRO uses the system default size.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>, <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;receive-buffer&gt;128000&lt;/receive-buffer&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementinterface"></a>
Router Element "&lt;interface&gt;"&nbsp;&nbsp;<small><a href="#droelementinterface">&lt;-</a></small></h3>
<p>Contains the IP host or network address for this peer portal, specified in dotted-decimal or CIDR format.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>, <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;single-tcp&gt;</div><div class="line">        &lt;interface&gt;10.28.5.5/24&lt;/interface&gt;</div><div class="line">        ...</div><div class="line">      &lt;/single-tcp&gt;</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtcp"></a>
Router Element "&lt;tcp&gt;"&nbsp;&nbsp;<small><a href="#droelementtcp">&lt;-</a></small></h3>
<p><b>DEPRECATED AND ELIMINATED AS OF UM 6.10. DO NOT USE.</b> Contains elements for a peer portal's "dual TCP" settings. (As of UM version 6.10, dual TCP (<a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>) is no longer supported. Please use <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> instead.)</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementinterface">&lt;interface&gt;</a>, <a class="el" href="index.html#droelementlistenport">&lt;listen-port&gt;</a>, <a class="el" href="index.html#droelementreceivebuffer">&lt;receive-buffer&gt;</a>, <a class="el" href="index.html#droelementsendbuffer">&lt;send-buffer&gt;</a>, <a class="el" href="index.html#droelementkeepalive">&lt;keepalive&gt;</a>, <a class="el" href="index.html#droelementnodelay">&lt;nodelay&gt;</a>, <a class="el" href="index.html#droelementcompression">&lt;compression&gt;</a>, <a class="el" href="index.html#droelementtls">&lt;tls&gt;</a>, <a class="el" href="index.html#droelementcompanion">&lt;companion&gt;</a> </li>
</ul>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementcompanion"></a>
Router Element "&lt;companion&gt;"&nbsp;&nbsp;<small><a href="#droelementcompanion">&lt;-</a></small></h3>
<p><b>DEPRECATED AND ELIMINATED AS OF UM 6.10. DO NOT USE.</b> Contains the IP address and the port of the companion peer portal on another DRO, to which this peer is connected via "dual TCP". (As of UM version 6.10, dual TCP (<a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a>) is no longer supported. Please use <a class="el" href="index.html#droelementsingletcp">&lt;single-tcp&gt;</a> instead.)</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtcp">&lt;tcp&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementaddress">&lt;address&gt;</a>, <a class="el" href="index.html#droelementport">&lt;port&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>reconnect-interval</b> </td><td></td><td>string </td><td></td></tr>
</table>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementsourcemap"></a>
Router Element "&lt;sourcemap&gt;"&nbsp;&nbsp;<small><a href="#droelementsourcemap">&lt;-</a></small></h3>
<p>Sets the size of the peer portal's source map. This normally does not need to be modified, but if very large numbers of topics are being used, a larger value might improve efficiency.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>size</b> </td><td>Number of entries in the source map. Value must be a power of 2 (e.g., 1024, 2048, ...). </td><td>string </td><td><b><code>"131072"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">      . . .</div><div class="line">      . . .</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;peer&gt;</div><div class="line">      &lt;sourcemap size=<span class="stringliteral">&quot;131072&quot;</span>/&gt;</div><div class="line">      . . .</div><div class="line">      . . .</div><div class="line">    &lt;/peer&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementcost"></a>
Router Element "&lt;cost&gt;"&nbsp;&nbsp;<small><a href="#droelementcost">&lt;-</a></small></h3>
<p>Assigns a positive non-zero integer cost to the portal.</p>
<p>If not specified, it defaults to 1. See <a class="el" href="index.html#forwardingcosts">Forwarding Costs</a>.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">  ...</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;E1&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;cost&gt;25&lt;/cost&gt;</div><div class="line">      ...</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementname"></a>
Router Element "&lt;name&gt;"&nbsp;&nbsp;<small><a href="#droelementname">&lt;-</a></small></h3>
<p>Lets you set a name for this DRO (do not duplicate for any other known DROs), or for the name of an endpoint or peer portal. Each portal name must be unique within the DRO.</p>
<p>If not specified, no name is assigned.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a>, <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a>, <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#xmlspaceattribute">xml:space Attribute</a>. </td><td><b><code>"default"</code></b> - Trim whitespace. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    &lt;name&gt;DRO1&lt;/name&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;endpoint1&lt;/name&gt;</div><div class="line">      ...</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementendpoint"></a>
Router Element "&lt;endpoint&gt;"&nbsp;&nbsp;<small><a href="#droelementendpoint">&lt;-</a></small></h3>
<p>Container element for all configuration options of a single endpoint portal.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementportals">&lt;portals&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementname">&lt;name&gt;</a>, <a class="el" href="index.html#droelementdomainid">&lt;domain-id&gt;</a>, <a class="el" href="index.html#droelementcost">&lt;cost&gt;</a>, <a class="el" href="index.html#droelementsourcedeletiondelay">&lt;source-deletion-delay&gt;</a>, <a class="el" href="index.html#droelementmaxqueue">&lt;max-queue&gt;</a>, <a class="el" href="index.html#droelementsmartbatch">&lt;smart-batch&gt;</a>, <a class="el" href="index.html#droelementlbmconfig">&lt;lbm-config&gt;</a>, <a class="el" href="index.html#droelementlbmattributes">&lt;lbm-attributes&gt;</a>, <a class="el" href="index.html#droelementacl">&lt;acl&gt;</a>, <a class="el" href="index.html#droelementtopicresolution">&lt;topic-resolution&gt;</a>, <a class="el" href="index.html#droelementlatejoin">&lt;late-join&gt;</a>, <a class="el" href="index.html#droelementtopicpurge">&lt;topic-purge&gt;</a>, <a class="el" href="index.html#droelementtopicinterestgenerate">&lt;topic-interest-generate&gt;</a>, <a class="el" href="index.html#droelementtopicdomainactivity">&lt;topic-domain-activity&gt;</a>, <a class="el" href="index.html#droelementpatternpurge">&lt;pattern-purge&gt;</a>, <a class="el" href="index.html#droelementpatterninterestgenerate">&lt;pattern-interest-generate&gt;</a>, <a class="el" href="index.html#droelementpatterndomainactivity">&lt;pattern-domain-activity&gt;</a>, <a class="el" href="index.html#droelementremotetopic">&lt;remote-topic&gt;</a>, <a class="el" href="index.html#droelementremotepattern">&lt;remote-pattern&gt;</a>, <a class="el" href="index.html#droelementsourcecontextname">&lt;source-context-name&gt;</a>, <a class="el" href="index.html#droelementreceivercontextname">&lt;receiver-context-name&gt;</a>, <a class="el" href="index.html#droelementsqnwindow">&lt;sqn-window&gt;</a>, <a class="el" href="index.html#droelementcontextquery">&lt;context-query&gt;</a>, <a class="el" href="index.html#droelementpublishinginterval">&lt;publishing-interval&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">  ...</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;E1&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;cost&gt;1&lt;/cost&gt;</div><div class="line">      ...</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementremotepattern"></a>
Router Element "&lt;remote-pattern&gt;"&nbsp;&nbsp;<small><a href="#droelementremotepattern">&lt;-</a></small></h3>
<p>Determines timings and limits for determination of continued pattern interest at this portal.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>check-interval</b> </td><td>Interval (in milliseconds) between checking individual patterns for continued interest. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"90000"</code></b> </td></tr>
<tr>
<td><b>max-patterns</b> </td><td>Maximum number of patterns to check at a time. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"100"</code></b> </td></tr>
<tr>
<td><b>timeout</b> </td><td>Minimum time (in milliseconds) remote interest for a pattern must be refreshed before interest is removed for that domain. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"300000"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;remote-pattern check-interval=<span class="stringliteral">&quot;80000&quot;</span> max-topics=<span class="stringliteral">&quot;80&quot;</span> timeout=<span class="stringliteral">&quot;250000&quot;</span>/&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementremotetopic"></a>
Router Element "&lt;remote-topic&gt;"&nbsp;&nbsp;<small><a href="#droelementremotetopic">&lt;-</a></small></h3>
<p>Determines timings and limits for determination of continued topic interest at this portal.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>check-interval</b> </td><td>Interval (in milliseconds) between checking individual topics for continued interest. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"90000"</code></b> </td></tr>
<tr>
<td><b>max-topics</b> </td><td>Maximum number of topics to check at a time. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"100"</code></b> </td></tr>
<tr>
<td><b>timeout</b> </td><td>Minimum time (in milliseconds) remote interest for a topic must be refreshed before interest is removed for that domain. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"300000"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">      . . .</div><div class="line">      . . .</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;remote-topic check-interval=<span class="stringliteral">&quot;80000&quot;</span> max-topics=<span class="stringliteral">&quot;80&quot;</span> timeout=<span class="stringliteral">&quot;250000&quot;</span>/&gt;</div><div class="line">    &lt;/endpoint&gt;                 </div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementlatejoin"></a>
Router Element "&lt;late-join&gt;"&nbsp;&nbsp;<small><a href="#droelementlatejoin">&lt;-</a></small></h3>
<p><b>DEPRECATED AND ELIMINATED. DO NOT USE.</b> Determines how Late Join is handled by this endpoint portal.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>provide</b> </td><td></td><td><b><code>"source"</code></b><br />
<b><code>"always"</code></b><br />
<b><code>"never"</code></b> </td><td></td></tr>
<tr>
<td><b>forward</b> </td><td></td><td><b><code>"yes"</code></b><br />
<b><code>"no"</code></b> </td><td></td></tr>
</table>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtopicresolution"></a>
Router Element "&lt;topic-resolution&gt;"&nbsp;&nbsp;<small><a href="#droelementtopicresolution">&lt;-</a></small></h3>
<p>Container for DRO topic resolution behavior options.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementtopicusequery">&lt;topic-use-query&gt;</a>, <a class="el" href="index.html#droelementpatternusequery">&lt;pattern-use-query&gt;</a>, <a class="el" href="index.html#droelementremotetopicinterest">&lt;remote-topic-interest&gt;</a>, <a class="el" href="index.html#droelementremotepatterninterest">&lt;remote-pattern-interest&gt;</a>, <a class="el" href="index.html#droelementdomainroute">&lt;domain-route&gt;</a>, <a class="el" href="index.html#droelementinitialrequest">&lt;initial-request&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">      . . .</div><div class="line">      . . .</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;topic-resolution&gt;</div><div class="line">        &lt;initial-request&gt;</div><div class="line">          &lt;rate-limit/&gt;</div><div class="line">        &lt;/initial-request&gt;</div><div class="line">      &lt;/topic-resolution&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementinitialrequest"></a>
Router Element "&lt;initial-request&gt;"&nbsp;&nbsp;<small><a href="#droelementinitialrequest">&lt;-</a></small></h3>
<p>Sets interval and duration for initial topic resolution requests.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtopicresolution">&lt;topic-resolution&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>periodic-interval</b> </td><td>The interval at which the initial topic resolution requests are sent. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"1000"</code></b> </td></tr>
<tr>
<td><b>duration</b> </td><td>The minimum duration for which the initial topic resolution requests are sent. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"10"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;topic-resolution&gt;</div><div class="line">        &lt;initial-request duration=<span class="stringliteral">&quot;15&quot;</span> periodic-interval=<span class="stringliteral">&quot;800&quot;</span>/&gt;</div><div class="line">        &lt;/topic-use-query&gt;</div><div class="line">      &lt;/topic-resolution&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementdomainroute"></a>
Router Element "&lt;domain-route&gt;"&nbsp;&nbsp;<small><a href="#droelementdomainroute">&lt;-</a></small></h3>
<p>Sets maximum and minimum limits for the interval between periodic domain route messages being sent for each remote domain that the portal is servicing.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtopicresolution">&lt;topic-resolution&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementratelimit">&lt;rate-limit&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>min-interval</b> </td><td>The minimum interval, in milliseconds, between domain route messages being sent for each domain. </td><td>string </td><td><b><code>"100"</code></b> </td></tr>
<tr>
<td><b>max-interval</b> </td><td>The maximum interval, in milliseconds, between domain route messages being sent for each domain. </td><td>string </td><td><b><code>"1000"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;topic-resolution&gt;</div><div class="line">        &lt;domain-route min-interval=<span class="stringliteral">&quot;100&quot;</span> max-interval=<span class="stringliteral">&quot;1000&quot;</span>&gt;</div><div class="line">          &lt;rate-limit bps=<span class="stringliteral">&quot;0&quot;</span> objects-per-second=<span class="stringliteral">&quot;50&quot;</span>/&gt;</div><div class="line">        &lt;/domain-route&gt;</div><div class="line">      &lt;/topic-resolution&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementratelimit"></a>
Router Element "&lt;rate-limit&gt;"&nbsp;&nbsp;<small><a href="#droelementratelimit">&lt;-</a></small></h3>
<p>Sets rate limits for topic resolution data sent over the network.</p>
<p>You can set rate limits individually for each of the topic resolution message types (see children elements).</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtopicusequery">&lt;topic-use-query&gt;</a>, <a class="el" href="index.html#droelementpatternusequery">&lt;pattern-use-query&gt;</a>, <a class="el" href="index.html#droelementremotetopicinterest">&lt;remote-topic-interest&gt;</a>, <a class="el" href="index.html#droelementremotepatterninterest">&lt;remote-pattern-interest&gt;</a>, <a class="el" href="index.html#droelementdomainroute">&lt;domain-route&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>bps</b> </td><td>The limit in Bits per Second that data will be sent on the network. A value of 0 disables limiting by bits per second. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><p class="starttd"><b>"500000"</b> (For use queries and interest messages)<br />
<b>"0"</b> (For domain route messages)</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><b>objects-per-second</b> </td><td>The limit in Objects per Second that data will be sent on the network. A value of 0 disables limiting by objects per second. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><p class="starttd"><b>"500"</b> (For use queries)<br />
<b>"0"</b> (For interest messages) <br />
<b>"50"</b> (For domain route messages)</p>
<p class="endtd"></p>
</td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;topic-resolution&gt;</div><div class="line">        &lt;topic-use-query max=<span class="stringliteral">&quot;6&quot;</span> periodic-interval=<span class="stringliteral">&quot;250000&quot;</span> timeout=<span class="stringliteral">&quot;4000&quot;</span>/&gt;</div><div class="line">          &lt;rate-limit bps=<span class="stringliteral">&quot;550000&quot;</span> objects-per-second=<span class="stringliteral">&quot;0&quot;</span>/&gt;</div><div class="line">        &lt;/topic-use-query&gt;</div><div class="line">      &lt;/topic-resolution&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementremotepatterninterest"></a>
Router Element "&lt;remote-pattern-interest&gt;"&nbsp;&nbsp;<small><a href="#droelementremotepatterninterest">&lt;-</a></small></h3>
<p>Sets parameters for when and how often this endpoint portal sends pattern interest messages</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtopicresolution">&lt;topic-resolution&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementratelimit">&lt;rate-limit&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>min-interval</b> </td><td>The minimum interval, in milliseconds, between pattern interest messages being sent for each pattern the portal has interest in. </td><td>string </td><td><b><code>"1000"</code></b> </td></tr>
<tr>
<td><b>max-interval</b> </td><td>The maximum interval, in milliseconds, between pattern interest messages being sent for each pattern the portal has interest in. </td><td>string </td><td><b><code>"60000"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;topic-resolution&gt;</div><div class="line">        &lt;remote-pattern-interest min-interval=<span class="stringliteral">&quot;1000&quot;</span> max-interval=<span class="stringliteral">&quot;90000&quot;</span>&gt;</div><div class="line">          &lt;rate-limit/&gt;</div><div class="line">        &lt;/remote-pattern-interest&gt;</div><div class="line">      &lt;/topic-resolution&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementremotetopicinterest"></a>
Router Element "&lt;remote-topic-interest&gt;"&nbsp;&nbsp;<small><a href="#droelementremotetopicinterest">&lt;-</a></small></h3>
<p>Sets parameters for when and how often this endpoint portal sends topic interest messages.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtopicresolution">&lt;topic-resolution&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementratelimit">&lt;rate-limit&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>min-interval</b> </td><td>The minimum interval, in milliseconds, between topic interest messages being sent for each topic the portal has interest in. </td><td>string </td><td><b><code>"1000"</code></b> </td></tr>
<tr>
<td><b>max-interval</b> </td><td>The maximum interval, in milliseconds, between topic interest messages being sent for each topic the portal has interest in. </td><td>string </td><td><b><code>"60000"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;topic-resolution&gt;</div><div class="line">        &lt;remote-topic-interest min-interval=<span class="stringliteral">&quot;1000&quot;</span> max-interval=<span class="stringliteral">&quot;90000&quot;</span>&gt;</div><div class="line">          &lt;rate-limit/&gt;</div><div class="line">        &lt;/remote-topic-interest&gt;</div><div class="line">      &lt;/topic-resolution&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementpatternusequery"></a>
Router Element "&lt;pattern-use-query&gt;"&nbsp;&nbsp;<small><a href="#droelementpatternusequery">&lt;-</a></small></h3>
<p>Sets parameters for when and how often this endpoint portal sends pattern use queries.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtopicresolution">&lt;topic-resolution&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementratelimit">&lt;rate-limit&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>timeout</b> </td><td>The maximum time, in milliseconds, to wait for a pattern use response. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"3000"</code></b> </td></tr>
<tr>
<td><b>max</b> </td><td>Maximum number of pattern use queries to send for a given pattern, each separated by the timeout value before giving up and removing the topic from the topic list. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"5"</code></b> </td></tr>
<tr>
<td><b>periodic-interval</b> </td><td>The interval, in milliseconds, between periodic pattern use queries being sent for each pattern the portal has interest in. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"300000"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;topic-resolution&gt;</div><div class="line">        &lt;pattern-use-query max=<span class="stringliteral">&quot;6&quot;</span> periodic-interval=<span class="stringliteral">&quot;250000&quot;</span> timeout=<span class="stringliteral">&quot;4000&quot;</span>&gt;</div><div class="line">          &lt;rate-limit/&gt;</div><div class="line">        &lt;/topic-use-query&gt;</div><div class="line">      &lt;/topic-resolution&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtopicusequery"></a>
Router Element "&lt;topic-use-query&gt;"&nbsp;&nbsp;<small><a href="#droelementtopicusequery">&lt;-</a></small></h3>
<p>Sets parameters for when and how often this endpoint portal sends topic use queries.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtopicresolution">&lt;topic-resolution&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementratelimit">&lt;rate-limit&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>timeout</b> </td><td>The maximum time, in milliseconds, to wait for a topic use response. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"3000"</code></b> </td></tr>
<tr>
<td><b>max</b> </td><td>Maximum number of topic use queries to send for a given topic, each separated by the timeout value before giving up and removing the topic from the topic list. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"5"</code></b> </td></tr>
<tr>
<td><b>periodic-interval</b> </td><td>The interval, in milliseconds, between periodic topic use queries being sent for each topic the portal has interest in. Before changing the value of this option, please contact Informatica Support. </td><td>string </td><td><b><code>"300000"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;topic-resolution&gt;</div><div class="line">        &lt;topic-use-query max=<span class="stringliteral">&quot;6&quot;</span> periodic-interval=<span class="stringliteral">&quot;250000&quot;</span> timeout=<span class="stringliteral">&quot;4000&quot;</span>&gt;</div><div class="line">          &lt;rate-limit/&gt;</div><div class="line">        &lt;/topic-use-query&gt;</div><div class="line">      &lt;/topic-resolution&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementdomainid"></a>
Router Element "&lt;domain-id&gt;"&nbsp;&nbsp;<small><a href="#droelementdomainid">&lt;-</a></small></h3>
<p>Identifies the TRD for this endpoint portal. It must be unique within the DRO (which means that for any TRD, you can assign only one endpoint portal per DRO). Also, all endpoints interfacing a given TRD must have the same <code>&lt;domain-id&gt;</code> value.</p>
<p>There is no default, it must be supplied.</p>
<ul>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  ...</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;E1&lt;/name&gt;</div><div class="line">      &lt;domain-<span class="keywordtype">id</span>&gt;1&lt;/domain-<span class="keywordtype">id</span>&gt;</div><div class="line">      &lt;cost&gt;1&lt;/cost&gt;</div><div class="line">      ...</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementdaemon"></a>
Router Element "&lt;daemon&gt;"&nbsp;&nbsp;<small><a href="#droelementdaemon">&lt;-</a></small></h3>
<p>Container for options common to the entire DRO process.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementtnwgateway">&lt;tnw-gateway&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementname">&lt;name&gt;</a>, <a class="el" href="index.html#droelementlog">&lt;log&gt;</a>, <a class="el" href="index.html#droelementuid">&lt;uid&gt;</a>, <a class="el" href="index.html#droelementgid">&lt;gid&gt;</a>, <a class="el" href="index.html#droelementpidfile">&lt;pidfile&gt;</a>, <a class="el" href="index.html#droelementlbmlicensefile">&lt;lbm-license-file&gt;</a>, <a class="el" href="index.html#droelementtopicmap">&lt;topicmap&gt;</a>, <a class="el" href="index.html#droelementpatternmap">&lt;patternmap&gt;</a>, <a class="el" href="index.html#droelementmonitor">&lt;monitor&gt;</a>, <a class="el" href="index.html#droelementwebmonitor">&lt;web-monitor&gt;</a>, <a class="el" href="index.html#droelementdaemonmonitor">&lt;daemon-monitor&gt;</a>, <a class="el" href="index.html#droelementpropagationdelay">&lt;propagation-delay&gt;</a>, <a class="el" href="index.html#droelementxmlconfig">&lt;xml-config&gt;</a>, <a class="el" href="index.html#droelementrouteinfo">&lt;route-info&gt;</a>, <a class="el" href="index.html#droelementrouterecalculation">&lt;route-recalculation&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementrouterecalculation"></a>
Router Element "&lt;route-recalculation&gt;"&nbsp;&nbsp;<small><a href="#droelementrouterecalculation">&lt;-</a></small></h3>
<p>Lets you set timing parameters for DRO rerouting route calculation behavior.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>backoff-interval</b> </td><td>How long, in milliseconds, the DRO waits after the last detected change in topology before initiating a route recalculation. </td><td>string </td><td><b><code>"5000"</code></b> </td></tr>
<tr>
<td><b>warning-interval</b> </td><td>How long, in milliseconds, the DRO waits before warning that a route recalculation is being held up due to a non-converging topology. </td><td>string </td><td><b><code>"10000"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;route-recalculation backoff-interval=<span class="stringliteral">&quot;5000&quot;</span> warning-interval=<span class="stringliteral">&quot;10000&quot;</span>/&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementrouteinfo"></a>
Router Element "&lt;route-info&gt;"&nbsp;&nbsp;<small><a href="#droelementrouteinfo">&lt;-</a></small></h3>
<p>Lets you set control parameters for DRO initial route setup (or reroute) behavior.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>propagation-interval</b> </td><td>The time interval between route information messages that the DRO sends to other DRO. </td><td>string </td><td><b><code>"1000"</code></b> </td></tr>
<tr>
<td><b>check-interval</b> </td><td>How often the DRO checks to see if a route information message needs to be sent, a DRO has timed out, and/or the routes need to be recalculated. </td><td>string </td><td><b><code>"750"</code></b> </td></tr>
<tr>
<td><b>timeout</b> </td><td>How long a DRO waits after receiving no route information messages from another DRO before determining that that DRO is out of service or unreachable. </td><td>string </td><td><b><code>"4000"</code></b> </td></tr>
<tr>
<td><b>max-hop-count</b> </td><td>The maximum number of DROs a route information message can traverse before being discarded. </td><td>string </td><td><b><code>"100"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;route-info propagation-interval=<span class="stringliteral">&quot;1000&quot;</span> check-interval=<span class="stringliteral">&quot;750&quot;</span> timeout=<span class="stringliteral">&quot;4000&quot;</span> max-hop-count=<span class="stringliteral">&quot;100&quot;</span>/&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementxmlconfig"></a>
Router Element "&lt;xml-config&gt;"&nbsp;&nbsp;<small><a href="#droelementxmlconfig">&lt;-</a></small></h3>
<p>Specifies the UM XML configuration file.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#xmlspaceattribute">xml:space Attribute</a>. </td><td><b><code>"default"</code></b> - Trim whitespace. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;xml-config&gt;configfile.xml&lt;/xml-config&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementpropagationdelay"></a>
Router Element "&lt;propagation-delay&gt;"&nbsp;&nbsp;<small><a href="#droelementpropagationdelay">&lt;-</a></small></h3>
<p><b>DEPRECATED AND ELIMINATED. DO NOT USE.</b> Specifies the difference between the shortest and longest propagation delays in the network.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>delta</b> </td><td></td><td>string </td><td></td></tr>
</table>
<hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementdaemonmonitor"></a>
Router Element "&lt;daemon-monitor&gt;"&nbsp;&nbsp;<small><a href="#droelementdaemonmonitor">&lt;-</a></small></h3>
<p>DEPRECATED: Configures the Daemon Statistics feature. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#daemonstatistics">daemonstatistics</a> for general information on Daemon Statistics.</p>
<p>Informatica requests users to migrate to using the UM configuration file to enable automatic monitoring with Protocol Buffer monitoring format for Store and DRO by setting <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpautomaticmonitoring.html#monitorformatcontext">monitor_format (context)</a> to "pb". See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/monitoring.html#automaticmonitoring">Automatic Monitoring</a>.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementlbmconfig">&lt;lbm-config&gt;</a>, <a class="el" href="index.html#droelementpublishinginterval">&lt;publishing-interval&gt;</a>, <a class="el" href="index.html#droelementremotesnapshotrequest">&lt;remote-snapshot-request&gt;</a>, <a class="el" href="index.html#droelementremoteconfigchangesrequest">&lt;remote-config-changes-request&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>topic</b> </td><td>Topic name to use for publishing Daemon Statistics. </td><td>string </td><td><b><code>"tnwgd.monitor"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;daemon-monitor topic=<span class="stringliteral">&quot;umrouter.1&quot;</span>&gt;</div><div class="line">      &lt;lbm-config&gt;/path/umrouter_monitor.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;publishing-interval&gt;</div><div class="line">        ...</div><div class="line">      &lt;/publishing-interval&gt;</div><div class="line">      &lt;remote-snapshot-request allow=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">      &lt;remote-config-changes-request allow=<span class="stringliteral">&quot;0&quot;</span>/&gt;</div><div class="line">    &lt;/daemon-monitor&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementremoteconfigchangesrequest"></a>
Router Element "&lt;remote-config-changes-request&gt;"&nbsp;&nbsp;<small><a href="#droelementremoteconfigchangesrequest">&lt;-</a></small></h3>
<p>Configures whether the DRO will respond to monitoring apps requests to change the rate at which Daemon Statistics messages are published. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#daemonstatistics">daemonstatistics</a> for general information on Daemon Statistics.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemonmonitor">&lt;daemon-monitor&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>allow</b> </td><td>Enable or disable change requests. </td><td><b><code>"0"</code></b> - Ignore change requests. <br />
<b><code>"1"</code></b> - Respond to change requests. </td><td><b><code>"0"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;daemon-monitor topic=<span class="stringliteral">&quot;umrouter.1&quot;</span>&gt;</div><div class="line">      &lt;lbm-config&gt;/path/umrouter_monitor.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;publishing-interval&gt;</div><div class="line">        ...</div><div class="line">      &lt;/publishing-interval&gt;</div><div class="line">      &lt;remote-snapshot-request allow=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">      &lt;remote-config-changes-request allow=<span class="stringliteral">&quot;0&quot;</span>/&gt;</div><div class="line">    &lt;/daemon-monitor&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementremotesnapshotrequest"></a>
Router Element "&lt;remote-snapshot-request&gt;"&nbsp;&nbsp;<small><a href="#droelementremotesnapshotrequest">&lt;-</a></small></h3>
<p>Configures whether the DRO will respond to monitoring apps requests to send on-demand snapshots of daemon statistics. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#daemonstatistics">daemonstatistics</a> for general information on Daemon Statistics.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemonmonitor">&lt;daemon-monitor&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>allow</b> </td><td>Enable or disable snapshot requests. </td><td><b><code>"0"</code></b> - Ignore snapshot requests. <br />
<b><code>"1"</code></b> - Respond to snapshot requests. </td><td><b><code>"0"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;daemon-monitor topic=<span class="stringliteral">&quot;umrouter.1&quot;</span>&gt;</div><div class="line">      &lt;lbm-config&gt;/path/umrouter_monitor.cfg&lt;/lbm-config&gt;</div><div class="line">      &lt;publishing-interval&gt;</div><div class="line">        ...</div><div class="line">      &lt;/publishing-interval&gt;</div><div class="line">      &lt;remote-snapshot-request allow=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">      &lt;remote-config-changes-request allow=<span class="stringliteral">&quot;0&quot;</span>/&gt;</div><div class="line">    &lt;/daemon-monitor&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementwebmonitor"></a>
Router Element "&lt;web-monitor&gt;"&nbsp;&nbsp;<small><a href="#droelementwebmonitor">&lt;-</a></small></h3>
<p>Identifies the address for the web monitor, in the form of interface:port. You can use "*" to specify the local host.</p>
<p>Omit this element to disable the web monitor.</p>
<p>See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#webmonsecurity">Webmon Security</a> for important security information.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#xmlspaceattribute">xml:space Attribute</a>. </td><td><b><code>"default"</code></b> - Trim whitespace. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;web-monitor&gt;*:21001&lt;/web-monitor&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementmonitor"></a>
Router Element "&lt;monitor&gt;"&nbsp;&nbsp;<small><a href="#droelementmonitor">&lt;-</a></small></h3>
<p>Container for UM Transport monitoring configuration elements.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
<li>
<b>Children:</b> <a class="el" href="index.html#droelementtransportmodule">&lt;transport-module&gt;</a>, <a class="el" href="index.html#droelementformatmodule">&lt;format-module&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>interval</b> </td><td>Monitoring interval, in seconds. 0 disables monitoring. </td><td>string </td><td><b><code>"0"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;monitor interval=<span class="stringliteral">&quot;30&quot;</span>&gt;</div><div class="line">      &lt;transport-module module=<span class="stringliteral">&quot;lbm&quot;</span> options=<span class="stringliteral">&quot;config=/cfgs/TD1.cfg;topic=stats&quot;</span>/&gt;</div><div class="line">      &lt;format-module options=<span class="stringliteral">&quot;config=/cfgs/TD1.cfg;separator=|&quot;</span>/&gt;</div><div class="line">    &lt;/monitor&gt;  </div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementformatmodule"></a>
Router Element "&lt;format-module&gt;"&nbsp;&nbsp;<small><a href="#droelementformatmodule">&lt;-</a></small></h3>
<p>Provides specifics about the monitoring format module.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementmonitor">&lt;monitor&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>module</b> </td><td><p class="starttd">Selects the message formatting module.</p>
<p class="endtd">See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/monitoring.html#monitoringformats">Monitoring Formats</a>. </p>
</td><td><b><code>"csv"</code></b> - Comma-separated values. <br />
<b><code>"pb"</code></b> - Google Protocol Buffers. </td><td><b><code>"csv"</code></b> </td></tr>
<tr>
<td><b>options</b> </td><td>Option string to be passed to the formatting module. Available option is <b>"separator"</b> (defaults to comma). </td><td>string </td><td>(if omitted, no options are passed to the formatting module) </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;monitor interval=<span class="stringliteral">&quot;30&quot;</span>&gt;</div><div class="line">      &lt;transport-module module=<span class="stringliteral">&quot;lbm&quot;</span> options=<span class="stringliteral">&quot;config=/cfgs/TD1.cfg;topic=stats&quot;</span>/&gt;</div><div class="line">      &lt;format-module options=<span class="stringliteral">&quot;separator=|&quot;</span>/&gt;</div><div class="line">    &lt;/monitor&gt;  </div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtransportmodule"></a>
Router Element "&lt;transport-module&gt;"&nbsp;&nbsp;<small><a href="#droelementtransportmodule">&lt;-</a></small></h3>
<p>Specifies characteristics about the monitoring transport module used.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementmonitor">&lt;monitor&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>module</b> </td><td>Selects the message transport module. </td><td><b><code>"lbm"</code></b> - Publish messages via standard UM source. <br />
<b><code>"lbmsnmp"</code></b> - Publish messages via standard UM source with special settings intended for the UM SNMP agent. <br />
<b><code>"udp"</code></b> - Publish messages as simple UDP datagrams. </td><td><b><code>"lbm"</code></b> </td></tr>
<tr>
<td><b>options</b> </td><td>Option string to be passed to the transport module. Available options are <b>"config"</b> (configuration file pathname) and <b>"topic"</b> (the topic name to use for sending and receiving statistics; defaults to "/29west/statistics"). </td><td>string </td><td>(if omitted, no options are passed to the transport module) </td></tr>
</table>
<p><b>Example</b> <b>1</b>: </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;monitor interval=30&gt;</div><div class="line">      &lt;transport-module module=<span class="stringliteral">&quot;lbm&quot;</span> options=<span class="stringliteral">&quot;config=/cfgs/TD1.cfg;topic=stats&quot;</span>/&gt;</div><div class="line">      &lt;format-module options=<span class="stringliteral">&quot;config=/cfgs/TD1.cfg;separator=|&quot;</span>/&gt;</div><div class="line">    &lt;/monitor&gt;  </div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><b>Example</b> <b>2</b>:</p>
<p>Monitoring configuration options can be supplied directly in the XML. </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;monitor interval=30&gt;</div><div class="line">      &lt;transport-module module=<span class="stringliteral">&quot;lbm&quot;</span></div><div class="line">        options=<span class="stringliteral">&quot;config=/cfgs/TD1.cfg;context|request_tcp_interface=192.168.135.131&quot;</span>/&gt;</div><div class="line">      &lt;format-module options=<span class="stringliteral">&quot;config=/cfgs/TD1.cfg;separator=|&quot;</span>/&gt;</div><div class="line">    &lt;/monitor&gt;  </div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementpatternmap"></a>
Router Element "&lt;patternmap&gt;"&nbsp;&nbsp;<small><a href="#droelementpatternmap">&lt;-</a></small></h3>
<p>Determines characteristics of the internal topic resolution maps for wildcard patterns.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>hash-function</b> </td><td>Topic resolution hash function to use. Informatica recommends the default. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpudpbasedresolveroperation.html#resolverstringhashfunctioncontext">resolver_string_hash_function (context)</a> for more information. </td><td><b><code>"classic"</code></b> - UM's original hash function. May be better for certain specialized topic names. <br />
<b><code>"djb2"</code></b> - The Dan Bernstein algorithm from comp.lang.c. May be better for topic names have a changing prefix with a constant suffix. <br />
<b><code>"sdbm"</code></b> - Sdbm database library (used in Berkeley DB). May be better for certain specialized topic names. <br />
<b><code>"murmur2"</code></b> - Good all-around hash function by Austin Appleby. </td><td><b><code>"murmur2"</code></b> </td></tr>
<tr>
<td><b>size</b> </td><td>Number of buckets in hash table. Should be a prime number. </td><td>string </td><td><b><code>"131111"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;patternmap hash-<span class="keyword">function</span>=<span class="stringliteral">&quot;murmur2&quot;</span> size=<span class="stringliteral">&quot;131111&quot;</span>&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementtopicmap"></a>
Router Element "&lt;topicmap&gt;"&nbsp;&nbsp;<small><a href="#droelementtopicmap">&lt;-</a></small></h3>
<p>Determines characteristics of the internal topic resolution maps for topic names.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>hash-function</b> </td><td>Topic resolution hash function to use. Informatica recommends the default. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpudpbasedresolveroperation.html#resolverstringhashfunctioncontext">resolver_string_hash_function (context)</a> for more information. </td><td><b><code>"classic"</code></b> - UM's original hash function. May be better for certain specialized topic names. <br />
<b><code>"djb2"</code></b> - The Dan Bernstein algorithm from comp.lang.c. May be better for topic names have a changing prefix with a constant suffix. <br />
<b><code>"sdbm"</code></b> - Sdbm database library (used in Berkeley DB). May be better for certain specialized topic names. <br />
<b><code>"murmur2"</code></b> - Good all-around hash function by Austin Appleby. </td><td><b><code>"murmur2"</code></b> </td></tr>
<tr>
<td><b>size</b> </td><td>Number of buckets in hash table. Should be a prime number. </td><td>string </td><td><b><code>"131111"</code></b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;topicmap hash-<span class="keyword">function</span>=<span class="stringliteral">&quot;murmur2&quot;</span> size=<span class="stringliteral">&quot;131111&quot;</span>&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementlbmlicensefile"></a>
Router Element "&lt;lbm-license-file&gt;"&nbsp;&nbsp;<small><a href="#droelementlbmlicensefile">&lt;-</a></small></h3>
<p>Specifies the UM license file's pathname.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#xmlspaceattribute">xml:space Attribute</a>. </td><td><b><code>"default"</code></b> - Trim whitespace. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">      . . .</div><div class="line">    &lt;lbm-license-file&gt;lic0014.txt&lt;/lbm-license-file&gt;</div><div class="line">      . . .</div><div class="line">  &lt;/daemon&gt;</div><div class="line">      . . .</div><div class="line">      . . .</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementpidfile"></a>
Router Element "&lt;pidfile&gt;"&nbsp;&nbsp;<small><a href="#droelementpidfile">&lt;-</a></small></h3>
<p>Contains the pathname for daemon process ID (PID) file.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#xmlspaceattribute">xml:space Attribute</a>. </td><td><b><code>"default"</code></b> - Trim whitespace. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;pidfile&gt;\var\run\dro01.pid&lt;/pidfile&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementgid"></a>
Router Element "&lt;gid&gt;"&nbsp;&nbsp;<small><a href="#droelementgid">&lt;-</a></small></h3>
<p>Specifies a Group ID (GID) for daemon process (if run as root).</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;gid&gt;1234&lt;/gid&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementuid"></a>
Router Element "&lt;uid&gt;"&nbsp;&nbsp;<small><a href="#droelementuid">&lt;-</a></small></h3>
<p>Specifies a User ID (UID) for the daemon process (if run as root).</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
</ul>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;uid&gt;5555&lt;/uid&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><hr/>
<p> <br />
 </p>
<h3><a class="anchor" id="droelementlog"></a>
Router Element "&lt;log&gt;"&nbsp;&nbsp;<small><a href="#droelementlog">&lt;-</a></small></h3>
<p>Specifies the destination for DRO log messages. If you set the type for "file", use this element to contain the full pathname.</p>
<ul>
<li>
<b>Cardinality:</b> 0 .. 1 </li>
<li>
<b>Parent:</b> <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> </li>
</ul>
<p><b>XML</b> <b>Attributes:</b> </p><table class="doxtable">
<tr>
<th>Attribute </th><th>Description </th><th>Valid Values </th><th>Default Value </th></tr>
<tr>
<td><b>type</b> </td><td>Method of writing logs. </td><td><b><code>"file"</code></b> - Write log to disk file. <br />
<b><code>"syslog"</code></b> - Write log to Unix "syslog". <br />
<b><code>"console"</code></b> - Write log to standard out. </td><td><b><code>"console"</code></b> </td></tr>
<tr>
<td><b>frequency</b> </td><td>Frequency by which to roll log file. Only applies for type="file". </td><td><b><code>"disable"</code></b> - Do not roll log file. <br />
<b><code>"daily"</code></b> - Roll log file at midnight. <br />
<b><code>"hourly"</code></b> - Roll log file after approximately an hour, but is not exact and can drift significantly over a period of time. <br />
<b><code>"test"</code></b> - For Informatica internal use only. Do not use. </td><td><b><code>"disable"</code></b> </td></tr>
<tr>
<td><b>size</b> </td><td>Number of millions of bytes of file size to roll log file. E.g. a value of 1 rolls after 1000000 bytes. Maximum value is 4000. Value of 0 disables rolling by file size. Only applies for type="file". </td><td>string </td><td><b><code>"0"</code></b> </td></tr>
<tr>
<td><b>xml:space</b> </td><td>Specifies how whitespace (tabs, spaces, linefeeds) are handled in the element content. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#xmlspaceattribute">xml:space Attribute</a>. </td><td><b><code>"default"</code></b> - Trim whitespace. <br />
<b><code>"preserve"</code></b> - Retain whitespace exactly as entered. </td><td><b>default</b> </td></tr>
</table>
<p><b>Example:</b> </p><div class="fragment"><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;log type=<span class="stringliteral">&quot;syslog&quot;</span>/&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  ...</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umrouterconfigurationdtd"></a>
DRO Configuration DTD&nbsp;&nbsp;<small><a href="#umrouterconfigurationdtd">&lt;-</a></small></h2>
<p>Here is the XML configuration DTD with the comments removed. To see the DTD with comments included, enter <code>tnwgd --dump-dtd</code>.</p>
<div class="fragment"><div class="line">&lt;!ELEMENT tnw-gateway (daemon?, portals)&gt;</div><div class="line">&lt;!ATTLIST tnw-gateway</div><div class="line">          version (1.0) <span class="preprocessor">#REQUIRED</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT daemon (name?, log?, uid?, gid?, pidfile?, lbm-license-file?, topicmap?, patternmap?, monitor?, web-monitor?, daemon-monitor?, propagation-delay?, xml-config?, route-info?, route-recalculation?)&gt;</div><div class="line">&lt;!ELEMENT log ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST log</div><div class="line">          type (file | syslog | console) <span class="stringliteral">&quot;console&quot;</span></div><div class="line">          frequency (disable | daily | hourly | test) <span class="stringliteral">&quot;disable&quot;</span></div><div class="line">          size CDATA <span class="stringliteral">&quot;0&quot;</span></div><div class="line">          xml:space (<span class="keywordflow">default</span> | preserve) <span class="stringliteral">&quot;default&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT pidfile ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST pidfile xml:space (<span class="keywordflow">default</span> | preserve) <span class="stringliteral">&quot;default&quot;</span>&gt;</div><div class="line">&lt;!ELEMENT uid ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT gid ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT lbm-license-file ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST lbm-license-file xml:space (<span class="keywordflow">default</span> | preserve) <span class="stringliteral">&quot;default&quot;</span>&gt;</div><div class="line">&lt;!ELEMENT topicmap EMPTY&gt;</div><div class="line">&lt;!ATTLIST topicmap</div><div class="line">          hash-<span class="keyword">function</span> ( classic | djb2 | sdbm | murmur2 ) <span class="stringliteral">&quot;murmur2&quot;</span></div><div class="line">          size CDATA <span class="stringliteral">&quot;131111&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT patternmap EMPTY&gt;</div><div class="line">&lt;!ATTLIST patternmap</div><div class="line">          hash-<span class="keyword">function</span> ( classic | djb2 | sdbm | murmur2 ) <span class="stringliteral">&quot;murmur2&quot;</span></div><div class="line">          size CDATA <span class="stringliteral">&quot;131111&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT portals (endpoint | peer)+&gt;</div><div class="line">&lt;!ELEMENT endpoint (name, domain-<span class="keywordtype">id</span>, cost?, source-deletion-delay?, max-queue?, smart-batch?, lbm-config?, lbm-attributes?, acl?, topic-resolution?, late-join?, topic-purge?, topic-interest-generate?, topic-domain-activity?, pattern-purge?, pattern-interest-generate?, pattern-domain-activity?, remote-topic?, remote-pattern?, source-context-name?, receiver-context-name?, sqn-window?, context-query?, publishing-interval? )&gt;</div><div class="line">&lt;!ELEMENT peer (name, cost?, sourcemap?, (tcp | single-tcp), source-deletion-delay?, max-queue?, smart-batch?, max-datagram?, batching?, lbm-config?, lbm-attributes?, acl?, topic-purge?, topic-interest-generate?, topic-domain-activity?, pattern-purge?, pattern-interest-generate?, pattern-domain-activity?, topic-use-check?, pattern-use-check?, source-context-name?, receiver-context-name?, sqn-window?, context-query?, gateway-keepalive?, publishing-interval? )&gt;</div><div class="line">&lt;!ELEMENT name ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST name xml:space (<span class="keywordflow">default</span> | preserve) <span class="stringliteral">&quot;default&quot;</span>&gt;</div><div class="line">&lt;!ELEMENT domain-id ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT cost ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT source-deletion-delay ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT sourcemap EMPTY&gt;</div><div class="line">&lt;!ATTLIST sourcemap</div><div class="line">          size CDATA <span class="stringliteral">&quot;TNWG_PORTAL_PEER_INFO_SOURCEMAP_SIZE_DEFAULT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT tcp (interface?, listen-port, receive-buffer?, send-buffer?, keepalive?, nodelay?, compression?, tls?, companion )&gt;</div><div class="line">&lt;!ELEMENT interface ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT listen-port ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT receive-buffer ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT send-buffer ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT keepalive EMPTY &gt;</div><div class="line">&lt;!ELEMENT nodelay EMPTY &gt;</div><div class="line">&lt;!ELEMENT companion (address, port)&gt;</div><div class="line">&lt;!ELEMENT compression ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT tls (certificate, certificate-key, certificate-key-password?, trusted-certificates?, cipher-suites? )&gt;</div><div class="line">&lt;!ELEMENT certificate ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT certificate-key ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT certificate-key-password ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT trusted-certificates ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT cipher-suites ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST companion</div><div class="line">          reconnect-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_PEER_INFO_RECONNECT_IVL_DEFAULT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT address ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT port ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT single-tcp (interface?, receive-buffer?, send-buffer?, keepalive?, nodelay?, compression?, tls?, (initiator | acceptor ) )&gt;</div><div class="line">&lt;!ELEMENT initiator (address, port)&gt;</div><div class="line">&lt;!ATTLIST initiator</div><div class="line">          reconnect-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_PEER_INFO_RECONNECT_IVL_DEFAULT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT acceptor (listen-port)&gt;</div><div class="line">&lt;!ELEMENT max-queue ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT smart-batch ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT max-datagram ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT batching (min-length?, batch-interval?)&gt;</div><div class="line">&lt;!ELEMENT min-length ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT batch-interval ( #PCDATA )&gt;</div><div class="line">&lt;!ELEMENT lbm-config ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST lbm-config xml:space (<span class="keywordflow">default</span> | preserve) <span class="stringliteral">&quot;default&quot;</span>&gt;</div><div class="line">&lt;!ELEMENT lbm-attributes (option+)&gt;</div><div class="line">&lt;!ELEMENT option EMPTY&gt;</div><div class="line">&lt;!ATTLIST option</div><div class="line">          scope (receiver | context | source | wildcard_receiver | event_queue) <span class="preprocessor">#REQUIRED</span></div><div class="line">          name CDATA #REQUIRED</div><div class="line">          value CDATA #REQUIRED</div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT acl (inbound?, outbound?)&gt;</div><div class="line">&lt;!ELEMENT inbound (ace+)&gt;</div><div class="line">&lt;!ELEMENT outbound (ace+)&gt;</div><div class="line">&lt;!ELEMENT ace (topic | pcre-pattern | regex-pattern | transport | source-ip | multicast-group | udp-source-port | udp-destination-port | tcp-source-port | xport-<span class="keywordtype">id</span>)+ &gt;</div><div class="line">&lt;!ATTLIST ace match (accept | reject) <span class="preprocessor">#REQUIRED &gt;</span></div><div class="line">&lt;!ELEMENT topic ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST topic</div><div class="line">          xml:space (<span class="keywordflow">default</span> | preserve) <span class="stringliteral">&quot;default&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT pcre-pattern ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST pcre-pattern</div><div class="line">          xml:space (<span class="keywordflow">default</span> | preserve) <span class="stringliteral">&quot;default&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT regex-pattern ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST regex-pattern</div><div class="line">          xml:space (<span class="keywordflow">default</span> | preserve) <span class="stringliteral">&quot;default&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT transport EMPTY&gt;</div><div class="line">&lt;!ATTLIST transport</div><div class="line">          value (tcp | lbt-rm | lbtrm | lbt-ru | lbtru | lbt-ipc | lbtipc) <span class="preprocessor">#REQUIRED</span></div><div class="line">          comparison (eq | equal | ne | notequal) <span class="preprocessor">#REQUIRED</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT source-ip EMPTY&gt;</div><div class="line">&lt;!ATTLIST source-ip</div><div class="line">          value CDATA #REQUIRED</div><div class="line">          comparison (eq | equal | ne | notequal | lt | lessthan | le | lessthanequal | gt | greaterthan | ge | greaterthanequal) <span class="preprocessor">#REQUIRED</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT multicast-group EMPTY&gt;</div><div class="line">&lt;!ATTLIST multicast-group</div><div class="line">          value CDATA #REQUIRED</div><div class="line">          comparison (eq | equal | ne | notequal | lt | lessthan | le | lessthanequal | gt | greaterthan | ge | greaterthanequal) <span class="preprocessor">#REQUIRED</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT udp-source-port EMPTY&gt;</div><div class="line">&lt;!ATTLIST udp-source-port</div><div class="line">          value CDATA #REQUIRED</div><div class="line">          comparison (eq | equal | ne | notequal | lt | lessthan | le | lessthanequal | gt | greaterthan | ge | greaterthanequal) <span class="preprocessor">#REQUIRED</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT udp-destination-port EMPTY&gt;</div><div class="line">&lt;!ATTLIST udp-destination-port</div><div class="line">          value CDATA #REQUIRED</div><div class="line">          comparison (eq | equal | ne | notequal | lt | lessthan | le | lessthanequal | gt | greaterthan | ge | greaterthanequal) <span class="preprocessor">#REQUIRED</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT tcp-source-port EMPTY&gt;</div><div class="line">&lt;!ATTLIST tcp-source-port</div><div class="line">          value CDATA #REQUIRED</div><div class="line">          comparison (eq | equal | ne | notequal | lt | lessthan | le | lessthanequal | gt | greaterthan | ge | greaterthanequal) <span class="preprocessor">#REQUIRED</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT xport-<span class="keywordtype">id</span> EMPTY&gt;</div><div class="line">&lt;!ATTLIST xport-<span class="keywordtype">id</span></div><div class="line">          value CDATA #REQUIRED</div><div class="line">          comparison (eq | equal | ne | notequal | lt | lessthan | le | lessthanequal | gt | greaterthan | ge | greaterthanequal) <span class="preprocessor">#REQUIRED</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT topic-resolution (topic-use-query?, pattern-use-query?, remote-topic-interest?, remote-pattern-interest?, domain-route?, initial-request? )&gt;</div><div class="line">&lt;!ELEMENT topic-use-query (rate-limit? ) &gt;</div><div class="line">&lt;!ATTLIST topic-use-query</div><div class="line">          timeout CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_TOPIC_USE_QUERY_TIMEOUT_DEFAULT&quot;</span></div><div class="line">          max CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_TOPIC_USE_QUERY_MAX_DEFAULT&quot;</span></div><div class="line">          periodic-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_TOPIC_USE_QUERY_PERIODIC_IVL_DEFAULT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT pattern-use-query (rate-limit? ) &gt;</div><div class="line">&lt;!ATTLIST pattern-use-query</div><div class="line">          timeout CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_PATTERN_USE_QUERY_TIMEOUT_DEFAULT&quot;</span></div><div class="line">          max CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_PATTERN_USE_QUERY_MAX_DEFAULT&quot;</span></div><div class="line">          periodic-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_PATTERN_USE_QUERY_PERIODIC_IVL_DEFAULT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT remote-topic-interest (rate-limit? ) &gt;</div><div class="line">&lt;!ATTLIST remote-topic-interest</div><div class="line">          min-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_REMOTE_TOPIC_INTEREST_MIN_IVL_DEFAULT&quot;</span></div><div class="line">          max-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_REMOTE_TOPIC_INTEREST_MAX_IVL_DEFAULT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT remote-pattern-interest (rate-limit? ) &gt;</div><div class="line">&lt;!ATTLIST remote-pattern-interest</div><div class="line">          min-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_REMOTE_PATTERN_INTEREST_MIN_IVL_DEFAULT&quot;</span></div><div class="line">          max-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_REMOTE_PATTERN_INTEREST_MAX_IVL_DEFAULT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT domain-route (rate-limit? ) &gt;</div><div class="line">&lt;!ATTLIST domain-route</div><div class="line">          min-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_DOMAIN_ROUTE_MIN_IVL_DEFAULT&quot;</span></div><div class="line">          max-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_DOMAIN_ROUTE_MAX_IVL_DEFAULT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT rate-limit EMPTY&gt;</div><div class="line">&lt;!ATTLIST rate-limit</div><div class="line">          bps CDATA #IMPLIED</div><div class="line">          objects-per-second CDATA #IMPLIED</div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT initial-request EMPTY&gt;</div><div class="line">&lt;!ATTLIST initial-request</div><div class="line">          periodic-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_TOPIC_RESOLUTION_REQUEST_IVL_DEFAULT&quot;</span></div><div class="line">          duration CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_TOPIC_RESOLUTION_REQUEST_DURATION_DEFAULT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT late-join EMPTY&gt;</div><div class="line">&lt;!ATTLIST late-join</div><div class="line">          provide ( source | always | never ) <span class="stringliteral">&quot;source&quot;</span></div><div class="line">          forward ( yes | no ) <span class="stringliteral">&quot;yes&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT topic-purge EMPTY&gt;</div><div class="line">&lt;!ATTLIST topic-purge periodic-interval CDATA #IMPLIED&gt;</div><div class="line">&lt;!ELEMENT topic-interest-generate EMPTY&gt;</div><div class="line">&lt;!ATTLIST topic-interest-generate</div><div class="line">          periodic-interval CDATA #IMPLIED</div><div class="line">          max-topics CDATA #IMPLIED</div><div class="line">          interval CDATA #IMPLIED</div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT topic-domain-activity EMPTY&gt;</div><div class="line">&lt;!ATTLIST topic-domain-activity timeout CDATA #IMPLIED&gt;</div><div class="line">&lt;!ELEMENT pattern-purge EMPTY&gt;</div><div class="line">&lt;!ATTLIST pattern-purge periodic-interval CDATA #IMPLIED&gt;</div><div class="line">&lt;!ELEMENT pattern-interest-generate EMPTY&gt;</div><div class="line">&lt;!ATTLIST pattern-interest-generate</div><div class="line">          periodic-interval CDATA #IMPLIED</div><div class="line">          max-patterns CDATA #IMPLIED</div><div class="line">          interval CDATA #IMPLIED</div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT pattern-domain-activity EMPTY&gt;</div><div class="line">&lt;!ATTLIST pattern-domain-activity timeout CDATA #IMPLIED&gt;</div><div class="line">&lt;!ELEMENT remote-topic EMPTY&gt;</div><div class="line">&lt;!ATTLIST remote-topic</div><div class="line">          check-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_REMOTE_TOPIC_CHECK_IVL&quot;</span></div><div class="line">          max-topics CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_REMOTE_TOPIC_MAX_TOPICS&quot;</span></div><div class="line">          timeout CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_REMOTE_TOPIC_TIMEOUT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT remote-pattern EMPTY&gt;</div><div class="line">&lt;!ATTLIST remote-pattern</div><div class="line">          check-interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_REMOTE_PATTERN_CHECK_IVL&quot;</span></div><div class="line">          max-patterns CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_REMOTE_PATTERN_MAX_PATTERNS&quot;</span></div><div class="line">          timeout CDATA <span class="stringliteral">&quot;TNWG_PORTAL_EP_INFO_REMOTE_PATTERN_TIMEOUT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT topic-use-check EMPTY&gt;</div><div class="line">&lt;!ATTLIST topic-use-check periodic-interval CDATA #IMPLIED&gt;</div><div class="line">&lt;!ELEMENT pattern-use-check EMPTY&gt;</div><div class="line">&lt;!ATTLIST pattern-use-check periodic-interval CDATA #IMPLIED&gt;</div><div class="line">&lt;!ELEMENT monitor (transport-module?, format-module?)&gt;</div><div class="line">&lt;!ATTLIST monitor</div><div class="line">          interval CDATA <span class="stringliteral">&quot;0&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT transport-module EMPTY&gt;</div><div class="line">&lt;!ATTLIST transport-module</div><div class="line">          module (lbm | lbmsnmp | udp) <span class="stringliteral">&quot;lbm&quot;</span></div><div class="line">          options CDATA #IMPLIED</div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT format-module EMPTY&gt;</div><div class="line">&lt;!ATTLIST format-module</div><div class="line">          module (csv | pb) <span class="stringliteral">&quot;csv&quot;</span></div><div class="line">          options CDATA #IMPLIED</div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT web-monitor ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST web-monitor xml:space (<span class="keywordflow">default</span> | preserve) <span class="stringliteral">&quot;default&quot;</span>&gt;</div><div class="line">&lt;!ELEMENT propagation-delay EMPTY&gt;</div><div class="line">&lt;!ATTLIST propagation-delay delta CDATA #IMPLIED&gt;</div><div class="line">&lt;!ELEMENT xml-config ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST xml-config xml:space (<span class="keywordflow">default</span> | preserve) <span class="stringliteral">&quot;default&quot;</span>&gt;</div><div class="line">&lt;!ELEMENT source-context-name ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST source-context-name xml:space (<span class="keywordflow">default</span> | preserve) <span class="stringliteral">&quot;default&quot;</span>&gt;</div><div class="line">&lt;!ELEMENT receiver-context-name ( #PCDATA )&gt;</div><div class="line">&lt;!ATTLIST receiver-context-name xml:space (<span class="keywordflow">default</span> | preserve) <span class="stringliteral">&quot;default&quot;</span>&gt;</div><div class="line">&lt;!ELEMENT sqn-window EMPTY&gt;</div><div class="line">&lt;!ATTLIST sqn-window</div><div class="line">          size CDATA <span class="stringliteral">&quot;TNWG_PORTAL_INFO_SQN_WINDOW_SIZE_DEFAULT&quot;</span></div><div class="line">          increment CDATA <span class="stringliteral">&quot;TNWG_PORTAL_INFO_SQN_WINDOW_INCREMENT_DEFAULT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT context-query EMPTY&gt;</div><div class="line">&lt;!ATTLIST context-query</div><div class="line">          periodic-interval CDATA #IMPLIED</div><div class="line">          max-contexts CDATA #IMPLIED</div><div class="line">          interval CDATA #IMPLIED</div><div class="line">          timeout CDATA #IMPLIED</div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT gateway-keepalive EMPTY&gt;</div><div class="line">&lt;!ATTLIST gateway-keepalive</div><div class="line">          idle ( yes | no ) <span class="stringliteral">&quot;yes&quot;</span></div><div class="line">          interval CDATA <span class="stringliteral">&quot;TNWG_PORTAL_PEER_INFO_KEEPALIVE_CHECK_IVL_DEFAULT&quot;</span></div><div class="line">          timeout CDATA <span class="stringliteral">&quot;TNWG_PORTAL_PEER_INFO_COMPANION_INACTIVITY_IVL_DEFAULT&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT route-info EMPTY&gt;</div><div class="line">&lt;!ATTLIST route-info</div><div class="line">          propagation-interval CDATA <span class="stringliteral">&quot;1000&quot;</span></div><div class="line">          check-interval CDATA <span class="stringliteral">&quot;750&quot;</span></div><div class="line">          timeout CDATA <span class="stringliteral">&quot;4000&quot;</span></div><div class="line">          max-hop-count CDATA <span class="stringliteral">&quot;100&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT route-recalculation EMPTY&gt;</div><div class="line">&lt;!ATTLIST route-recalculation</div><div class="line">          backoff-interval CDATA <span class="stringliteral">&quot;5000&quot;</span></div><div class="line">          warning-interval CDATA <span class="stringliteral">&quot;10000&quot;</span></div><div class="line">&gt;</div><div class="line">&lt;!ELEMENT daemon-monitor (lbm-config?, publishing-interval?, remote-snapshot-request?, remote-config-changes-request?)&gt;</div><div class="line">&lt;!ATTLIST daemon-monitor topic CDATA <span class="stringliteral">&quot;tnwgd.monitor&quot;</span>&gt;</div><div class="line">&lt;!ELEMENT publishing-interval (group+)&gt;</div><div class="line">&lt;!ELEMENT group EMPTY&gt;</div><div class="line">&lt;!ATTLIST group name (<span class="keywordflow">default</span> | gateway-config | route-manager-topology | malloc-info | portal-config | portal-stats ) <span class="preprocessor">#REQUIRED&gt;</span></div><div class="line">&lt;!ATTLIST group ivl CDATA #REQUIRED&gt;</div><div class="line">&lt;!ELEMENT remote-snapshot-request EMPTY&gt;</div><div class="line">&lt;!ATTLIST remote-snapshot-request allow (0 | 1) <span class="stringliteral">&quot;0&quot;</span>&gt;</div><div class="line">&lt;!ELEMENT remote-config-changes-request EMPTY&gt;</div><div class="line">&lt;!ATTLIST remote-config-changes-request allow (0 | 1) <span class="stringliteral">&quot;0&quot;</span>&gt;</div></div><!-- fragment --><p><br />
 </p><hr/>
<h1><a class="anchor" id="umrouterdaemonstatistics"></a>
DRO Daemon Statistics&nbsp;&nbsp;<small><a href="#umrouterdaemonstatistics">&lt;-</a></small></h1>
<dl class="section note"><dt>Note</dt><dd>The C-style binary structure format of daemon statistics is DEPRECATED and may be removed in a future release. Informatica requests that users migrate to protocol buffer-based format by setting <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpautomaticmonitoring.html#monitorformatcontext">monitor_format (context)</a> to "pb". See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/monitoring.html#automaticmonitoring">Automatic Monitoring</a>.</dd></dl>
<p>See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/example.tag:../../example/" href="../../example/index.html#exampleprotocolfiles">Example Protocol Files</a> for the protocol buffer definition files.</p>
<p><br />
 </p>
<h2><a class="anchor" id="umrouterdaemonstatisticsstructures"></a>
DRO Daemon Statistics Structures&nbsp;&nbsp;<small><a href="#umrouterdaemonstatisticsstructures">&lt;-</a></small></h2>
<dl class="section note"><dt>Note</dt><dd>the C-style binary structure format of daemon statistics is DEPRECATED and may be removed in a future release. Informatica requests that users migrate to protocol buffer-based format by setting <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpautomaticmonitoring.html#monitorformatcontext">monitor_format (context)</a> to "pb". See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/monitoring.html#automaticmonitoring">Automatic Monitoring</a>.</dd></dl>
<p>The different message types are:</p>
<ul>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a3d4c9c51b7c6c951f9bb30fc01985443">TNWG_DSTATTYPE_MALLINFO</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a219110ebfcf129991d124c7c4b958b5f">TNWG_DSTATTYPE_GATEWAYCFG</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#aa6d1797deea435e8b48b6296bc0725a1">TNWG_DSTATTYPE_PORTCFG</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a8f8364505ea12a843de27bd08f781742">TNWG_DSTATTYPE_RM_LOCAL</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a42c3c613d145e1468643a3e82cd4d831">TNWG_DSTATTYPE_RM_PORTAL</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#ac5224b9528702e4517b7ca3c0e98ce44">TNWG_DSTATTYPE_RM_OTHERGW</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a63eb677c1dedb172db3a4d4fd74bed5e">TNWG_DSTATTYPE_RM_OTHERGW_NBR</a> </li>
<li>
<a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a753f815bd1b3d81710769ebc11ead975">TNWG_DSTATTYPE_PORTSTAT</a> </li>
</ul>
<p>Each one has a specific structure associated with it, as detailed in the file <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html">tnwgdmonmsgs.h</a>.</p>
<p>Note that message types ending with "CFG" are in the config category. All others are in the stats category. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#daemonstatisticsstructures">Daemon Statistics Structures</a> for information on how the two categories are handled differently.</p>
<p><br />
 </p>
<h3><a class="anchor" id="umrouterdaemonstatisticsbyteswapping"></a>
DRO Daemon Statistics Byte Swapping&nbsp;&nbsp;<small><a href="#umrouterdaemonstatisticsbyteswapping">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>the C-style binary structure format of daemon statistics is DEPRECATED and may be removed in a future release. Informatica requests that users migrate to protocol buffer-based format by setting <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpautomaticmonitoring.html#monitorformatcontext">monitor_format (context)</a> to "pb". See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/monitoring.html#automaticmonitoring">Automatic Monitoring</a>.</dd></dl>
<p>A monitoring application receiving these messages must detect if there is an endian mismatch (see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#daemonstatisticsbinarydata">Daemon Statistics Binary Data</a>). The header structure <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#adede0ed30cc9a1511a0d354012f935fe">tnwg_dstat_msg_hdr_t</a> contains a 16-bit field named <code>magic</code> which is set equal to <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a564f67a429dc4f223eb22141c217eb13">LBM_TNWG_DAEMON_MAGIC</a>. The receiving application should compare it to <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a564f67a429dc4f223eb22141c217eb13">LBM_TNWG_DAEMON_MAGIC</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a5b2b012ee57b0466b70e249b41234b0d">LBM_TNWG_DAEMON_ANTIMAGIC</a>. Anything else would represent a serious problem.</p>
<p>If the receiving app sees: </p><div class="fragment"><div class="line">magic == <a class="codeRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a564f67a429dc4f223eb22141c217eb13">LBM_TNWG_DAEMON_MAGIC</a></div></div><!-- fragment --><p> then it can simply access the binary fields directly. However, if it sees: </p><div class="fragment"><div class="line">magic == <a class="codeRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a5b2b012ee57b0466b70e249b41234b0d">LBM_TNWG_DAEMON_ANTIMAGIC</a></div></div><!-- fragment --><p> then <em>most</em> (but not all) binary fields need to be byte-swapped. See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/example.tag:../../example/" href="../../example/index.html#exampletnwgdmon_c">Example tnwgdmon.c</a> for an example, paying special attention to the macros <code>COND_SWAPxx</code> (which <em>conditionally</em> swaps based on the magic test) and the functions <code>byte_swapXX()</code> (which performs the byte swapping).</p>
<p><br />
 </p>
<h3><a class="anchor" id="umrouterdaemonstatisticsstructuresstringbuffers"></a>
DRO Daemon Statistics String Buffers&nbsp;&nbsp;<small><a href="#umrouterdaemonstatisticsstructuresstringbuffers">&lt;-</a></small></h3>
<dl class="section note"><dt>Note</dt><dd>the C-style binary structure format of daemon statistics is DEPRECATED and may be removed in a future release. Informatica requests that users migrate to protocol buffer-based format by setting <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpautomaticmonitoring.html#monitorformatcontext">monitor_format (context)</a> to "pb". See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/monitoring.html#automaticmonitoring">Automatic Monitoring</a>.</dd></dl>
<p>DRO Daemon Statistics data structures sometimes contain string buffers. Strings in these data structures are always null-terminated. These messages are generally sent as fixed-length equal to the sizes of the structures, and therefore include all of the declared bytes of the string fields, even if the contained string uses fewer bytes than declared. For example, the structure <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a4e8d3cbad4fc3907e6875a867f778cd7">tnwg_dstat_record_hdr_t</a> contains the field <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/structtnwg__dstat__record__hdr__t__stct.html#a259dca70e2e2d30e16f6959ac899fd78">tnwg_dstat_record_hdr_t_stct::portal_name</a> which is a <code>char</code> array of size <code>TNWG_DSTAT_MAX_PORTAL_NAME_LEN</code>. If <code>portal_name</code> is set to "p1", then only 3 bytes of the buffer are used (including the null string terminator). However, all <code>TNWG_DSTAT_MAX_PORTAL_NAME_LEN</code> bytes will be sent in the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a42c3c613d145e1468643a3e82cd4d831">TNWG_DSTATTYPE_RM_PORTAL</a> message type.</p>
<p>Contrast this with <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/ume.tag:../../UME/" href="../../UME/storedaemonstatistics.html#storedaemonstatisticsstructuresstringbuffers">Store Daemon Statistics String Buffers</a>.</p>
<p>There are two exceptions to this rule: <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#aa6d1797deea435e8b48b6296bc0725a1">TNWG_DSTATTYPE_PORTCFG</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a219110ebfcf129991d124c7c4b958b5f">TNWG_DSTATTYPE_GATEWAYCFG</a>.</p>
<p>The <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#aa6d1797deea435e8b48b6296bc0725a1">TNWG_DSTATTYPE_PORTCFG</a> message is of type <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#ad401470ed9be21b3ebca145fb79459b3">tnwg_pcfg_stat_grp_msg_t</a> and has the field <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/structtnwg__pcfg__stat__grp__msg__t__stct.html#a7887eff4d4e78540e53ea5a5a2521193">tnwg_pcfg_stat_grp_msg_t_stct::data</a>. This field is a variable-length string buffer which contains one or more null-terminated strings. The total length of the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#aa6d1797deea435e8b48b6296bc0725a1">TNWG_DSTATTYPE_PORTCFG</a> message is the sum of the length of its sub-structures plus the number of bytes of string data (characters plus string-terminating nulls). The number of strings in <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/structtnwg__pcfg__stat__grp__msg__t__stct.html#a7887eff4d4e78540e53ea5a5a2521193">tnwg_pcfg_stat_grp_msg_t_stct::data</a> is given by <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/structtnwg__pcfg__stat__grp__msg__t__stct.html#a278f4ace28e25468a5b5cff658847b7d">tnwg_pcfg_stat_grp_msg_t_stct::rechdr</a>-&gt;num_options. The monitoring application must step through the string buffer that many times to find each string. For an example of how to do this, see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/example.tag:../../example/" href="../../example/index.html#exampletnwgdmon_c">Example tnwgdmon.c</a> in the code following, "`case TNWG_DSTATTYPE_PORTCFG:`".</p>
<p>The <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a219110ebfcf129991d124c7c4b958b5f">TNWG_DSTATTYPE_GATEWAYCFG</a> message is of type <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a9d9ec1a3f772ba37b376ace807eb5fb5">tnwg_dstat_gatewaycfg_msg_t</a> and has the field <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/structtnwg__dstat__gatewaycfg__msg__t__stct.html#a4f72360cd45b5191a11b608e7a3ce052">tnwg_dstat_gatewaycfg_msg_t_stct::data</a>. This field is a variable-length string buffer which contains exactly one null-terminated string. This string contains the entirety of the DRO's configuration file. The individual lines contain the normal line-ending character(s). The total length of the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a219110ebfcf129991d124c7c4b958b5f">TNWG_DSTATTYPE_GATEWAYCFG</a> message is the length of its sub-structure plus the number of bytes of string data (characters plus string-terminating nulls).</p>
<p><br />
 </p>
<h2><a class="anchor" id="umrouterdaemonstatisticsconfiguration"></a>
DRO Daemon Statistics Configuration&nbsp;&nbsp;<small><a href="#umrouterdaemonstatisticsconfiguration">&lt;-</a></small></h2>
<dl class="section note"><dt>Note</dt><dd>the C-style binary structure format of daemon statistics is DEPRECATED and may be removed in a future release. Informatica requests that users migrate to protocol buffer-based format by setting <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpautomaticmonitoring.html#monitorformatcontext">monitor_format (context)</a> to "pb". See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/monitoring.html#automaticmonitoring">Automatic Monitoring</a>.</dd></dl>
<p>There are three places in the DRO configuration file that Daemon Statistics are configured: </p><ul>
<li>
The <a class="el" href="index.html#droelementdaemonmonitor">&lt;daemon-monitor&gt;</a> element inside the <a class="el" href="index.html#droelementdaemon">&lt;daemon&gt;</a> definition. Configures all aspects of the DRO Daemon Statistics feature, including publishing intervals. </li>
<li>
The <a class="el" href="index.html#droelementpublishinginterval">&lt;publishing-interval&gt;</a> element inside the <a class="el" href="index.html#droelementpeer">&lt;peer&gt;</a> definition. Configures only the publishing intervals on a peer portal basis. </li>
<li>
The <a class="el" href="index.html#droelementpublishinginterval">&lt;publishing-interval&gt;</a> element inside the <a class="el" href="index.html#droelementendpoint">&lt;endpoint&gt;</a> definition. Configures only the publishing intervals on an endpoint portal basis. </li>
</ul>
<p>Here is an example of configuring daemon statistics.</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div><div class="line">&lt;!-- G1 xml file- 2 endpoint portals --&gt;</div><div class="line">&lt;tnw-gateway version=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;daemon&gt;</div><div class="line">    ...</div><div class="line">    &lt;publishing-interval&gt;</div><div class="line">      &lt;group name=<span class="stringliteral">&quot;default&quot;</span> ivl=<span class="stringliteral">&quot;3&quot;</span>/&gt;</div><div class="line">      &lt;group name=<span class="stringliteral">&quot;gateway-config&quot;</span> ivl=<span class="stringliteral">&quot;120&quot;</span>/&gt;</div><div class="line">      &lt;group name=<span class="stringliteral">&quot;portal-config&quot;</span> ivl=<span class="stringliteral">&quot;120&quot;</span>/&gt;</div><div class="line">    &lt;/publishing-interval&gt;</div><div class="line">    &lt;remote-snapshot-request allow=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">    &lt;remote-config-changes-request allow=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div><div class="line">  &lt;/daemon&gt;</div><div class="line">  &lt;portals&gt;</div><div class="line">    &lt;endpoint&gt;</div><div class="line">      &lt;name&gt;G1-TRD1&lt;/name&gt;</div><div class="line">      ...</div><div class="line">      &lt;publishing-interval&gt;</div><div class="line">        &lt;group name=<span class="stringliteral">&quot;default&quot;</span> ivl=<span class="stringliteral">&quot;6&quot;</span>/&gt;</div><div class="line">        &lt;group name=<span class="stringliteral">&quot;gateway-config&quot;</span> ivl=<span class="stringliteral">&quot;120&quot;</span>/&gt;</div><div class="line">        &lt;group name=<span class="stringliteral">&quot;portal-config&quot;</span> ivl=<span class="stringliteral">&quot;120&quot;</span>/&gt;</div><div class="line">      &lt;/publishing-interval&gt;</div><div class="line">    &lt;/endpoint&gt;</div><div class="line">    ...</div><div class="line">  &lt;/portals&gt;</div><div class="line">&lt;/tnw-gateway&gt;</div></div><!-- fragment --><p>In this example, all stats-type messages are (conditionally) published on a 3-second interval, except those of portal G1-TRD1, which are published (conditionally) on a 6-second interval. All config-type messages are published (unconditionally) on a 120-second interval.</p>
<p><br />
 </p>
<h2><a class="anchor" id="umrouterdaemoncontrolrequests"></a>
DRO Daemon Control Requests&nbsp;&nbsp;<small><a href="#umrouterdaemoncontrolrequests">&lt;-</a></small></h2>
<p>The DRO Daemon supports a monitoring application to send a specific set of requests to control the operation of Daemon Statistics. The <a class="el" href="index.html#droelementremotesnapshotrequest">&lt;remote-snapshot-request&gt;</a> and <a class="el" href="index.html#droelementremoteconfigchangesrequest">&lt;remote-config-changes-request&gt;</a> configuration elements control whether the DRO enables the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#daemoncontroller">Daemon Controller</a> operation (defaults to disabled).</p>
<dl class="section warning"><dt>Warning</dt><dd>If misused, the Daemon Control Requests feature allows a user to interfere with the messaging infrastructure in potentially disruptive ways. By default, this feature is disabled. However, especially if you have enabled <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/ume.tag:../../UME/" href="../../UME/configurationreferenceforumestored.html#umeelementremoteconfigchangesrequest">UMP Element "&lt;remote-config-changes-request&gt;"</a>, Informatica recommends <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#securingdaemoncontrolrequests">Securing Daemon Control Requests</a>.</dd></dl>
<p>If enabled, the monitoring application can send a command message to the DRO in the form of a topicless unicast immediate "request" message (see <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/lbm_8h.html#ae011c7a66e1db1f012d7f9633dbd321d">lbm_unicast_immediate_request()</a> with NULL for topic). The format of the message is a simple ascii string, with or without null termination. Due to the simple format of the message, no data structure is defined for it.</p>
<p>When the DRO receives and validates the command, it sends a UM response message back to the requesting application containing a status message (which is <em>not</em> null-terminated). If the status was OK, the DRO also performs the requested action.</p>
<p><br />
 </p>
<h3><a class="anchor" id="umrouterdaemoncontrolrequestaddressing"></a>
DRO Daemon Control Request Addressing&nbsp;&nbsp;<small><a href="#umrouterdaemoncontrolrequestaddressing">&lt;-</a></small></h3>
<p>Since Daemon Control Requests are sent as UIM messages, you must use a target string to address the request to the desired DRO Process. The general form of a UIM target address is described in <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umfeatures.html#uimaddressing">UIM Addressing</a>, but is illustrated by this example: </p><pre class="fragment">TCP:10.29.3.46:12009
</pre><p> where 10.29.3.46:12009 is the IP and Port of the Daemon Control context UIM port. These are typically configured using the <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpunicastimmediatemessagingnetwork.html#requesttcpinterfacecontext">request_tcp_interface (context)</a> and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/config.tag:../../Config/" href="../../Config/grpunicastimmediatemessagingnetwork.html#requesttcpportcontext">request_tcp_port (context)</a> options in the UM configuration file specified by the <a class="el" href="index.html#droelementlbmconfig">Router Element "&lt;lbm-config&gt;"</a> contained within the <a class="el" href="index.html#droelementdaemonmonitor">Router Element "&lt;daemon-monitor&gt;"</a>.</p>
<p><br />
 </p>
<h3><a class="anchor" id="umrouterdaemoncontrolrequesttypes"></a>
DRO Control Request Types&nbsp;&nbsp;<small><a href="#umrouterdaemoncontrolrequesttypes">&lt;-</a></small></h3>
<p>The example program <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/example.tag:../../example/" href="../../example/index.html#exampletnwgdcmd_c">Example tnwgdcmd.c</a> demonstrates the correct way to send the messages and receive the responses.</p>
<p><b>REQUEST TYPES ENABLED BY <a class="el" href="index.html#droelementremotesnapshotrequest">&lt;remote-snapshot-request&gt;</a>:</b></p>
<dl class="section user"><dt>version</dt><dd>The DRO returns in its command response the value of <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/umedmonmsgs_8h.html#af43ca32ea1917897c4ff1310d214c20b">LBM_UMESTORE_DMON_VERSION</a>. No daemon statistics messages are published.</dd></dl>
<dl class="section user"><dt>snap mallinfo</dt><dd>The DRO immediately publishes the memory allocation usage message of type <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a3d4c9c51b7c6c951f9bb30fc01985443">TNWG_DSTATTYPE_MALLINFO</a>.</dd></dl>
<dl class="section user"><dt>snap pstat</dt><dd>The DRO immediately publishes the portal statistics message(s) of type <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a753f815bd1b3d81710769ebc11ead975">TNWG_DSTATTYPE_PORTSTAT</a>.</dd></dl>
<dl class="section user"><dt>snap ri</dt><dd>The DRO immediately publishes the route information message(s) of types <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a8f8364505ea12a843de27bd08f781742">TNWG_DSTATTYPE_RM_LOCAL</a>, <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a42c3c613d145e1468643a3e82cd4d831">TNWG_DSTATTYPE_RM_PORTAL</a> <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#ac5224b9528702e4517b7ca3c0e98ce44">TNWG_DSTATTYPE_RM_OTHERGW</a>, and <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a63eb677c1dedb172db3a4d4fd74bed5e">TNWG_DSTATTYPE_RM_OTHERGW_NBR</a>.</dd></dl>
<dl class="section user"><dt>snap gcfg</dt><dd>The DRO immediately publishes the gateway configuration message <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#a219110ebfcf129991d124c7c4b958b5f">TNWG_DSTATTYPE_GATEWAYCFG</a>.</dd></dl>
<dl class="section user"><dt>snap pcfg</dt><dd>The DRO immediately publishes the portal configuration message(s) <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/api.tag:../../API/" href="../../API/tnwgdmonmsgs_8h.html#aa6d1797deea435e8b48b6296bc0725a1">TNWG_DSTATTYPE_PORTCFG</a>.</dd></dl>
<p><b>REQUEST TYPES ENABLED BY <a class="el" href="index.html#droelementremoteconfigchangesrequest">&lt;remote-config-changes-request&gt;</a>:</b></p>
<dl class="section user"><dt>mallinfo N</dt><dd>Set the publishing interval for memory allocation usage. <br />
For example: <code>mallinfo 5</code></dd></dl>
<dl class="section user"><dt>ri N</dt><dd>Set the publishing interval for the route information messages. <br />
For example: <code>ri 5</code></dd></dl>
<dl class="section user"><dt>gcfg N</dt><dd>Set the publishing interval for the gateway configuration message. <br />
For example: <code>gcfg 5</code></dd></dl>
<dl class="section user"><dt>pstat N</dt><dd>Set the publishing interval for the portal statistics messages. This command can be preceded by a portal name in double quote marks to only set the publishing interval for that portal. <br />
For example: <code>"G1-TRD1" pstat 5</code></dd></dl>
<dl class="section user"><dt>pcfg N</dt><dd>Set the publishing interval for the portal configuration messages. This command can be preceded by a portal name in double quote marks to only set the publishing interval for that portal. <br />
For example: <code>"G1-TRD1" pcfg 5</code></dd></dl>
<p><br />
 </p><hr/>
<h1><a class="anchor" id="umroutermonitoring"></a>
DRO Monitoring&nbsp;&nbsp;<small><a href="#umroutermonitoring">&lt;-</a></small></h1>
<p><br />
 </p>
<h2><a class="anchor" id="umrouterwebmonitor"></a>
DRO Web Monitor&nbsp;&nbsp;<small><a href="#umrouterwebmonitor">&lt;-</a></small></h2>
<dl class="section note"><dt>Note</dt><dd>The DRO web monitor functionality is deprecated in favor of <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/operations.tag:../../Operations/" href="../../Operations/monitoring.html#monitoringcollectorservicemcs">MCS</a>. We do not plan to remove existing web monitor functionality, and will continue to support it in its current state. But we do not plan to enhance the web monitor in the future.</dd></dl>
<p>The built-in web monitor (configured in the <code>tnwgd</code> XML configuration file; see <a class="el" href="index.html#xmlconfigurationreference">XML Configuration Reference</a>) provides valuable statistics about the DRO and its portals, for which, the Web Monitor separates into receive statistics and send statistics. The Web Monitor provides a page for each endpoint and peer portal.</p>
<dl class="section warning"><dt>Warning</dt><dd>The DRO's web monitor is not designed to be a highly-secure feature. Anybody with access to the network can access the web monitor pages.</dd></dl>
<p>Users are expected to prevent unauthorized access to the web monitor through normal firewalling methods. Users who are unable to limit access to a level consistent with their overall security needs should disable the DRO web monitor (using <a class="el" href="index.html#droelementwebmonitor">&lt;web-monitor&gt;</a>). See <a class="elRef" doxygen="/29W/Amun/home/sford/backup_exclude/labbox/sfordmac_DEV_HF_6_14/29West/lbm/doc/Gateway/design.tag:../../Design/" href="../../Design/umobjects.html#webmonsecurity">Webmon Security</a> for more information.</p>
<p><br />
 </p>
<h3><a class="anchor" id="mainpage"></a>
Main Page&nbsp;&nbsp;<small><a href="#mainpage">&lt;-</a></small></h3>
<p>This page displays general information about the DRO, and also provides the following links to more detailed statistical and configuration information.</p>
<dl class="section user"><dt><b>UM</b> <b>Router</b> <b>Configuration</b> </dt><dd>Displays the DRO XML configuration file used by this DRO.</dd></dl>
<dl class="section user"><dt><b>Portals</b> </dt><dd>Displays portal statistics and information, one portal per page. The Portals page allows you to link to any of the Peer or Endpoint portals configured for the DRO.</dd></dl>
<dl class="section user"><dt><b>Topology</b> <b>Info</b> </dt><dd>This links to a page that displays DRO network connectivity information from the perspective of this DRO.</dd></dl>
<dl class="section user"><dt><b>Path</b> <b>Info</b> </dt><dd>This lets you query and display a hop path that messages will take between any two TRDs.</dd></dl>
<p>On some platforms, the Main page may include a link (GNU malloc info) to a memory allocation display page that displays the following:</p>
<dl class="section user"><dt><b>arena</b> </dt><dd>Non-mmapped space allocated (bytes)</dd></dl>
<dl class="section user"><dt><b>ordblks</b> </dt><dd>Number of free chunks</dd></dl>
<dl class="section user"><dt><b>hblks</b> </dt><dd>Number of mmapped regions</dd></dl>
<dl class="section user"><dt><b>hblkhd</b> </dt><dd>Space allocated in mmapped regions (bytes)</dd></dl>
<dl class="section user"><dt><b>uordblks</b> </dt><dd>Total allocated space (bytes)</dd></dl>
<dl class="section user"><dt><b>fordblks</b> </dt><dd>Total free space (bytes)</dd></dl>
<p><br />
 </p>
<h3><a class="anchor" id="endpointportalpage"></a>
Endpoint Portal Page&nbsp;&nbsp;<small><a href="#endpointportalpage">&lt;-</a></small></h3>
<p>The Endpoint Portal Page displays Receive and Send statistics for the selected endpoint portal. Receive statistics pertain to messages entering the portal from its connected TRD. Send statistics pertain to messages sent out to the TRD.</p>
<p>Click on any of the links at the top of the page to review configuration option values for the portal's UM topic resolution domain. The two columns provide different units of measure for a given statistic type, where the first column is typically in fragments or messages (depending on the statistic type), and the second column is in bytes.</p>
<p><br />
 <b>Endpoint Portal <em>name</em></b></p>
<dl class="section user"><dt><b>Domain</b> <b>ID</b> </dt><dd>The ID for the Topic Resolution Domain (TRD) to which this portal is connected.</dd></dl>
<dl class="section user"><dt><b>Portal</b> <b>Cost</b> </dt><dd>The cost value assigned to this portal.</dd></dl>
<dl class="section user"><dt><b>Local</b> <b>Interest</b> </dt><dd>Totals (listed below) for topics and patterns in this portal's interest list that originated from receivers in the immediately adjacent TRD.</dd></dl>
<dl class="section user"><dt><b>Topics</b> </dt><dd>Of the local interest total, the number of topics.</dd></dl>
<dl class="section user"><dt><b>PCRE</b> <b>patterns</b> </dt><dd>Of the local interest total, the number of wildcard patterns, using PCRE pattern matching.</dd></dl>
<dl class="section user"><dt><b>REGEX</b> <b>patterns</b> </dt><dd>Of the local interest total, the number of wildcard patterns, using REGEX pattern matching.</dd></dl>
<dl class="section user"><dt><b>Remote</b> <b>Interest</b> </dt><dd>Totals (listed below) for topics and patterns in this portal's interest list that originated from receivers beyond and downstream from the immediately adjacent TRD.</dd></dl>
<dl class="section user"><dt><b>Topics</b> </dt><dd>Of the remote interest total, the number of topics.</dd></dl>
<dl class="section user"><dt><b>PCRE</b> <b>patterns</b> </dt><dd>Of the remote interest total, the number of wildcard patterns, using PCRE pattern matching.</dd></dl>
<dl class="section user"><dt><b>REGEX</b> <b>patterns</b> </dt><dd>Of the remote interest total, the number of wildcard patterns, using REGEX pattern matching.</dd></dl>
<dl class="section user"><dt><b>Proxy</b> <b>Receivers</b> </dt><dd>The number of proxy receivers active in this portal.</dd></dl>
<dl class="section user"><dt><b>Receiver</b> <b>Topics</b> </dt><dd>The number of topics in which the other portals in the DRO have detected current interest and summarily propagated to this portal.</dd></dl>
<dl class="section user"><dt><b>Receiver</b> <b>PCRE</b> <b>patterns</b> </dt><dd>The number of wildcard patterns, using PCRE pattern matching, in which the other portals in the DRO have detected current interest and summarily propagated to this portal.</dd></dl>
<dl class="section user"><dt><b>Receiver</b> <b>REGEX</b> <b>patterns</b> </dt><dd>The number of wildcard patterns, using REGEX pattern matching, in which the other portals in the DRO have detected current interest and summarily propagated to this portal.</dd></dl>
<dl class="section user"><dt><b>Proxy</b> <b>Sources</b> </dt><dd>The number of proxy sources active in this portal.</dd></dl>
<p><br />
 <b>Endpoint Receive Statistics</b></p>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragments/bytes</b> <b>received</b> </dt><dd>The total transport-based topic-related traffic of messages containing user data received by this portal from a TRD. The first column counts the number of fragments (or whole messages for messages that were not fragmented).</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>request</b> <b>fragments/bytes</b> <b>received</b> </dt><dd>Topic messages received that are request messages, i.e., messages send via lbm_send_request*() rather than lbm_src_send*().</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>control</b> <b>msgs/bytes</b> <b>received</b> </dt><dd>The total transport-based topic-related traffic received by this portal from a TRD. These are supervisory messages, which include TSNIs, SRIs., etc. The first column counts the number of messages.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topic</b> <b>fragments/bytes</b> <b>received</b> </dt><dd>The total number of Multicast Immediate Messaging (MIM) messages or message fragments, and bytes (second column), that have a topic, received at this portal.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topic</b> <b>request</b> <b>fragments/bytes</b> <b>received</b> </dt><dd>Of the MIM topic messages received, this is the amount of those that are requests.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topicless</b> <b>fragments/bytes</b> <b>received</b> </dt><dd>The total number of MIM messages or message fragments, and bytes (second column), with null topics, received by his portal.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topicless</b> <b>request</b> <b>fragments/bytes</b> <b>received</b> </dt><dd>Of the MIM topicless messages received, this is the amount of those that are requests.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>data</b> <b>messages/bytes</b> <b>received</b> </dt><dd>The total number of Unicast Immediate Messaging (UIM) messages (and bytes, second column) containing user data, received by this portal.</dd></dl>
<dl class="section user"><dt><b>Duplicate</b> <b>unicast</b> <b>data</b> <b>messages/bytes</b> <b>dropped</b> </dt><dd>UIM data messages discarded because they were duplicates of messages already received.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>data</b> <b>messages/bytes</b> <b>received</b> <b>with</b> <b>no</b> <b>stream</b> <b>info</b> </dt><dd>UIM data messages discarded because they were from an earlier, incompatible version of UM. This tally should stay at 0; otherwise, contact Informatica Support.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>data</b> <b>messages/bytes</b> <b>received</b> <b>with</b> <b>no</b> <b>route</b> <b>to</b> <b>destination</b> </dt><dd>UIM data messages that are on a wrong path, possibly due to a route recalculation. This tally should stay at 0, though it may increment a few messages at the time of a topology change.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>control</b> <b>messages/bytes</b> <b>received</b> </dt><dd>The total number of Unicast Immediate Messaging (UIM) supervisory (non-data) messages (and bytes, second column) received by this portal.</dd></dl>
<dl class="section user"><dt><b>Duplicate</b> <b>unicast</b> <b>control</b> <b>messages/bytes</b> <b>dropped</b> </dt><dd>Supervisory UIMs dropped because they were duplicates of messages already received.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>control</b> <b>messages/bytes</b> <b>received</b> <b>with</b> <b>no</b> <b>stream</b> <b>info</b> </dt><dd>Supervisory UIMs dropped because they were from an earlier, incompatible version of UM. This tally should stay at 0; otherwise, contact Informatica Support.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>control</b> <b>messages/bytes</b> <b>received</b> <b>with</b> <b>no</b> <b>route</b> <b>to</b> <b>destination</b> </dt><dd>Supervisory UIM messages that are on a wrong path, possibly due to a route recalculation. This tally should stay at 0, though it may increment a few messages at the time of a topology change.</dd></dl>
<p><br />
 <b>Endpoint Send Statistics</b></p>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragments/bytes</b> <b>forwarded</b> </dt><dd>The total transport-based topic-related traffic forwarded to this portal from other portals in this DRO. This could include user messages, TSNIs, SRIs, etc. The first column counts the number of fragments (or whole messages for messages that were not fragmented).</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragments/bytes</b> <b>sent</b> </dt><dd>Of the transport topic traffic forwarded, this is the amount of traffic sent out to the TRD.</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>request</b> <b>fragments/bytes</b> <b>sent</b> </dt><dd>Of the messages sent, this is the amount of those that are requests.</dd></dl>
<dl class="section user"><dt><b>Duplicate</b> <b>transport</b> <b>topic</b> <b>fragments/bytes</b> <b>dropped</b> </dt><dd>Of the messages forwarded to this portal, this is the total of those that were discarded because they were duplicates of messages already received.</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragments/bytes</b> <b>dropped</b> <b>due</b> <b>to</b> <b>blocking</b> </dt><dd>Of the messages forwarded to this portal, this is the amount of those that were discarded because they were blocked from sending, and were unable to be buffered. Message rates on other portals probably exceeded the rate controller limit on this portal.</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragments/bytes</b> <b>dropped</b> <b>due</b> <b>to</b> <b>error</b> </dt><dd>Of the messages forwarded to this portal, this is the total of those that were discarded due to an application or network connection failure.</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragments/bytes</b> <b>dropped</b> <b>due</b> <b>to</b> <b>fragment</b> <b>size</b> <b>error</b> </dt><dd>Of the messages forwarded to this portal, this is the total of those that were discarded possibly because of a configuration error. If this count is not at or near 0, verify that maximum datagram size for all transports is the same throughout the network.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topic</b> <b>fragments/bytes</b> <b>forwarded</b> </dt><dd>The total number of Multicast Immediate Messaging (MIM) messages or message fragments, and bytes (second column), forwarded to this portal from other portals in this DRO.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topic</b> <b>fragments/bytes</b> <b>sent</b> </dt><dd>Of the MIM topic messages forwarded to this portal, this is the amount of traffic sent out to the TRD.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topic</b> <b>request</b> <b>fragments</b> <b>sent</b> </dt><dd>Of the MIM topic messages sent, this is the amount of those that are requests.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topic</b> <b>fragments/bytes</b> <b>dropped</b> <b>due</b> <b>to</b> <b>blocking</b> </dt><dd>Of the MIM topic messages forwarded to this portal, this is the amount of those that were discarded because they were blocked from sending, and were unable to be buffered. Message rates on other portals probably exceeded the rate controller limit on this portal.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topic</b> <b>fragments/bytes</b> <b>dropped</b> <b>due</b> <b>to</b> <b>error</b> </dt><dd>Of the MIM topic messages forwarded to this portal, those that were discarded due to an application or network connection failure.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topic</b> <b>fragments/bytes</b> <b>dropped</b> <b>due</b> <b>to</b> <b>fragment</b> <b>size</b> <b>error</b> </dt><dd>Of the MIM topic messages forwarded to this portal, those that were dropped possibly because of a configuration error. If this count is not at or near 0, verify that maximum datagram size for all transports is the same throughout the network.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topicless</b> <b>fragments/bytes</b> <b>forwarded</b> </dt><dd>The total number of Multicast Immediate Messaging (MIM) messages or message fragments, and bytes (second column), with null topics, forwarded to this portal from other portals in this DRO.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topicless</b> <b>fragments/bytes</b> <b>sent</b> </dt><dd>Of the MIM topicless messages forwarded to this portal, this is the amount of traffic sent out to the TRD.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topicless</b> <b>request</b> <b>fragments</b> <b>sent</b> </dt><dd>Of the MIM topicless messages sent, this is the amount of those that are requests.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topicless</b> <b>fragments/bytes</b> <b>dropped</b> <b>due</b> <b>to</b> <b>blocking</b> </dt><dd>Of the MIM topicless messages forwarded to this portal, this is the amount of those that were discarded because they were blocked from sending, and were unable to be buffered. Message rates on other portals probably exceeded the rate controller limit on this portal.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topicless</b> <b>fragments/bytes</b> <b>dropped</b> <b>due</b> <b>to</b> <b>error</b> </dt><dd>Of the MIM topicless messages forwarded to this portal, those that were discarded due to an application or network connection failure.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topicless</b> <b>fragments/bytes</b> <b>dropped</b> <b>due</b> <b>to</b> <b>fragment</b> <b>size</b> <b>error</b> </dt><dd>Of the MIM topicless messages forwarded to this portal, those that were dropped possibly because of a configuration error. If this count is not at or near 0, verify that maximum datagram size for all transports is the same throughout the network.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>messages/bytes</b> <b>forwarded</b> </dt><dd>The total number of Unicast Immediate Messaging (UIM) messages (and bytes, second column), both control and containing user data, forwarded to this portal.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>messages/bytes</b> <b>sent</b> </dt><dd>Of the UIM data messages forwarded to this portal, this is the amount of traffic sent out to the TRD.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>messages/bytes</b> <b>dropped</b> <b>due</b> <b>to</b> <b>error</b> </dt><dd>Of the UIM data messages forwarded to this portal, those that were discarded due to an application or network connection failure.</dd></dl>
<dl class="section user"><dt><b>Current/maximum</b> <b>data</b> <b>bytes</b> <b>enqueued</b> <b></b>(limit: <b>n</b>)</dt><dd>For bytes in this portal's send buffer (due to a blocking send), the first column is a snapshot of the current amount, and the second column is a high-water mark. The displayed limit (n) is the configuration value for option &lt;max-queue&gt;.</dd></dl>
<p><br />
 </p>
<h3><a class="anchor" id="peerportalpage"></a>
Peer Portal Page&nbsp;&nbsp;<small><a href="#peerportalpage">&lt;-</a></small></h3>
<p>This page allows you to see Receive and Send statistics for the selected peer portal. Click on any of the links at the top of the page to review configuration option values for the portal's UM topic resolution domain.</p>
<p>The peer portal page displays the following statistics:</p>
<p><br />
 <b>Peer Portal <em>name</em></b></p>
<dl class="section user"><dt><b>Portal</b> <b>Cost</b> </dt><dd>The cost value assigned to this portal.</dd></dl>
<dl class="section user"><dt><b>Interest</b> </dt><dd>Totals (listed below) for topics and patterns in this portal's interest list that originated from receivers beyond and downstream from the immediately adjacent DRO.</dd></dl>
<dl class="section user"><dt><b>Topics</b> </dt><dd>Of the interest total, the number of topics.</dd></dl>
<dl class="section user"><dt><b>PCRE</b> <b>patterns</b> </dt><dd>Of the interest total, the number of wildcard patterns, using PCRE pattern matching.</dd></dl>
<dl class="section user"><dt><b>REGEX</b> <b>patterns</b> </dt><dd>Of the interest total, the number of wildcard patterns, using REGEX pattern matching.</dd></dl>
<dl class="section user"><dt><b>Proxy</b> <b>Receivers</b> </dt><dd>The number of proxy receivers active in this portal.</dd></dl>
<dl class="section user"><dt><b>Receiver</b> <b>topics</b> </dt><dd>All topics in which the other portals in the DRO have detected current interest and summarily propagated to this portal.</dd></dl>
<dl class="section user"><dt><b>Receiver</b> <b>PCRE</b> <b>patterns</b> </dt><dd>All wildcard patterns, using PCRE pattern matching, in which the other portals in the DRO have detected current interest and summarily propagated to this portal.</dd></dl>
<dl class="section user"><dt><b>Receiver</b> <b>REGEX</b> <b>patterns</b> </dt><dd>All wildcard patterns, using REGEX pattern matching, in which the other portals in the DRO have detected current interest and summarily propagated to this portal.</dd></dl>
<dl class="section user"><dt><b>Proxy</b> <b>Sources</b> </dt><dd>The number of proxy sources active in this portal.</dd></dl>
<p><br />
 <b>Peer Receive Statistics</b></p>
<dl class="section user"><dt><b>Data</b> <b>messages/bytes</b> <b>received</b> </dt><dd>The total of messages containing data received at this portal. The first column counts the number of fragments (or whole messages for messages that were not fragmented).</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragment</b> <b>data</b> <b>messages/bytes</b> <b>received</b> </dt><dd>The total of user-data messages received on any topic resolved through this portal. The first column counts the number of fragments (or whole messages for messages that were not fragmented).</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragment</b> <b>data</b> <b>messages/bytes</b> <b>received</b> <b>with</b> <b>unknown</b> <b>source</b> </dt><dd>Topic messages received whose source this DRO has not seen before.</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>request</b> <b>fragment</b> <b>data</b> <b>messages/bytes</b> <b>received</b> </dt><dd>These are topic messages received that are request messages, i.e., messages send via lbm_send_request*() rather than lbm_src_send*().</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>request</b> <b>fragment</b> <b>data</b> <b>messages/bytes</b> <b>received</b> <b>with</b> <b>unknown</b> <b>source</b> </dt><dd>Of the request messages received, the topic messages received whose source this DRO has not seen before.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topic</b> <b>fragments/bytes</b> <b>received</b> </dt><dd>The total number of Multicast Immediate Messaging (MIM) messages or message fragments, and bytes (second column), that have a topic, received by all proxy receivers at this portal.</dd></dl>
<p>Immediate topic request fragments/bytes received Of the MIM topic messages received, this is the total of those that are requests.</p>
<dl class="section user"><dt><b>Immediate</b> <b>topicless</b> <b>fragments/bytes</b> <b>received</b> </dt><dd>The total number of MIM messages or message fragments, and bytes (second column), with null topics, received by all proxy receivers at this portal.</dd></dl>
<dl class="section user"><dt><b>Immediate</b> <b>topicless</b> <b>request</b> <b>fragments/bytes</b> <b>received</b> </dt><dd>Of the MIM topicless messages received, this is the total of those that are requests.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>data</b> <b>messages/bytes</b> <b>received</b> </dt><dd>The total number of Unicast Immediate Messaging (UIM) messages (and bytes, second column) containing user data, received by this portal.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>data</b> <b>messages/bytes</b> <b>received</b> <b>with</b> <b>no</b> <b>stream</b> <b>information</b> </dt><dd>UIM data messages discarded because they were from an earlier, incompatible version of UM. This tally should stay at 0; otherwise, contact Informatica Support.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>data</b> <b>messages/bytes</b> <b>received</b> <b>with</b> <b>no</b> <b>route</b> <b>to</b> <b>destination</b> </dt><dd>UIM data messages that are on a wrong path, possibly due to a route recalculation. This tally should stay at 0, though it may increment a few messages at the time of a topology change.</dd></dl>
<dl class="section user"><dt><b>Control</b> <b>messages/bytes</b> <b>received</b> </dt><dd>The total of supervisory messages (containing no data) received at this portal.</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>control</b> <b>messages/bytes</b> <b>received</b> </dt><dd>Of the control messages received, those that are transport/topic based (such as TSNIs, SRIs., etc.).</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>control</b> <b>messages/bytes</b> <b>received</b> <b>with</b> <b>unknown</b> <b>source</b> </dt><dd>Of the transport/topic control messages received whose source this DRO has not seen before.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>control</b> <b>messages/bytes</b> <b>received</b> </dt><dd>The total number of Unicast Immediate Messaging (UIM) supervisory (non-data) messages (and bytes, second column) received by this portal.</dd></dl>
<dl class="section user"><dt><b>Retransmission</b> <b>requests/bytes</b> <b>received</b> </dt><dd>Supervisory UIMs that are requests for retransmission of lost (or Late Join) messages.</dd></dl>
<dl class="section user"><dt><b>Control</b> <b>messages/bytes</b> <b>received</b> <b>with</b> <b>no</b> <b>stream</b> <b>info</b> </dt><dd>Supervisory UIMs discarded because they were from an earlier, incompatible version of UM. This tally should stay at 0; otherwise, contact Informatica Support.</dd></dl>
<dl class="section user"><dt><b>Control</b> <b>messages/bytes</b> <b>received</b> <b>with</b> <b>no</b> <b>route</b> <b>to</b> <b>destination</b> </dt><dd>Supervisory UIM messages that are on a wrong path, possibly due to a route recalculation.</dd></dl>
<dl class="section user"><dt><b>Gateway</b> <b>control</b> <b>messages/bytes</b> <b>received</b> </dt><dd>The total of DRO-only, peer-to-peer supervisory messages received at this portal.</dd></dl>
<dl class="section user"><dt><b>Unhandled</b> <b>control</b> <b>messages/bytes</b> <b>received</b> </dt><dd>Supervisory UIMs discarded because, though they are well-formed, they have no valid action request. This tally should stay at 0; otherwise, contact Informatica Support.</dd></dl>
<p><br />
 <b>Peer Send Statistics</b></p>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragments/bytes</b> <b>forwarded</b> </dt><dd>The total transport-based topic-related traffic forwarded to this portal from other portals in this DRO. This could include user messages, TSNIs, SRIs., etc. The first column counts the number of fragments (or whole messages for messages that were not fragmented).</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragments/bytes</b> <b>sent</b> </dt><dd>Of transport topic messages forwarded to this portal, the amount of traffic sent to the adjacent DRO.</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>request</b> <b>fragments/bytes</b> <b>sent</b> </dt><dd>Of transport topic messages sent, those that were request messages.</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragments/bytes</b> <b>dropped</b> <b></b>(duplicate)</dt><dd>Of transport topic messages forwarded to this portal, messages discarded because they were duplicates of messages already received.</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragments/bytes</b> <b>dropped</b> <b></b>(blocking)</dt><dd>Of transport topic messages forwarded to this portal, this is the amount of those that were discarded because they were blocked from sending, probably due to TCP flow control, and were unable to be buffered. The DRO's XML configuration file may need to be adjusted.</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragments/bytes</b> <b>dropped</b> <b></b>(not <b>operational</b>)</dt><dd>Of transport topic messages forwarded to this portal, messages discarded because the peer link is down.</dd></dl>
<dl class="section user"><dt><b>Transport</b> <b>topic</b> <b>fragments/bytes</b> <b>dropped</b> <b></b>(queue <b>failure</b>)</dt><dd>Of transport topic messages forwarded to this portal, messages discarded due to a memory allocation failure.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>messages/bytes</b> <b>forwarded</b> </dt><dd>The total number of supervisory (no data payloads) Unicast Immediate Messaging (UIM) messages (and bytes, second column) forwarded to this portal from other portals in this DRO. These messages can be either control (supervisory) messages or contain user data.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>messages/bytes</b> <b>sent</b> </dt><dd>Of the UIMs forwarded to this portal, the amount of traffic sent to the adjacent DRO.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>messages/bytes</b> <b>dropped</b> <b></b>(blocking)</dt><dd>Of the UIMs forwarded to this portal, this is the amount of those that were discarded because they were blocked from sending, probably due to TCP flow control, and were unable to be buffered. The DRO's XML configuration file may need to be adjusted.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>messages/bytes</b> <b>dropped</b> <b></b>(not <b>operational</b>)</dt><dd>Of the UIMs forwarded to this portal, messages discarded because the peer link is down.</dd></dl>
<dl class="section user"><dt><b>Unicast</b> <b>messages/bytes</b> <b>dropped</b> <b></b>(queue <b>failure</b>)</dt><dd>Of the UIMs forwarded to this portal, messages discarded due to a memory allocation failure.</dd></dl>
<dl class="section user"><dt><b>Gateway</b> <b>control</b> <b>messages/bytes</b> <b>sent</b> </dt><dd>The total number of DRO supervisory messages (and bytes, second column), generated at this portal.</dd></dl>
<p>Gateway control messages/bytes sent Of the DRO supervisory messages generated, the number sent to the adjacent DRO.</p>
<p>Gateway control messages/bytes dropped (blocking) The amount of DRO supervisory messages that were discarded because they were blocked from sending, probably due to TCP flow control, and were unable to be buffered. The DRO's XML configuration file may need to be adjusted.</p>
<dl class="section user"><dt><b>Gateway</b> <b>control</b> <b>messages/bytes</b> <b>dropped</b> <b></b>(not <b>operational</b>)</dt><dd>The amount of DRO supervisory messages that were discarded because the peer link was down.</dd></dl>
<dl class="section user"><dt><b>Gateway</b> <b>control</b> <b>messages/bytes</b> <b>dropped</b> <b></b>(queue <b>failure</b>)</dt><dd>The amount of DRO supervisory messages that were discarded due to a memory allocation failure.</dd></dl>
<dl class="section user"><dt><b>Batches</b> </dt><dd>The number of times messages were batched.</dd></dl>
<dl class="section user"><dt><b>Minimum</b> <b>messages/bytes</b> <b>per</b> <b>batch</b> </dt><dd>The lowest recorded number of messages in a batch, and the number of bytes in that batch.</dd></dl>
<dl class="section user"><dt><b>Average</b> <b>messages/bytes</b> <b>per</b> <b>batch</b> </dt><dd>The average number of messages in a batch, and the number of bytes in that average batch.</dd></dl>
<dl class="section user"><dt><b>Maximum</b> <b>messages/bytes</b> <b>per</b> <b>batch</b> </dt><dd>The highest recorded number of messages in a batch, and the number of bytes in that batch.</dd></dl>
<dl class="section user"><dt><b>Current/maximum</b> <b>data</b> <b>bytes</b> <b>enqueued</b> </dt><dd>For bytes in this portal's send buffer (due to a blocking send), the first column is a snapshot of the current amount, and the second column is a high-water mark. The displayed limit is the configuration value for option <code>&lt;max-queue&gt;</code>.</dd></dl>
<dl class="section user"><dt><b>Keepalive/RTT</b> <b>samples</b> </dt><dd>The number of keepalive messages that have been set to the other DRO's portal and responded to.</dd></dl>
<dl class="section user"><dt><b>Minimum</b> <b>RTT</b> <b></b>(microseconds)</dt><dd>Of the keepalives sent and responded to, the lowest recorded round-trip time.</dd></dl>
<dl class="section user"><dt><b>Mean</b> <b>RTT</b> <b></b>(microseconds)</dt><dd>Of the keepalives sent and responded to, the mean recorded round-trip time.</dd></dl>
<dl class="section user"><dt><b>Maximum</b> <b>RTT</b> <b></b>(microseconds)</dt><dd>Of the keepalives sent and responded to, the highest recorded round-trip time.</dd></dl>
<dl class="section user"><dt><b>Last</b> <b>keepalive</b> <b>responded</b> <b>to</b> </dt><dd>The send timestamp (date and time) of the last sent keepalive message that was responded to.</dd></dl>
<p><br />
 </p>
<h3><a class="anchor" id="topologyinfopage"></a>
Topology Info Page&nbsp;&nbsp;<small><a href="#topologyinfopage">&lt;-</a></small></h3>
<p>This page allows you to see DRO network connectivity information from the perspective of this DRO. The <em>Other DROs</em> section (below) provides information in the same format as is used for the local DRO.</p>
<dl class="section user"><dt><b>Local</b> <b>UM</b> <b>Router</b> <b>Name</b> </dt><dd>The DRO name as assigned via configuration.</dd></dl>
<dl class="section user"><dt><b>Local</b> <b>UM</b> <b>Router</b> <b>ID</b> </dt><dd>A unique value that the DRO assigns to itself automatically.</dd></dl>
<dl class="section user"><dt><b>Self</b> <b>Version</b> </dt><dd>A configuration version for this DRO, as seen collectively by the DRO network.</dd></dl>
<dl class="section user"><dt><b>Topology</b> <b>Signature</b> </dt><dd>An identifier for the "map" of this DRO network's routes. This value should be the same for all DROs.</dd></dl>
<dl class="section user"><dt><b>Last</b> <b>recalc</b> <b>duration</b> </dt><dd>The amount of time in seconds that it took this DRO to perform its most recent route recalculation.</dd></dl>
<dl class="section user"><dt><b>Graph</b> <b>Version</b> </dt><dd>The number of times this DRO has updated its view of the topology.</dd></dl>
<dl class="section user"><dt><b>UM</b> <b>Router</b> <b>Count</b> </dt><dd>The number of DROs in this DRO network.</dd></dl>
<dl class="section user"><dt><b>Topic</b> <b>Resolution</b> <b>Domain</b> <b>Count</b> </dt><dd>The number of TRDs in this DRO network.</dd></dl>
<p><br />
 <b>Portal (endpoint or peer)</b></p>
<p>This display is repeated for each portal of this DRO.</p>
<dl class="section user"><dt><b>Portal</b> <b>Name</b> </dt><dd>The portal's name as assigned via configuration.</dd></dl>
<dl class="section user"><dt><b>Adjacent</b> <b>Domain/UM</b> <b>Router</b> <b>ID</b> </dt><dd>For an endpoint portal, this is the configured &lt;domain-id&gt; for the connected TRD. For a peer portal, this is an automatically assigned unique identifier for the connected DRO.</dd></dl>
<dl class="section user"><dt><b>Cost</b> </dt><dd>This portal's configured cost.</dd></dl>
<dl class="section user"><dt><b>Last</b> <b>interest</b> <b>recalc</b> <b>duration</b> </dt><dd>The amount of time in seconds that it took this DRO to perform a recalculation that resulted in an update to the interest status for this portal.</dd></dl>
<dl class="section user"><dt><b>Last</b> <b>proxy</b> <b>receiver</b> <b>recalc</b> <b>duration</b> </dt><dd>The amount of time in seconds that it took this DRO to perform recalculation that resulted in an update to the status of proxy receivers (create, maintain, or destroy) for this portal.</dd></dl>
<p><br />
 <b>Other DROs</b></p>
<p>This display is repeated for each other DRO in this DRO's network.</p>
<dl class="section user"><dt><b>UM</b> <b>Router</b> <b>Name</b> </dt><dd>The DRO name as assigned via configuration.</dd></dl>
<dl class="section user"><dt><b>UM</b> <b>Router</b> <b>ID</b> </dt><dd>A unique value that the DRO assigns to itself automatically.</dd></dl>
<dl class="section user"><dt><b>Version</b> </dt><dd>A configuration version for the DRO, as seen collectively by the DRO network.</dd></dl>
<dl class="section user"><dt><b>Topology</b> <b>Signature</b> </dt><dd>An identifier for the "map" of this DRO network's routes. This value should be the same for all DROs.</dd></dl>
<dl class="section user"><dt><b>Last</b> <b>Activity</b> <b>n</b> <b>seconds</b> <b>ago</b> </dt><dd>How long since the last time this local DRO received a route info packet from the designated "other" DRO.</dd></dl>
<dl class="section user"><dt><b>Adjacent</b> <b>Domain</b> <b>ID</b> </dt><dd>The configured ID of one of this "other" DRO's connected TRD, plus the cost assigned to the associate endpoint portal. If there are more than one endpoint portals in the DRO, this line is repeated for each.</dd></dl>
<dl class="section user"><dt><b>Adjacent</b> <b>UM</b> <b>Router</b> <b>ID</b> </dt><dd>The automatically assigned ID of one of this "other" DRO's connected DRO, plus the cost assigned to the associate peer portal. If there are more than one peer portals in the DRO, this line is repeated for each.</dd></dl>
<p><br />
 </p>
<h3><a class="anchor" id="pathinfo"></a>
Path Info&nbsp;&nbsp;<small><a href="#pathinfo">&lt;-</a></small></h3>
<p>The Path Info page lets you query and display a hop path that messages will take between any two TRDs that you enter into the Domain ID 1 and Domain ID 2 text boxes. Fill in the boxes and click the Calculate Shortest Path button, and you see the following fields:</p>
<dl class="section user"><dt><b>Hop</b> <b>Count</b> </dt><dd>The number of hops from none node to the next along the displayed route, where a node can be either a DRO or a TRD.</dd></dl>
<dl class="section user"><dt><b>Aggregate</b> <b>Cost</b> </dt><dd>A sum of the cost values of all portals along the displayed path.</dd></dl>
<dl class="section user"><dt><b>Path</b> </dt><dd>A display of the DRO and TRD hops listed in route order from the starting TRD to the ending TRD.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="umrouterlogmessages"></a>
DRO Log Messages&nbsp;&nbsp;<small><a href="#umrouterlogmessages">&lt;-</a></small></h2>
<p>The DRO daemon generates log messages that are used to monitor its health and operation. You can configure these to be directed to "console" (standard output), "syslog", or a specified log "file", via the <a class="el" href="index.html#droelementlog">&lt;log&gt;</a> configuration element. Normally "console" is only used during testing, as a persistent log file is preferred for production use. The DRO does not over-write log files on startup, but instead appends them.</p>
<p><br />
 </p>
<h3><a class="anchor" id="umrouterrollinglogs"></a>
DRO Rolling Logs&nbsp;&nbsp;<small><a href="#umrouterrollinglogs">&lt;-</a></small></h3>
<p>To prevent unbounded disk file growth, the DRO supports rolling log files. When the log file rolls, the file is renamed according to the model: <br />
&#160;&#160;<em>CONFIGUREDNAME</em><code>_</code><em>PID</em><code>.</code><em>DATE</em><code>.</code><em>SEQNUM</em> <br />
where: </p><ul>
<li>
<em>CONFIGUREDNAME</em> - Root name of log file, as configured by user. </li>
<li>
<em>PID</em> - Process ID of the DRO daemon process. </li>
<li>
<em>DATE</em> - Date that the log file was rolled, in YYYY-MM-DD format. </li>
<li>
<em>SEQNUM</em> - Sequence number, starting at 1 when the process starts, and incrementing each time the log file rolls. </li>
</ul>
<p>For example: <code>umrouterlog_9867.2017-08-20.2</code></p>
<p>The user can configure when the log file is eligible to roll over by either or both of two criteria: size and frequency. The size criterion is in millions of bytes. The frequency criterion can be daily or hourly. Once one or both criteria are met, the next message written to the log will trigger a roll operation. These criteria are supplied as attributes to the <a class="el" href="index.html#droelementlog">&lt;log&gt;</a> configuration element.</p>
<p>If both criteria are supplied, then the first one to be reached will trigger a roll. For example, consider the setting: </p><div class="fragment"><div class="line">&lt;log type=<span class="stringliteral">&quot;file&quot;</span> size=<span class="stringliteral">&quot;23&quot;</span> frequency=<span class="stringliteral">&quot;daily&quot;</span>&gt;dro.log&lt;/log&gt;</div></div><!-- fragment --><p> Let say that the log file grows at 1 million bytes per hour. At 11:00 pm, the log file will reach 23 million bytes, and will roll. Then, at 12:00 midnight, the log file will roll again, even though it is only 1 million bytes in size.</p>
<dl class="section note"><dt>Note</dt><dd>The rolling logs cannot be configured to automatically overwrite old logs. Thus, the amount of disk space consumed by log files will grow without bound. The user must implement a desired process of archiving or deleting older log files according to the user's preference.</dd></dl>
<p><br />
 </p>
<h3><a class="anchor" id="importantumrouterlogmessages"></a>
Important DRO Log Messages&nbsp;&nbsp;<small><a href="#importantumrouterlogmessages">&lt;-</a></small></h3>
<p><b>Connection Failure Messages</b></p>
<div class="fragment"><div class="line">peer portal [name] failed to connect to peer at [IP:port] via [interface] [err]: reason</div><div class="line">peer portal [name] failed to accept connection (accept) [err]: reason</div></div><!-- fragment --><p><b>Lost Connection Messages</b></p>
<div class="fragment"><div class="line">peer portal [name] lost connection to peer at [IP:port] via [interface]</div><div class="line">peer portal [name] connection destroyed due to socket failure</div><div class="line">peer portal [name] detected dropped inbound connection (read) [err]: reason</div><div class="line">peer portal [name] detected dropped inbound connection (zero-len read)</div></div><!-- fragment --><p><b>Endpoint Messages</b></p>
<p>If a UMP store is adjacent to the DRO, and the DRO has been restarted, you typically see messages of the form:</p>
<div class="fragment"><div class="line">endpoint portal [name] has no forwarding entry <span class="keywordflow">for</span> destination ctxinst [string], dropping msg (lbmc cntl ume)</div></div><!-- fragment --><p>These messages are normal, and cease when the DRO has established the forwarding information for the given context.</p>
<p><b>Peer Messages</b></p>
<div class="fragment"><div class="line">Acceptor: peer portal [name] received connection from [IP:port]</div><div class="line">Initiator: peer portal [name] connected to [IP:port ]</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="umroutertransportstats"></a>
DRO Transport Stats&nbsp;&nbsp;<small><a href="#umroutertransportstats">&lt;-</a></small></h2>
<p>Using the <code>&lt;monitor&gt;</code> element in a DRO's XML configuration file and the UMS Monitoring feature, you can monitor the transport activity between the DRO and its Topic Resolution Domain. The configuration also provides Context and Event Queue statistics. The statistics output identifies individual portals by name.</p>
<p><br />
 </p><hr/>
<h1><a class="anchor" id="umrouterglossary"></a>
DRO Glossary&nbsp;&nbsp;<small><a href="#umrouterglossary">&lt;-</a></small></h1>
<dl class="section user"><dt><b>Access</b> <b>Control</b> <b>List</b> <b></b>(ACL)</dt><dd>A portal configuration you can use to filter out messages based on a variety of criteria.</dd></dl>
<dl class="section user"><dt><b>forwarding</b> <b>cost</b> </dt><dd>A value assigned to a portal to help determine best-path routing selection.</dd></dl>
<dl class="section user"><dt><b>UM</b> <b>Router</b> <b>keepalive</b> </dt><dd>Control messages exchanged between DROs to confirm that DROs are still running.</dd></dl>
<dl class="section user"><dt><b>Interest</b> <b>Message</b> </dt><dd>Control messages exchanged between DROs to confirm that DROs are still running.</dd></dl>
<dl class="section user"><dt><b>Originating</b> <b>Transport</b> <b>ID</b> <b></b>(OTID)</dt><dd>Unique identifier of a message's transport session at the originating source.</dd></dl>
<dl class="section user"><dt><b>portal</b> </dt><dd>A TCP/IP interface (socket) on a DRO through which the DRO passes data. Endpoint portals interface TRDs, and peer portals interface peer portals of other DROs.</dd></dl>
<dl class="section user"><dt><b>Topic</b> <b>Resolution</b> <b>Domain</b> <b></b>(TRD)</dt><dd>The realm of UDP multicast or unicast connectivity that allows UM topic resolution to occur. Blocking of this UDP connectivity (for example, by a firewall or a restrictive WAN link) defines a TRD's boundaries. Contexts within a TRD must have the same topic resolution configuration option settings (multicast group IP address/port and resolver interface full or CIDR address).</dd></dl>
<dl class="section user"><dt><b>Use</b> <b>Query</b> </dt><dd>A periodic control message distributed to all members of a TRD to verify the continued presence of receivers for a given topic or pattern.</dd></dl>
<dl class="section user"><dt><b>web</b> <b>monitor</b> </dt><dd>A web-based real-time DRO statistics and configuration display.</dd></dl>
<p><br />
 </p><hr/>
<h1><a class="anchor" id="comparisontopre60umgateway"></a>
Comparison to Pre-6.0 UM Gateway&nbsp;&nbsp;<small><a href="#comparisontopre60umgateway">&lt;-</a></small></h1>
<p>With the release of Ultra Messaging 6.0, the UM Gateway feature is discontinued and replaced by the Ultra Messaging Dynamic Routing Option (also referred to as the DRO).</p>
<p>The DRO's primary improvement over the UM Gateway is its ability to intelligently select efficient traffic routes from multiple path choices on a dynamic topic-by-topic basis.</p>
<dl class="section note"><dt>Note</dt><dd>This release of the DRO is not backward compatible with earlier versions of the UM Gateway in the sense that you cannot have DROs and UM Gateways in the same network.</dd></dl>
<p><br />
 </p>
<h2><a class="anchor" id="addedfeaturesanddifferences"></a>
Added Features and Differences&nbsp;&nbsp;<small><a href="#addedfeaturesanddifferences">&lt;-</a></small></h2>
<p>In addition to routing functionality, the following are features of the DRO that were not provided in the UM Gateway:</p>
<ul>
<li>
Multi-path, ring, or mesh topologies </li>
<li>
Interoperability with MIM and Persistence (see UM Feature Compatibility for complete feature interoperability information) </li>
<li>
Ability to restart the DRO within a transport's activity timeout period </li>
<li>
Reduced topic resolution traffic via more efficient use of Use Queries and Use Query Responses </li>
<li>
The default value for the portal <code>&lt;cost&gt;</code> is 1 (one). 0 (zero) is not a valid cost value. </li>
<li>
The DRO daemon (tnwgd) logs version information on startup. </li>
<li>
Compression and/or encryption may now be applied to peer links. </li>
</ul>
<p>The following configuration options exist in the DRO but not the UM Gateway. See <a class="el" href="index.html#xmlconfigurationreference">XML Configuration Reference</a> for more information on these options.</p>
<ul>
<li>
<code>&lt;name&gt;</code> (as a <code>&lt;daemon&gt;</code> child) </li>
<li>
<code>&lt;route-info&gt;</code> </li>
<li>
<code>&lt;route-recalculation&gt;</code> </li>
<li>
<code>&lt;source-deletion-delay&gt;</code> </li>
<li>
<code>&lt;max-queue&gt;</code> </li>
<li>
<code>&lt;remote-topic-interest&gt;</code> </li>
<li>
<code>&lt;remote-pattern-interest&gt;</code> </li>
<li>
<code>&lt;rate-limit&gt;</code> </li>
<li>
<code>&lt;domain-route&gt;</code> </li>
<li>
<code>&lt;remote-topic&gt;</code> </li>
<li>
<code>&lt;remote-pattern&gt;</code> </li>
<li>
<code>&lt;sourcemap&gt;</code> </li>
<li>
<code>&lt;compression&gt;</code> </li>
<li>
<code>&lt;tls&gt;</code> </li>
</ul>
<p><br />
<br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
