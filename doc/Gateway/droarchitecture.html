<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Dynamic Routing Guide: DRO Architecture</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dynamic Routing Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('droarchitecture.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">DRO Architecture </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><br />
 </p>
<h1><a class="anchor" id="umrouterportals"></a>
UM Router Portals</h1>
<p>The UM Router uses interfaces, called portals, through which to pass data. A UM Router consists of two or more bidirectional portals that may be one of two types:</p>
<ul>
<li>
An endpoint portal, which communicates directly to a UM topic resolution domain (TRD; see Topic Resolution Domains). </li>
<li>
A peer portal, which communicates via TCP with another peer portal (of another UM Router), allowing tunneling between UM Routers. Two peer portals connected to each other are referred to as companion peers, and utilize TCP connections for all data and control traffic (UDP is not supported for this). Compression and encryption can be applied to peer links. </li>
</ul>
<p>The figure below shows a simple UM Router use case, where two UM Routers bridge an ISP to connect two TRDs.</p>
<div class="image">
<img src="portals.png" alt="portals.png"/>
</div>
 <p>You configure portals in the UM Router's XML configuration file, specifying the portal's name, cost, UM Configuration, Access Control Lists and other attributes. See <a class="el" href="xmlconfigurationreference.html">XML Configuration Reference</a>.</p>
<p><br />
 </p>
<h1><a class="anchor" id="topicresolutiondomains"></a>
Topic Resolution Domains</h1>
<p>Since topic resolution uses UDP, sources and receivers must have UDP connectivity to each other. When they do, we consider them to be in the same topic resolution domain (TRD). More specifically, UM contexts must satisfy the following two requirements to belong to the same topic resolution domain.</p>
<ul>
<li>
The contexts must use the same topic resolution UM configuration (i.e., resolver_* options are the same). </li>
<li>
Contexts can communicate using the protocols required for both message transport and topic resolution traffic. </li>
</ul>
<p>For example, two contexts on separate machines in the same LAN are not in the same topic resolution domain if they use different resolver addresses. See Multicast Resolver Network Options. A topic resolution domain can span a WAN if the UM contexts on each side of a firewall use the same UM configuration and the firewall allows UDP traffic (multicast or unicast) to pass.</p>
<p>Each endpoint portal must identify its associated topic resolution domain with a domain-id the UM Router's XML configuration file, as in the example below. All portals in the same TRD must have the same domain-id, and different TRDs networked together via UM Routers must have domain-ids unique to each other.</p>
<pre class="fragment">  &lt;portals&gt;
    &lt;endpoint&gt;
      &lt;name&gt;LAN100&lt;/name&gt;
      &lt;domain-id&gt;100&lt;/domain-id&gt;
      &lt;lbm-config&gt;lan100.cfg&lt;/lbm-config&gt;
    &lt;/endpoint&gt;
    &lt;endpoint&gt;
      &lt;name&gt;LAN200&lt;/name&gt;
      &lt;domain-id&gt;200&lt;/domain-id&gt;
      &lt;lbm-config&gt;lan200.cfg&lt;/lbm-config&gt;
    &lt;/endpoint&gt;
  &lt;/portals&gt;
</pre><p><br />
 </p>
<h1><a class="anchor" id="proxysourcesandproxyreceivers"></a>
Proxy Sources and Proxy Receivers</h1>
<p>To resolve a topic across a UM Router (described in <a class="el" href="umrouterconcepts.html#basicumrouteroperation">Basic UM Router Operation</a>), the UM Router creates, within portals, proxy sources and proxy receivers (shown in the figure below by their dashed lines). These proxies behave like their UM counterparts; they resolve topics on the TRDs like normal sources and receivers, and the UM Router internally passes data from one portal to the other. However unlike regular sources, proxy sources do not have retransmission retention buffers normally used for Late Join or OTR.</p>
<div class="image">
<img src="proxies.png" alt="proxies.png"/>
</div>
 <p>Portals exist while the UM Router is running, however, the UM Router creates proxy sources and receivers during topic resolution and deletes them when the topic is retired.</p>
<dl class="section note"><dt>Note</dt><dd>The proxy sources created by the UM Router are unrelated to proxy sources created by the UMP persistent store.</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="routing"></a>
Routing</h1>
<p>In multiple-UM Router environments where more than one UM Router can provide possible messaging pathways, the UM Routers are able to cooperatively determine and establish optimal routes. Also, the UM Router network is able to detect link or other UM Router outages and automatically reroute traffic as needed. See <a class="el" href="umrouterconcepts.html#routingtopologies">Routing Topologies</a> for more information. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
</body>
</html>
